/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 Chen, Yi-Cyuan 2014-2017
 @license MIT
 Gainsight PX Agent Wrapper
     Agent Version:  0.56.3
     Installed:      2025-11-14 11:07

 @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
'use strict';function sonatypeStartGainsightPx(){!function(E){function b(y){if(c[y])return c[y].exports;var q=c[y]={i:y,l:!1,exports:{}};return E[y].call(q.exports,q,q.exports,b),q.l=!0,q.exports}var c={};b.m=E;b.c=c;b.i=function(y){return y};b.d=function(y,q,w){b.o(y,q)||Object.defineProperty(y,q,{configurable:!1,enumerable:!0,get:w})};b.n=function(y){var q=y&&y.__esModule?function(){return y.default}:function(){return y};return b.d(q,"a",q),q};b.o=function(y,q){return Object.prototype.hasOwnProperty.call(y,
q)};b.p="";b(b.s=437)}([function(E,b,c){function y(){return(0,M.getConfig)("scrollToArea")||"center"}function q(){return window.location}function w(A,T,K){var da=A[T];K&&(K=void 0,{}.hasOwnProperty.call(A,"Zone")?K=A:{}.hasOwnProperty.call(window,"Zone")&&(K=window),K)&&(da=A[K.Zone.__symbol__(T)]||A[T]);return da}function v(A,T){return(T||(0,M.getConfig)("stripSafeUrlProtocol"))&&(0===A.indexOf("http://")?A=A.substring(7):0===A.indexOf("https://")&&(A=A.substring(8))),0===A.indexOf("www.")&&(A=A.substring("www.")),
A.endsWith("/")&&(A=A.substring(0,A.length-1)),A}function x(A,T,K){var da=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],fa=w(A,"addEventListener",(0,M.getConfig)("angularAddEventListener"));if(fa)fa.call(A,T,K,da);else{if(!A.attachEvent)return!1;A.attachEvent("on"+T,K)}return!0}function l(A,T,K){var da=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],fa=w(A,"removeEventListener",(0,M.getConfig)("angularAddEventListener"));fa?fa.call(A,T,K,da):A.detachEvent&&A.detachEvent("on"+
T,K)}function p(A){return-1<[null,void 0].indexOf(A)}function e(A){return"number"==typeof A}function n(A){return"boolean"==typeof A}function d(A,T,K){return K||=[],K.push(A+(p(T)||""===T?"":"\x3d"+encodeURIComponent(T))),K}function f(A,T){for(var K in A)A.hasOwnProperty(K)&&(T=d(K,A[K],T));return T}function m(A){return void 0!==A&&null!=A&&"[object Object]"==Object.prototype.toString.call(A)}function h(A){return A.getBoundingClientRect().top+A.offsetHeight/2}function g(A){if(!A)return!1;var T=A.getBoundingClientRect(),
K=T.left+A.offsetWidth/2;T=T.top+A.offsetHeight/2;var da=(0,M.getBody)();var fa=window.getComputedStyle(da);da=fa.getPropertyValue("margin-top");da=da.substring(0,da.length-2);da=Number(da);var Ca=fa.getPropertyValue("margin-bottom");fa=(Ca=Ca.substring(0,Ca.length-2),Number(Ca)+da);da=(window.innerHeight-fa)/2;A=h(A);return!(10>Math.abs(da-A))||0>K||K>Math.min(document.documentElement.clientWidth,window.innerWidth)||0>T||T>Math.min(document.documentElement.clientHeight,window.innerHeight)}function k(A){return A&&
("string"==typeof A||A instanceof String)}function t(A){return-1<["body","#document","frameset","html"].indexOf(A.nodeName.toLowerCase())}function u(A){return A===document||-1<["body","frameset","html"].indexOf(A.tagName.toLowerCase())}function z(A,T){A=A.split("\x26");for(var K=0;K<A.length;K++){var da=A[K].split("\x3d");da=ba(da,2);var fa=da[1];if(da[0]===T)return fa||null}return null}function C(A,T,K){try{if(A){var da=A.getBoundingClientRect(),fa=(window.innerHeight-da.height)/2,Ca=Math.max((0,M.getBody)().scrollHeight,
(0,M.getBody)().offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),oa=Ca-(window.scrollY+da.bottom),na=da.top<fa&&!(0,M.isIframe)(),G=oa<fa&&!(0,M.isIframe)();K=K?{behavior:"smooth"}:{};na?(K.top=0,K.left=0,window.scrollTo(K)):G?(K.top=Ca,K.left=0,window.scrollTo(K)):(K.block=y(),A.scrollIntoView(K))}}catch(J){T&&T(Error("Error in scrollIntoView "+J))}}function a(A,T){var K=A.substring(0,A.length-2)+"*";return(new RegExp("^"+
A.split("*").join(".*")+"$")).test(T+"/")&&(new RegExp("^"+K.split("*").join(".*")+"$")).test(T+"/")}function H(A,T,K,da){var fa=(0,xa.getCurrentProductId)(),Ca=["AP-VFU6ONL15QEY-2","AP-98W68BOG3KCQ-2"];fa&&-1===Ca.indexOf(fa)?(da=A.replace(/\/\*/,"*"),(da=(new RegExp("^"+da.split("*").join(".*")+"$")).test(T))&&!1===K&&qa.logger.logInternalError(Error("The rule "+A+" match to url "+T+"/"))):A.endsWith("/*")&&(da=K);return da}function r(A,T,K,da){return A.some(function(fa){var Ca=void 0,oa=(new RegExp("^"+
fa.split("*").join(".*")+"$")).test(T);return da&&fa.endsWith("/*")&&(Ca=a(fa,T)),da&&(oa=H(fa,T,Ca,oa)),K?!oa:oa})}function B(A,T,K,da){return A.every(function(fa){var Ca=void 0,oa=(new RegExp("^"+fa.split("*").join(".*")+"$")).test(T);return da&&fa.endsWith("/*")&&(Ca=a(fa,T)),da&&da&&(oa=H(fa,T,Ca,oa)),K?!oa:oa})}function F(A){return A.replace(/[.+?^${}()|[\]\\]/g,"\\$\x26")}function I(A){return function(T){13===T.keyCode&&A(T)}}function Q(A){if(!A||!A.href)throw Error("getOriginFromAnchorElement - Wrong element was provided, missing href");
return A.origin?A.origin:A.protocol+"//"+A.hostname}function P(A){if(!A||!A.href)throw Error("getPathnameFromAnchorElement - Wrong element was provided, missing href");return A.origin?A.pathname:A.pathname?"/"+A.pathname:""}function D(A){return p(A)?"":e(A)||n(A)?A:k(A)?A.slice(0,V.MAX_PROPERTY_VALUE_LENGTH):""}function O(A){var T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(Object.getPrototypeOf(A))var K=O(Object.getPrototypeOf(A),T.concat(Object.getOwnPropertyNames(A)));else{K=[];
var da=K.concat;T=new Set(T.concat(Object.getOwnPropertyNames(A)));if(Array.isArray(T)){for(var fa=0,Ca=Array(T.length);fa<T.length;fa++)Ca[fa]=T[fa];T=Ca}else T=Array.from(T);K=da.call(K,T)}return K}Object.defineProperty(b,"__esModule",{value:!0});b.isBoolean=b.isNumber=b.isNotEmptyIterable=b.getParams=b.isElementInIframeVisible=b.isValidPort=b.isRootTag=b.isRootNode=b.isEmail=b.getNumberWithFallback=b.trimString=b.paramToObject=b.isNotNullOrUndefined=b.isNullOrUndefined=b.isFunction=b.addEnterKeyDownListener=
b.getEnterHandler=b.getUrlParts=b.addStopClickListeners=b.hasElement=b.getHandler=b.addStyle=b.getEscHandlerCallback=b.safeUrl=b.isDefinedStr=b.isUndefinedStr=b.getPageUrl=b.isWebApp=b.matchUrl=b.escapeRegex=b.matchEither=b.scrollElementToCenter=b.needToScroll=b.createInputConfig=b.retryFunction=b.createMultipleElementsFromString=b.createElementFromString=b.clearAptrinsicSessionStorage=b.searchElementInParentTree=b.checkDarkColor=b.hasParentField=b.isObjectEmpty=b.isEmptyArr=b.makeDraggable=b.setSelectorStrengthLabel=
b.removeFromQueryParam=b.getQueryParamFromString=b.getQueryParam=b.addParametersToUrl=b.addParameterToUrl=b.hasParentClass=b.isString=b.isElementVisible=b.findHighestZIndex=b.hexToRgba=b.setCrossBrowserTransform=b.pushElements=b.createStyle=b.removeChildren=b.isObject=b.addCacheBuster=b.addParameters=b.addParameter=b.convert2Parameters=b.MILLISEC=b.removeEventListener=b.isNotEmptyArr=b.createInput=b.appendElements=b.createElement=b.addEventListener=b.isBlank=b.isEnterAllowedElement=void 0;var W="function"==
typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},ba=function(){return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A)){var K=[],da=!0,fa=!1,Ca=void 0;try{for(var oa,na=A[Symbol.iterator]();!(da=(oa=na.next()).done)&&(K.push(oa.value),!T||K.length!==T);da=!0);}catch(G){fa=!0,Ca=G}finally{try{!da&&na.return&&na.return()}finally{if(fa)throw Ca;
}}return K}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.getWindowLocation=q;b.getNativeFunction=w;b.isElementVisibleProxy=function(A,T,K){return-1<((0,xa.getCurrentProductKey)()||"").indexOf("GLVNMB5BLV8T")?(0,Y.isElementVisibleV2)(A,T,K):(0,Y.isElementVisible)(A,T,K)};b.dispatchCustomEvent=function(A,T,K,da){var fa=document,Ca=fa.dispatchEvent,oa=void 0;var na=("function"==typeof CustomEvent?oa=new CustomEvent(A,{detail:T,cancelable:da||!1,bubbles:K||!1}):(oa=
document.createEvent("CustomEvent"),oa.initCustomEvent(A,K||!1,da||!1,T)),oa);Ca.call(fa,na)};b.debounce=function(A,T){var K=void 0;return function(){var da=arguments,fa=this;clearTimeout(K);K=setTimeout(function(){return A.apply(fa,da)},T)}};b.extractStyleString=function(A,T){A=A.substring(A.indexOf(T),A.length);return A.substring(0,A.indexOf("}")+1)};b.extractStyleProperties=function(A){var T=[];return A.substring(A.indexOf("{")+1,A.indexOf("}")).split(";").map(function(K){return K.trim()}).forEach(function(K){K&&
(K=K.split(":"))&&2===K.length&&T.push({inlineProperty:K[0],value:K[1]})}),T};b.limitJsonKeys=function(A,T){var K={},da=0,fa;for(fa in A)if({}.hasOwnProperty.call(A,fa)){if(da++>=T)break;K[fa]=A[fa]}return K};b.isNodeList=function(A){return null!==A&&"object"===(void 0===A?"undefined":W(A))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(A))&&"number"==typeof A.length&&(0===A.length||"object"===W(A[0])&&0<A[0].nodeType)};b.isOnlyHashChanged=function(A,T){var K=
A.indexOf("#"),da=T.indexOf("#");if(-1<K&&-1<da){var fa=A.substring(0,K);A=A.substring(K);K=T.substring(0,da);T=T.substring(da);return fa===K&&A!==T}return!1};b.parseApiKey=function(A){try{var T=A.split("-");return 3>T.length?null:{groupId:T[1],propertyId:T[2]}}catch(K){qa.logger.logInternalError(K)}};b.cleanPropertyValue=D;b.getAllProperties=O;b.getAttributesAndPropertiesWithValue=function(A){var T={},K=O(A);return Array.from(A.attributes).forEach(function(da){T[da.name]=D(da.value)}),K.forEach(function(da){da.startsWith("on")||
da.startsWith("__")||"function"==typeof A[da]||(T[da]=D(A[da]))}),T};b.getCircularReplacer=function(){var A=[];return function(T,K){if("object"!==(void 0===K?"undefined":W(K))||null===K)return K;for(;0<A.length&&A.at(-1)!==this;)A.pop();return A.includes(K)?"[Circular]":(A.push(K),K)}};b.isDarkTheme=function(A){switch(A){case ia.DARK_THEME:return!0;case ia.BROWSER_SYSTEM_THEME:return!(!window.matchMedia||!window.matchMedia("(prefers-color-scheme: dark)").matches);default:return!1}};var ma=c(14),sa=
c(4),za=c(10),S=c(9),M=c(1),V=c(6),X=c(15),Y=c(18),qa=c(2),xa=c(21),Ea=c(31),Ha=document,Ba=function(A,T){for(var K=0;K<T.length;K++)T[K]&&A.appendChild(T[K]);return A},wa=function(A,T,K,da,fa,Ca,oa,na,G){var J=Ha.createElement("input");if(J.type=A,void 0!==K&&null!==K&&(J.value=K,J.setAttribute("value",K)),void 0!==da&&(J.placeholder=da),void 0!==T&&null!==T&&(J.className=(0,X.isNotEmptyArr)(T)?T.join(" "):T),fa&&(J.disabled=fa),Ca&&(J.setAttribute("checked",Ca),J.checked=Ca),oa)for(var R in oa)oa.hasOwnProperty(R)&&
J.setAttribute("data-"+R,oa[R]);if(na)for(var N in na)na.hasOwnProperty(N)&&J.setAttribute(N,na[N]);return G&&(Array.isArray(G)||(G=[G]),Ba(J,G)),J},Fa=function(A,T){var K=document.createElement("style");T&&(K.id=T);T=(0,M.getConfig)("cssNonce");return T&&(K.nonce=T),K.type="text/css",K.styleSheet?K.styleSheet.cssText=A:(K.innerHTML="",K.appendChild(document.createTextNode(A))),K};b.isEnterAllowedElement=function(A){if(A){var T="TEXTAREA"===A.nodeName;return"INPUT"===A.nodeName&&"text"===A.type||
T}return!1};b.isBlank=X.isBlank;b.addEventListener=x;b.createElement=function(A,T,K,da){if("text"===A)return Ha.createTextNode(K);var fa=Ha.createElement(A);switch(void 0!==T&&null!=T&&(fa.className=(0,X.isNotEmptyArr)(T)?T.join(" "):T),A){case "option":fa.value=K.value;fa.text=K.name;K.selected&&fa.setAttribute("selected",K.selected);break;case "a":fa.href=K.href;K.blank&&(fa.target="_blank");break;case "textarea":fa.rows=K.rows;fa.cols=K.cols;break;case "input":fa.value=K.value;break;case "p":fa.innerHTML=
K.value;break;case "label":K&&K.for&&fa.setAttribute("for",K.for);break;case "img":K&&K.src&&(fa.src=K.src)}if(void 0!==K&&null!=K&&(void 0!==K.text&&fa.appendChild(Ha.createTextNode(K.text)),K.title&&(fa.title=K.title),K.dataAtt))for(A=0;A<K.dataAtt.length;A++)fa.setAttribute(K.dataAtt[A].name,K.dataAtt[A].value);return da&&(Array.isArray(da)||(da=[da]),Ba(fa,da)),fa};b.appendElements=Ba;b.createInput=wa;b.isNotEmptyArr=X.isNotEmptyArr;b.removeEventListener=l;b.MILLISEC=1E3;b.convert2Parameters=
function(A){return A.join("\x26")};b.addParameter=d;b.addParameters=f;b.addCacheBuster=function(A){var T=(new Date).getTime()+"-"+ma.UUIDGenerator.generateRandom(4);return Object.assign(A,{cb:T}),A};b.isObject=m;b.removeChildren=function(A){for(;A.firstChild;)A.removeChild(A.firstChild)};b.createStyle=Fa;b.pushElements=function(A,T){for(var K=Ha.body.getElementsByTagName("*"),da=K.length,fa=void 0,Ca=[],oa=(0,M.getConfig)("mapperResizeFullHeightElements"),na=(0,M.getConfig)("mapperResizeFullHeightBody"),
G=0;G<da;G++){if(fa=window.getComputedStyle(K[G],null),oa&&fa&&parseInt(fa.getPropertyValue("height"))===Ha.body.clientHeight&&(K[G].style.height="calc(100vh - "+A+"px)"),fa&&"fixed"===fa.getPropertyValue("position")){if(k(K[G].className)&&(-1<K[G].className.indexOf("apt")||-1<K[G].className.indexOf("tippy-popper")))continue;var J=K[G],R=fa,N=A,U=T;J.parentNode;J.getAttribute("apt-ignore")!==N&&(R=parseInt(J.getAttribute("apt-original")||R.getPropertyValue("top"),10),R!==N&&!U&&(J.style.top=R+N+"px")&&
J.setAttribute("apt-original",R),J.setAttribute("apt-ignore",N))}if(fa&&"absolute"===fa.getPropertyValue("position")&&(!k(K[G].className)||!(-1<K[G].className.indexOf("apt")||-1<K[G].className.indexOf("tippy-popper")))){J=K[G].parentNode;for(N=!1;J&&"body"!==J.tagName.toLowerCase();){U=sa.windowRef.getComputedStyle(J,null);U=U.getPropertyValue("position");if("relative"===U||"fixed"===U||-1<Ca.indexOf(J)){N=!0;break}J=J.parentNode;!1}N||K[G].getAttribute("apt-ignore")===A||(Ca.push(K[G]),K[G].style.marginTop=
A+"px",J=fa.getPropertyValue("top"),!T&&(K[G].style.top=J),K[G].setAttribute("apt-ignore",A))}}fa=window.getComputedStyle(Ha.body,null);na&&fa&&parseInt(fa.getPropertyValue("height"))===Ha.body.clientHeight&&Ha.body.style.setProperty("box-sizing","border-box","important");Ha.body.style.setProperty("padding-top",A+"px","important")};b.setCrossBrowserTransform=function(A,T){if(!("style"in A))throw Error("object "+A+" has no 'style' property");A.style.webkitTransform=T;A.style.MozTransform=T;A.style.msTransform=
T;A.style.OTransform=T;A.style.transform=T};b.hexToRgba=function(A,T){A=A.replace("#","");return"rgba("+parseInt(A.substring(0,2),16)+","+parseInt(A.substring(2,4),16)+","+parseInt(A.substring(4,6),16)+","+T+")"};b.findHighestZIndex=function(A){A=document.querySelectorAll(A);for(var T=0,K=0;K<A.length;K++){var da=Number.parseInt(document.defaultView.getComputedStyle(A[K],null).getPropertyValue("z-index"),10);da>T&&(T=da)}return T};b.isElementVisible=Y.isElementVisible;b.isString=k;b.hasParentClass=
function(A,T){for(;A&&!t(A);){if(A.classList.contains(T))return!0;A=(0,Y.getParentNode)(A)}return!1};b.addParameterToUrl=function(A,T,K){var da=Ha.createElement("a");da.href=A;A=Q(da);var fa=P(da),Ca=(0,X.isBlank)(da.search)?"?":"";return Ca+=d(T,K,da.search?da.search.split("\x26"):null).join("\x26"),[A,fa,Ca,da.hash].join("")};b.addParametersToUrl=function(A,T){var K=Ha.createElement("a");K.href=A;A=Q(K);var da=P(K),fa=(0,X.isBlank)(K.search)?"?":"";return fa+=f(T,K.search?K.search.split("\x26"):
[]).join("\x26"),[A,da,fa,K.hash].join("")};b.getQueryParam=function(A){return z(q().search.substring(1),A)};b.getQueryParamFromString=z;b.removeFromQueryParam=function(A){for(var T=q().search.substring(1).split("\x26"),K=[],da=0;da<T.length;da++)T[da].split("\x3d")[0]!==A&&""!==T[da]&&""!==T[da]&&K.push(T[da]);return location.protocol+"//"+location.host+location.pathname+(0<K.length?"?"+K.join("\x26"):"")+location.hash};b.setSelectorStrengthLabel=function(A,T){A&&(A.innerText=T.toLowerCase(),A.classList.contains("strong")&&
A.classList.remove("strong"),A.classList.contains("medium")&&A.classList.remove("medium"),A.classList.contains("weak")&&A.classList.remove("weak"),A.classList.add(T.toLowerCase()))};b.makeDraggable=function(A,T){function K(J){J=J||window.event;J.target.classList.add("dragging");na=J.clientX;G=J.clientY;x(document,"mouseup",fa);x(document,"mousemove",da)}function da(J){J=J||window.event;Ca=na-J.clientX;oa=G-J.clientY;na=J.clientX;G=J.clientY;A.style.top=A.offsetTop-oa+"px";A.style.left=A.offsetLeft-
Ca+"px"}function fa(J){J.target.classList.remove("dragging");l(document,"mouseup",fa);l(document,"mousemove",da)}var Ca=0,oa=0,na=0,G=0;T?x(T,"mousedown",K):x(A,"mousedown",K)};b.isEmptyArr=X.isEmptyArr;b.isObjectEmpty=X.isObjectEmpty;b.hasParentField=function(A,T,K){for(;A&&!t(A);){if(A[T]===K)return!0;A=(0,Y.getParentNode)(A)}return!1};b.checkDarkColor=function(A){A=A.replace("#","");return 128>(parseInt(A.substring(0,2),16)+parseInt(A.substring(2,4),16)+parseInt(A.substring(4,6),16))/3};b.searchElementInParentTree=
function(A,T){for(;A!=Ha;){if(A&&A.tagName&&A.tagName.toLowerCase()===T)return A;A=A.parentNode}return null};b.clearAptrinsicSessionStorage=function(){(0,M.getConfig)("crossProductEngagement")||((0,Ea.deleteGuideStateValue)("apt.prevStepMap"),(0,Ea.deleteGuideStateValue)("apt.stepId"),(0,Ea.deleteGuideStateValue)("aptGuideSelectedLanguage"),(0,Ea.deleteGuideStateValue)("aptCurrentGuideUrl"),(0,Ea.deleteGuideStateValue)("apt.engagementSessionId"),sa.windowRef.sessionStorage.removeItem("aptMapperDockingPosition"))};
b.createElementFromString=function(A){var T=document.createElement("div");return T.innerHTML=A.trim(),T.firstChild};b.createMultipleElementsFromString=function(A){var T=document.createElement("div");return T.innerHTML=A.trim(),T.childNodes};b.retryFunction=X.retryFunction;b.createInputConfig=function(A,T){return wa(A,T.classes,T.value,T.placeholder,T.disabled,T.checked,T.dataAtt,T.otherAtt,T.children)};b.needToScroll=g;b.scrollElementToCenter=function(A,T){try{var K=(0,S.detectIE)();!1!==K&&79>K?
(A.scrollIntoView(!1),setTimeout(function(){var da=window.innerHeight/2,fa=(0,S.detectIE)()<=V.LAST_IE_VERSION?document.documentElement:(0,M.getBody)(),Ca=h(A),oa=Math.abs(Ca-da);fa.scrollTop+Ca>da&&(fa.scrollTop+=oa)},500)):((0,M.getConfig)("viewAlignedScroll")?C(A,T,!0):A.scrollIntoView({behavior:"smooth",block:y()}),setTimeout(function(){g(A)&&((0,M.getConfig)("viewAlignedScroll")?C(A,T,!1):A.scrollIntoView({block:y()}))},800))}catch(da){T&&T(Error("Error in scrollIntoView "+da))}};b.matchEither=
r;b.escapeRegex=F;b.matchUrl=function(A,T,K,da){Array.isArray(A)||(A=[A]);var fa=!1;A=(0,za.arrayFrom)(A,function(Ca){return Ca=v(Ca),T.endsWith("/")&&(fa=!0),F(Ca)});return T=v(T),da?B(A,T,K,fa):r(A,T,K,fa)};b.isWebApp=function(A){var T=A.split("-");if(3>T.length)throw"invalid key "+A;return"2"===T[2]};b.getPageUrl=function(){var A=q(),T="localhost"===A.hostname||(0,X.isValidPort)(A.port)?A.host:A.hostname;return A.protocol+"//"+T+A.pathname+A.search+A.hash};b.isUndefinedStr=function(A){return void 0===
A||null===A||"string"!=typeof A};b.isDefinedStr=function(A){return void 0!==A&&null!==A&&"string"==typeof A};b.safeUrl=v;b.getEscHandlerCallback=function(A){var T=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function(K){K=K||sa.windowRef.event;("key"in K?"Escape"===K.key||"Esc"===K.key:27===K.keyCode)&&(T&&K.preventDefault(),A())}};b.addStyle=function(A,T,K){var da=document.getElementById(T);da?da.styleSheet?da.styleSheet.cssText=A:(da.innerHTML="",da.appendChild(document.createTextNode(A))):
da=Fa(A,T);K?K.parentNode.insertBefore(da,K):(0,M.getBody)().appendChild(da)};b.getHandler=function(A,T){var K=this,da=ma.UUIDGenerator.generateV4Id(),fa=[];return 2<arguments.length&&(fa=Array.prototype.slice.call(arguments,2)),A?(fa.unshift(da),[da,function(Ca){var oa=(0,za.arrayFrom)(fa);oa.unshift(Ca);T.apply(K,oa)}]):[da,function(){var Ca=(0,za.arrayFrom)(fa);Ca.unshift(da);T.apply(K,Ca)}]};b.hasElement=function(A,T){for(;T&&!u(T);){if(T===A)return!0;T=(0,Y.getParentNode)(T)}return!1};b.addStopClickListeners=
function(A,T){T||=["click","mousedown","mouseup"];A.forEach(function(K){T.forEach(function(da){return x(K,da,function(fa){fa.stopImmediatePropagation()})})})};b.getUrlParts=function(){var A=q();return["localhost"===A.hostname?A.host:A.hostname,A.pathname,A.search,A.hash]};b.getEnterHandler=I;b.addEnterKeyDownListener=function(A,T){T=I(T);return x(A,"keydown",T),T};b.isFunction=function(A){return A&&("function"==typeof A||A instanceof Function)};b.isNullOrUndefined=p;b.isNotNullOrUndefined=X.isNotNullOrUndefined;
b.paramToObject=function(A,T){return T&&m(T)||(T={}),A.forEach(function(K){K=K.split("\x3d");2>K.length||(T[K[0]]=K.slice(1).join(""))}),T};b.trimString=function(A){return(0,X.isBlank)(A)?A:A.trim()};b.getNumberWithFallback=function(A,T){return isNaN(A)||!A&&0!==A?T:A};b.isEmail=function(A){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(A)};b.isRootNode=t;b.isRootTag=u;b.isValidPort=
X.isValidPort;b.isElementInIframeVisible=function(A,T,K){var da=!0;if(T){da=document.elementFromPoint(A.left+A.width/2,A.top+A.height/2);if(null===da)return!1;A="true"===da.getAttribute("data-apt-ignore-visible");var fa=da.getAttribute("class")||"";fa=da!==(0,M.getBody)()&&-1<fa.indexOf("apt");T=da===T;K=!!K&&(da===K||K.contains(da));da=T||A||fa||K}return da};b.getParams=function(){var A={},T=document.currentScript.src.split("?"),K=q().search.substring(1);return 2===T.length&&[K,T[1]].forEach(function(da){da.split("\x26").forEach(function(fa){fa=
fa.split("\x3d");fa=ba(fa,2);A[fa[0]]=fa[1]},{})}),A};b.isNotEmptyIterable=function(A){return A&&A.length&&0<A.length};b.isNumber=e;b.isBoolean=n;var ia={EMPTY_THEME_STYLE:"EMPTY_THEME_STYLE",LIGHT_THEME:"LIGHT_THEME",DARK_THEME:"DARK_THEME",BROWSER_SYSTEM_THEME:"BROWSER_SYSTEM_THEME"}},function(E,b,c){function y(B){var F=e[B];if(null===F)throw Error("not found any value for config "+B);return F}function q(){return Object.assign({},e)}function w(){return y("actAsTopWindow")||window.aptrinsic&&window.aptrinsic.c&&
window.aptrinsic.c.actAsTopWindow}function v(){var B=window.self!==window.top.parent&&y("iframeModeEnabled")&&!window.runVue,F=B;return(0,p.isNotNullOrUndefined)(w())?F=!w():B&&(F=window.self!==window.top.parent.self),F}function x(){return(y("contentProxyDomain")||"https://web-sdk.aptrinsic.com")+"/bot/main"}function l(B){return-1<u.indexOf(B)&&("identify"!==B||!y("enableIdentifyFromIFrame"))}Object.defineProperty(b,"__esModule",{value:!0});b.disableIframeMode=b.getWidgetArticleByIdEndpoint=b.widgetContentEndpointGetter=
b.getCachedConfig=b.setCachedConfig=b.getAssetEndpoint=b.disableTag=b.setKcConfigByName=b.setKcConfig=b.getKcConfig=b.getDefaultConfiguration=b.updateConfigChangeHandlers=b.getConfigObj=b.isIframe=b.isIframeDisabled=b.featureEnabled=b.getConfig=b.overrideConfig=b.trackSinglePageEndpoint=b.trackSingleStepEndpoint=b.surveySubmitUrl=b.trackSurveyCompleteEndpoint=b.snoozeUrl=b.fetchFeatureRuleEndpoint=b.desktopEngagementTrackEndpoint=b.trackKcEndpoint=b.widgetUrl=b.staticContentHost=b.getAllInAppEndpoint=
b.refreshBadgeEndpoint=b.badgeTrackEndpoint=b.trackStepEndpoint=b.trackMultiStepEndpoint=b.getWidgetSingleDocEndpoint=b.getWidgetDocsEndpoint=b.widgetCommunityEndpointV3=b.getWidgetSingleCommunityDocEndpointV3=b.getWidgetSingleDocEndpointV3=b.getWidgetDocsEndpointV3=b.getWidgetContentEndpointV3=b.getWidgetContentEndpoint=b.getWidgetConfigUrl=b.getKnowledgeCenterConfigEndpointV3=b.getKnowledceCenterConfigEndpoint=b.getConfigEndpoint=b.ongoingEngagementEndpoint=b.ondemandEndpoint=b.internalErrorEndpoint=
b.logErrorEndpoint=b.accountEndpoint=b.engagementTrackEndpoint=b.notificationStateEndpoint=b.notificationEndpoint=b.campaignEndpoint=b.commandEndPointV2=b.commandEndpoint=b.serverEndpointV3=b.serverEndpoint=b.serverEndpointBase=b.trackWidgetCommunityArticleInfix=b.trackWidgetExternalArticleInfix=void 0;b.isTopWindow=w;b.getStaticContentHost=function(){return g};b.getBotV2Endpoint=x;b.getBody=function(){return y("framesetMode")?document.documentElement:document.body};E=c(8);var p=c(15),e={enableTag:!0,
maxEngagementCalls:1,engagementCallDelay:750,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:!0,autoTrack:!0,autoTrackPage:!0,iframeModeEnabled:!0,elementAttributeWhitelist:[],engagementExcludeUrl:[],delayClickEvent:!1,delayClickEventTime:2E3,textMatchEnabled:!1,guideAdvanceOnHover:!1,espProxyDomain:void 0,contentProxyDomain:void 0,storageProxyDomain:void 0,enableBadge:!0,badgeRefreshInterval:5,setSessionExternally:!1,
usePOST:!1,allowCrossDomain:!1,enableFullStory:!1,fullDomainCookie:!1,cssFileEndpoint:void 0,widgetFileEndpoint:void 0,multipleProductsPerDomain:!0,fetchKcType:"automatic",kcDisplayType:"default",kcPositionType:"injection",sfdcTemplate:void 0,overrideBotSearchContextUrl:void 0,htmlSanitization:!1,htmlSanitizationAllowedDomains:void 0,mapperResizeFullHeightElements:!1,sessionCookieTTL:18E5,enableIdentifyFromIFrame:!1,engagementChecksumFileUrl:void 0,cssNonce:void 0,enableKcSecureArticle:!1,useSessionStorageEditorToken:!1,
secureCookie:!1,mapperResizeFullHeightBody:!1,stripSafeUrlProtocol:!0,elementAttributeDenyMap:{},maskUrlFunction:void 0,trustedOrigin:void 0,angularMutationObserver:!1,badgeUseInterval:!1,badgeRepositionInterval:500,enableModalBodyScroll:!0,evaluateEngRuleOnNavigation:!1,usesShadowDom:!1,dockMapper:!1,kcAllowedFuncNames:[],usePointerEvent:!0,badgesUseFixedPosition:!1,crossOriginStyle:!1,viewAlignedScroll:!1,newProductMapper:!0,framesetMode:!1,angularAddEventListener:!1,crossProductEngagement:!1,queryParamsInHash:!1,
clientSideEngagementTracking:!1,engagementEditorV2AutoSave:!1,trackPageTitles:!1,excludeUrls:[],keyboardTriggerClick:!1,localStorageCookie:!1,htmlSanitizationAllowedSchemes:void 0,tooltipDynamicReposition:!1,requestTimeoutDefault:0,requestTimeoutCritical:0,supportFixedPosition:!1,strictProductVerification:!1,supportAutoHashChangeDetection:!1,widgetNonce:void 0,keepRuleUrlHash:!1,elementClickToPointer:!1,allowBlankSrc:!1,useSessionStorageForRedirect:!1,strictCSP:!1,crossSubDomainGuide:!1,scrollToArea:void 0,
disableEngagementReposition:!1,sameSiteCookie:void 0,disableLogs:!1,skipChecksumForEngagementIds:[],decryptionSelectorKey:void 0,actAsTopWindow:void 0,discoverTopWindowPath:!1,cleanIframeCache:!1},n=[],d=(b.trackWidgetExternalArticleInfix="track/article/external",b.trackWidgetCommunityArticleInfix="track/community",b.serverEndpointBase="https://esp.aptrinsic.com/rte"),f=b.serverEndpoint=d+"/v1",m=b.serverEndpointV3=d+"/v3";b.commandEndpoint=f+"/command";b.commandEndPointV2=d+"/v2/command";b.campaignEndpoint=
f+"/engagements/single";b.notificationEndpoint=f+"/notification/list";b.notificationStateEndpoint=f+"/notification/state";b.engagementTrackEndpoint=f+"/engagement/track";b.accountEndpoint=f+"/account";b.logErrorEndpoint=f+"/error/log";b.internalErrorEndpoint=f+"/activity/error";b.ondemandEndpoint=f+"/engagement/ondemand";b.ongoingEngagementEndpoint=f+"/engagement/ongoing";b.getConfigEndpoint=m+"/configuration";b.getKnowledceCenterConfigEndpoint=d+"/v2/kc";b.getKnowledgeCenterConfigEndpointV3=d+"/v3/kc";
b.getWidgetConfigUrl=f+"/kc/config";var h=b.getWidgetContentEndpoint=d+"/v2/kc/content";b.getWidgetContentEndpointV3=d+"/v3/kc/content";b.getWidgetDocsEndpointV3=d+"/v3/kc/docs";b.getWidgetSingleDocEndpointV3=d+"/v3/kc/doc";b.getWidgetSingleCommunityDocEndpointV3=d+"/v3/kc/community/doc";b.widgetCommunityEndpointV3=d+"/v3/kc/community";b.getWidgetDocsEndpoint=d+"/v2/kc/docs";b.getWidgetSingleDocEndpoint=d+"/v2/kc/doc";b.trackMultiStepEndpoint=f+"/engagement/multistep/track";b.trackStepEndpoint=f+
"/engagement/multistep/step/track";b.badgeTrackEndpoint=f+"/badge/track";b.refreshBadgeEndpoint=f+"/badges/full/sync";b.getAllInAppEndpoint=f+"/inapp";var g=b.staticContentHost="https://web-sdk.aptrinsic.com",k=b.widgetUrl="https://web-sdk.aptrinsic.com/widget/aptrinsic-widget.js";b.trackKcEndpoint=f+"/kc";b.desktopEngagementTrackEndpoint=""+d+"/v1/desktop/engagement";b.fetchFeatureRuleEndpoint=""+d+"/api/v1/feature/client";b.snoozeUrl=f+"/engagement/track/snooze";b.trackSurveyCompleteEndpoint=""+
d+"/v1/engagement/survey/completed";b.surveySubmitUrl=f+"/engagement/survey";b.trackSingleStepEndpoint=f+"/engagement/survey/step";b.trackSinglePageEndpoint=f+"/engagement/survey/page";var t={click:2,pageView:1,form:1,identify:0,engagementPull:0},u=["pageView","identify","sessionInitialized","engagementPull"],z={},C=void 0,a=["labels"],H=void 0,r=new E.LocalCache;b.overrideConfig=function(B,F,I,Q){var P=q();if((0,p.isObject)(B))for(var D in B){var O;if(O=B.hasOwnProperty(D)&&e.hasOwnProperty(D))O=
B[D],O=("string"!=typeof O||!(0,p.isBlank)(O))&&(!Array.isArray(O)||!(0,p.isEmptyArr)(O));O&&(-1===n.indexOf(D)||Q)&&(e[D]=B[D],I&&n.push(D))}e.autoTrack?e.autoClickTrack||(e.trackLevel=1):e.trackLevel=0;if(F){B=e;for(var W in z)z.hasOwnProperty(W)&&P[W]!==B[W]&&z[W](P[W],B[W])}P=e.espProxyDomain;W=e.contentProxyDomain;P&&!P.startsWith("http")&&(P="https://"+P);W&&!W.startsWith("http")&&(W="https://"+W);P&&(b.serverEndpointBase=d=P+"/rte",b.serverEndpoint=f=d+"/v1",b.serverEndpointV3=m=d+"/v3",b.commandEndpoint=
f+"/command",b.commandEndPointV2=d+"/v2/command",b.campaignEndpoint=f+"/engagements/single",b.notificationEndpoint=f+"/notification/list",b.notificationStateEndpoint=f+"/notification/state",b.engagementTrackEndpoint=f+"/engagement/track",b.accountEndpoint=f+"/account",b.logErrorEndpoint=f+"/error/log",b.internalErrorEndpoint=f+"/activity/error",b.ondemandEndpoint=f+"/engagement/ondemand",b.ongoingEngagementEndpoint=f+"/engagement/ongoing",b.getConfigEndpoint=m+"/configuration",b.getKnowledceCenterConfigEndpoint=
d+"/v2/kc",b.getKnowledgeCenterConfigEndpointV3=d+"/v3/kc",b.getWidgetConfigUrl=f+"/kc/config",b.trackMultiStepEndpoint=f+"/engagement/multistep/track",b.trackStepEndpoint=f+"/engagement/multistep/step/track",b.getWidgetContentEndpoint=h=d+"/v2/kc/content",b.getWidgetContentEndpointV3=d+"/v3/kc/content",b.getWidgetDocsEndpointV3=d+"/v3/kc/docs",b.getWidgetSingleDocEndpointV3=d+"/v3/kc/doc",b.getWidgetSingleCommunityDocEndpointV3=d+"/v3/kc/community/doc",b.widgetCommunityEndpointV3=d+"/v3/kc/community",
b.getWidgetDocsEndpoint=d+"/v2/kc/docs",b.getAllInAppEndpoint=f+"/inapp",b.getWidgetSingleDocEndpoint=d+"/v2/kc/doc",b.desktopEngagementTrackEndpoint=d+"/v1/desktop/engagement",b.trackSurveyCompleteEndpoint=d+"/v1/engagement/survey/completed",b.fetchFeatureRuleEndpoint=""+d+"/api/v1/feature/client",b.snoozeUrl=f+"/engagement/track/snooze",b.surveySubmitUrl=f+"/engagement/survey",b.trackSingleStepEndpoint=f+"/engagement/survey/step",b.trackSinglePageEndpoint=f+"/engagement/survey/page",b.trackKcEndpoint=
f+"/kc",b.refreshBadgeEndpoint=f+"/badges/full/sync",b.badgeTrackEndpoint=f+"/badge/track");W&&(b.staticContentHost=g=W)};b.getConfig=y;b.featureEnabled=function(B){return(!v()||!l(B))&&("pageView"===B?0<e.trackLevel&&y("autoTrackPage"):t[B]<=e.trackLevel)};b.isIframeDisabled=l;b.isIframe=v;b.getConfigObj=q;b.updateConfigChangeHandlers=function(B,F){z[B]=F};b.getDefaultConfiguration=function(){return{enableTag:!0,maxEngagementCalls:2,engagementCallDelay:500,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",
namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:1,autoTrack:1,autoTrackPage:!0,iframeModeEnabled:!0}};b.getKcConfig=function(){return C};b.setKcConfig=function(B){if(C=B,H)for(var F in H)B.hasOwnProperty(F)||(C[F]=H[F])};b.setKcConfigByName=function(B,F){(0,p.isObject)(C)&&(C[B]=F);-1!==a.indexOf(B)&&(H=H||{},H[B]=F)};b.disableTag=function(){e.enableTag=!1};b.getAssetEndpoint=function(B,F){switch(B){case "style":return F?x()+".css":y("cssFileEndpoint")||g+"/style.css";
case "widget":return F?x()+".js":y("widgetFileEndpoint")||k;default:return null}};b.setCachedConfig=function(B,F){r.setdata(B,F)};b.getCachedConfig=function(B){return r.getKey(B)};b.widgetContentEndpointGetter=function(){return h};b.getWidgetArticleByIdEndpoint=function(){return h+"/article"};b.disableIframeMode=function(){e.iframeModeEnabled=!1}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.logger=void 0;var y=function(){function h(g,k){for(var t=0;t<k.length;t++){var u=k[t];
u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in u&&(u.writable=!0);Object.defineProperty(g,u.key,u)}}return function(g,k,t){return k&&h(g.prototype,k),t&&h(g,t),g}}(),q=c(4),w=c(13),v=c(1),x=c(5),l=c(15),p=c(19),e=c(72),n=c(71),d=c(22),f=c(10),m=q.eventTrackData;E=function(){function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.debugMode="true"===(n.LocalStorageCookie.getCookie("apt.debug")||e.NativeCookie.getCookie("apt.debug"))}return y(h,[{key:"log",
value:function(g){h.allowLogs()&&this.debugMode&&console&&console.log&&console.log(g)}},{key:"trace",value:function(g){h.allowLogs()&&this.debugMode&&console&&console.trace&&console.trace(g)}},{key:"logInternalMessage",value:function(g){if((0,v.getConfig)("enableTag")&&!(0,v.isIframe)()){var k="aptrinsic web sdk error:\n"+JSON.stringify(g)+"\n";this.log(k);w.AjaxUtil.postData(v.internalErrorEndpoint+"?p\x3d"+m.data[q.productIdParameter],g,void 0,void 0,void 0,void 0,!0)}}},{key:"logInternalError",
value:function(g,k,t){if((0,v.getConfig)("enableTag")){if((0,v.isIframe)()){k||="";k+="Error from Iframe: "+window.location.toString();var u=x.IframeRequest.getIframeRequest((0,l.getIframeId)(),"apt-log",{message:g.message,stackTrace:g.stack,extraMessage:k});return void(0,d.getTopWindowAsync)().then(function(C){C.postMessage((0,f.jsonStringify)(u),"*")})}var z="aptrinsic web sdk error: ";k&&(z+=k+"\n");z+=g.message;g.stack?(z+=", stack trace: "+g.stack,this.log(z)):(z+=g.message,g.stack?(z+=", stack trace: "+
g.stack,this.log(z)):this.trace(z));this.reportToServer(z,t)}}},{key:"reportToServer",value:function(g,k){k&&w.AjaxUtil.postData(v.logErrorEndpoint,{url:(0,p.getFullUrlMasked)(),apiKey:m.data[q.productIdParameter],message:g,applicationVersion:q.applicationVersion},void 0,void 0,void 0,void 0,!0)}}],[{key:"allowLogs",value:function(){return!(0,v.getConfig)("disableLogs")}}]),h}();b.logger=new E},,function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE=b.path=
b.host=b.externalEventListeners=b.globalContextCache=b.eventTrackData=b.aptrinsicGlobalObjName=b.decode=b.documentRef=b.windowRef=b.applicationVersion=b.aptrinsicIdParam=b.sessionIdParam=b.userIdParameter=b.productIdParameter=b.apiMethods=b.trackApiMethod=void 0;E=c(8);c=b.trackApiMethod="track";c=(b.apiMethods=[c,"get","users","set","identify","initWithExternalState","carousel","login","lead","account","checklog","event","setOnce","remove","pageView","send","bot","kcb","reset","addListener","config",
"render","getRegisteredIframesList"],b.productIdParameter="p",b.userIdParameter="v",b.sessionIdParam="s",b.aptrinsicIdParam="ai",b.applicationVersion="0.56.3",b.windowRef=window);b.documentRef=document;b.decode=decodeURIComponent;b.aptrinsicGlobalObjName="aptrinsic";b.eventTrackData=new E.LocalCache;b.globalContextCache=new E.LocalCache;b.externalEventListeners={};b.host=c.location.hostname;b.path=c.location.pathname+c.location.search+c.location.hash;b.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE={button:["name",
"value","type"],img:["src","alt"],select:["name"],textarea:["name"],input:["name","type"],a:["href"]}},function(E,b,c){function y(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function");}function q(m,h){var g=d[m];g&&(null===g.data&&(g.data=[]),g.data.push(h),0>=--g.counter&&(g.timeout&&clearTimeout(g.timeout),g.callback(g.data,g.additionalData),(0,x.getConfig)("cleanIframeCache")&&delete d[m]))}Object.defineProperty(b,"__esModule",{value:!0});b.checkHandledRequest=b.addHandledRequestId=
b.execute=b.unregisterIframe=b.associateIframe=b.getIframeData=b.IframeData=b.decrementState=b.incrementState=b.subscribe=b.IframeRequest=b.getRegisteredIframes=b.registerIframe=void 0;var w=function(){function m(h,g){for(var k=0;k<g.length;k++){var t=g[k];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(h,t.key,t)}}return function(h,g,k){return g&&m(h.prototype,g),k&&m(h,k),h}}(),v=c(11),x=c(1),l=c(2),p=c(15),e=function u(h,g,k,t){y(this,u);this.iframe=
h;this.origin=g;this.iframeId=k;this.frameOffset=t};E=function(){function h(g){if(y(this,h),g&&(this.aptrinsicEventType=g.aptrinsicEventType,this.aptrinsicIframeId=g.aptrinsicIframeId,this.content=g.content,this.aptrinsicRequestId=g.aptrinsicRequestId,!this.aptrinsicEventType))throw Error("cannot initiate iframe request without event type");}return w(h,null,[{key:"getMasterRequst",value:function(g,k,t,u){g=new h({aptrinsicIframeId:u,aptrinsicEventType:g,content:k,aptrinsicRequestId:t});if(!g.aptrinsicEventType)throw Error("cannot initiate iframe request without event type");
return g}},{key:"getIframeRequest",value:function(g,k,t,u){g=new h({aptrinsicIframeId:g,aptrinsicEventType:k,content:t,aptrinsicRequestId:u});if(!g.aptrinsicEventType)throw Error("cannot initiate iframe request without event type");if(!g.aptrinsicIframeId)throw Error("cannot initiate iframe request without iframe id");return g}}]),h}();var n={},d={},f={};setInterval(function(){var h=Date.now()-6E4;Object.keys(f).forEach(function(g){f[g]<h&&delete f[g]})},2E3);b.registerIframe=function(h,g,k,t){if(t){t=
document.querySelectorAll("frame");for(var u=void 0,z=0;z<t.length;z++)if(t[z].name===h.name){u=t[z];break}n[k]=n[k]||new e(h,g,k,u.getBoundingClientRect())}else n[k]=n[k]||new e(h,g,k);v.internalEventListener.dispatchEvent("IFRAME_REGISTERED",n[k])};b.getRegisteredIframes=function(){return Object.keys(n).map(function(h){return n[h]})};b.IframeRequest=E;b.subscribe=function(h,g,k){d[h]={callback:g,counter:0,data:null,additionalData:k}};b.incrementState=function(h){d[h].counter++};b.decrementState=
q;b.IframeData=e;b.getIframeData=function(h){return n[h]};b.associateIframe=function(h,g){(h=n[h])&&(h.domElement=g,h.isChild=!0)};b.unregisterIframe=function(h){l.logger.log("unregister iframe: "+h);(0,p.isObjectEmpty)(n[h])||(n[h].iframe=null,n[h].origin=null,n[h].iframeId=null,n[h].frameOffset=null);delete n[h]};b.execute=function(h,g){var k=d[h];k&&g&&(k.timeout=setTimeout(function(){for(;0<k.counter;)q(h,{error:"PX_INCREMENT_STATE_TIMEOUT_"+k.counter})},g))};b.addHandledRequestId=function(h){f[h]=
Date.now()};b.checkHandledRequest=function(h){return f[h]}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});E=b.MAX_TAB_INDEX=32767;E=(b.TAB_INDEX_START=E-1E3,b.NO_TAB_INDEX=-1,b.LAST_IE_VERSION=11,b.DESKTOP_CHANNEL=4,b.PROD_ENVIRONMENT=1,b.GLOBAL_CONTEXT_CHANGED="GLOBAL_CONTEXT_CHANGED",b.TEXT_OPERATOR_IS="is",b.IN_APP_GUIDE="IN_APP_GUIDE",b.IN_APP_MULTIPLE_QUESTION_SURVEY="IN_APP_MULTIPLE_QUESTION_SURVEY",b.IN_APP_RATING_SURVEY="IN_APP_RATING_SURVEY");c=b.IN_APP_SURVEY_NPS="IN_APP_SURVEY_NPS";
var y=b.IN_APP_BOOLEAN_SURVEY="IN_APP_BOOLEAN_SURVEY",q=b.IN_APP_CES_SURVEY="IN_APP_CES_SURVEY";E=(b.SCORE_SURVEY_TYPES=[E,c,y,q],b.ACTIVATION_TYPE_AUTOMATIC="a",b.EDITOR_ACTIVATION_TYPE_AUTOMATIC="APPLICATION",b.VIEW_TYPE_BAR="BAR",b.SET_USER_ATTRIBUTE_EVENT_NAME="GAINSIGHT_PX_SET_USER_ATTRIBUTE",b.DEFAULT_STORAGE_DOMAIN="https://storage.googleapis.com",b.COMPLETED_TRACKED=2,b.APT_NON_SCROLL="apt-non-scroll",b.SAME_SITE_VALUES=["Lax","Strict"],b.FEATURE_RULE_TYPES={URL_RULE:"URL",SELECTOR_TEXT_RULE:"SELECTOR_TEXT_RULE",
TEXT_ONLY_RULE:"TEXT_ONLY_RULE",EVENT_RULE:"EVENT"});b.WINDOW_BASE="window.";b.DOCUMENT_BASE="document.";b.LEADING_SLASHES_REGEX=/^\/+/;b.CLICK_EVENT_RULE_TYPES=new Set([E.SELECTOR_TEXT_RULE,E.TEXT_ONLY_RULE,E.EVENT_RULE]);b.REGEX_SPECIAL_CHARS=new Set(".+?^${}()|[]\\".split(""));b.URL_CONDITION_IS="IS";b.URL_CONDITION_IS_NOT="IS_NOT";b.URL_SCOPES_CONDITION_OR="URL_SCOPES_CONDITION_OR";b.DEFAULT_LRU_CAPACITY=5E3;b.TRACKING_PROPERTY_TYPES={PAGE:"PAGE",CLICK:"CLICK",JS_FUNC:"JS_FUNC",OOB:"OOB"};b.PAGE_TRACKING_PROPERTY_TYPES=
{URL:"URL",QUERY_PARAMETER:"QUERY_PARAMETER",UTM_PARAMETER:"UTM_PARAMETER"};b.MAX_PROPERTY_VALUE_LENGTH=255;b.OOB_PROPERTY_VALUE="OOB";b.URL_SCHEME_REGEX=/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//;b.CLIENT_SIDE_OOB_PROPERTIES_MAP={SCREEN_HEIGHT:"screenHeight",SCREEN_WIDTH:"screenWidth",URL_PAGE_TITLE:"urlPageTitle",URL_SCHEMA:"urlSchema",URL_REFERRER:"urlReferrer"};b.SERVER_SIDE_OOB_PROPERTIES=new Set(["browserType","platformVersion","platformType","device"])},function(E,b,c){function y(r){var B=(0,n.getConfig)("cssNonce");
B&&(r=r.replace(/<style(>|[ ]+[^>]*>)/g,'\x3cstyle nonce\x3d"'+B+'"$1'));return r}function q(r){var B=""+ +new Date+Math.random();try{return r[B]="asd","asd"===r[B]}catch(F){return!1}}function w(r,B,F){return B[F?"querySelectorAll":"querySelector"](r)}function v(r,B,F){var I=null;for(r=r.firstChild;r;r=r.nextSibling){var Q=r.nodeType;var P="";var D;if(!(D=Q===a)&&(D=Q===H&&-1==C.indexOf(r.tagName.toLowerCase())))a:{for(D=r;D&&"BODY"!==D.tagName;){if(1===D.nodeType&&(D.classList.contains("apt-guide-popup")||
"true"===D.getAttribute("data-apt-disable-selector")||-1<D.classList.value.indexOf("apt-")||-1<D.classList.value.indexOf("aptr-"))){D=!1;break a}D=D.parentNode}D=!0}if(D)if(P=r.textContent,P=P.trim(),r.childNodes&&0<r.childNodes.length){Q=void 0;D="";switch(B){case "is":case "startsWith":case "endsWith":case "contains":Q="contains";D=F;break;case "isNot":case "notContains":case "notStartsWith":case "notEndsWith":Q="isNotEmpty";break;case "isNotEmpty":Q=B}if(("isEmpty"===B||(0,m.matchExpression)(P,
Q,D))&&(I=v(r,B,F)))break}else{if(Q===a&&(0,m.matchExpression)(P,B,F)&&(0,e.isElementVisible)(r.parentNode))return r.parentNode;if(Q===H&&(0,m.matchExpression)(P,B,F)&&(0,e.isElementVisible)(r))return r}}return I}function x(r){if(!r||!(0,e.isElementVisible)(r))return null;var B=void 0;return B="input"===r.tagName.toLowerCase()?r.value:r.textContent,(0,e.isUndefinedStr)(B)?null:B.trim()}function l(r){var B=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];try{if(r){var F=g.documentRef.documentElement,
I=(0,f.detectIE)();I&&(F=I<=h.LAST_IE_VERSION?g.documentRef.documentElement:g.documentRef.body);var Q=F;var P=Q.scrollTop,D=Q.scrollLeft;r.focus({preventScroll:B});var O;if(O=B){var W=(0,f.detectIE)();B=!1;O=(W&&(B=79>W),B)}O&&(Q.scrollLeft=D,Q.scrollTop=P)}}catch(ba){d.logger.logInternalError(ba,"FocusElement - could not focus on element")}}Object.defineProperty(b,"__esModule",{value:!0});b.isFixedPosition=b.checkIfSameElement=b.getTagName=b.removeTransitionStartListener=b.addTransitionStartListener=
b.removeTransitionEndListener=b.addTransitionEndListener=b.stripHtml=b.isElement=b.addNonceToDomString=b.disableFocusOnClick=b.focusElement=b.getText=b.findElementInWindow=b.observeDOM=b.addStyleTag=b.getElementText=b.getIframeOffsetOfElement=b.getContainingIframeOfElement=b.getParentWindowOfElement=b.findElementInFrames=b.findInWindow=b.findAllElements=b.findElement=b.checkIframe=b.toDom=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&
"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e=c(0),n=c(1),d=c(2),f=c(9),m=c(70),h=c(6),g=c(4),k=c(18),t=c(36),u=c(22),z=/([^]*?)({[^]*?}|,)/g,C=["script","style"],a=3,H=1;E=function(){var r=(0,t.getNativeMutationObserver)();return function(B,F){B&&(r?(new r(function(I){F(I)})).observe(B,{childList:!0,subtree:!0}):window.addEventListener&&(B.addEventListener("DOMNodeInserted",F,!1),B.addEventListener("DOMNodeRemoved",F,!1)))}}();b.toDom=function(r,B,F){F=
(0,e.createElement)("div",F);return r=y(r),F.innerHTML=r,B?F.firstChild:F};b.checkIframe=q;b.findElement=function(r,B){var F=(0,u.getTopWindow)().document.querySelector(r),I=void 0;if(F)return{element:F,sourceIframe:null};try{if((0,e.isNotEmptyArr)(B))for(var Q=0;Q<B.length&&(I=B[Q],!q(I)||!(F=I.iframe.document.querySelector(r)));Q++);}catch(P){}return F?{element:F,sourceIframe:F?I:void 0}:void 0};b.findAllElements=function(r,B){var F=[],I=(0,u.getTopWindow)().document.querySelector(r);I&&F.push(I);
try{var Q=void 0;if(B)for(var P=0;P<B.length;P++)Q=B[P],q(Q)&&(I=Q.iframe.document.querySelector(r))&&F.push(I)}catch(D){}return F};b.findInWindow=w;b.findElementInFrames=function(r,B){var F=void 0,I=void 0;try{if((0,e.isNotEmptyArr)(B))for(var Q=0;Q<B.length&&(I=B[Q],!q(I)||!(F=I.iframe.document.querySelector(r)));Q++);}catch(P){}return{element:F,sourceIframe:F?I:void 0}};b.getParentWindowOfElement=function(r){r=r.ownerDocument;return r.defaultView||r.parentWindow};b.getContainingIframeOfElement=
function(r){return r.ownerDocument.defaultView.frameElement};b.getIframeOffsetOfElement=function(r){try{for(var B=0,F=0,I=0,Q=0,P=r.ownerDocument.defaultView;P!==(0,u.getTopWindow)();){var D=P.frameElement.getBoundingClientRect();B+=D.top;F+=D.left;I+=D.right;Q+=D.bottom;P=P.frameElement.ownerDocument.defaultView}return{top:B,left:F,right:I,bottom:Q}}catch(O){return d.logger.logInternalError(O),{top:0,left:0,right:0,bottom:0}}};b.getElementText=function(r){return x(w(r,document))};b.addStyleTag=function(r,
B,F,I,Q){if(!(0,e.isBlank)(B)){var P=document.createElement("style"),D=(0,n.getConfig)("cssNonce");D&&(P.nonce=D);P.type="text/css";if(F){Q=Q?F:"."+F;Q=I?I+" "+Q:Q;var O=B.indexOf(F);if(-1<O){var W=B.indexOf("}",O);F=B.substring(0,O-1);D=B.substring(W+1,B.length);B=B.substring(O-1,W+1);Q=(F+D).replace(z,Q+" $1 $2");I=I?I+" "+B+Q:B+Q}else I=B.replace(z,Q+" $1 $2")}else I=B;B=I;P.styleSheet?P.styleSheet.cssText=B:P.appendChild(document.createTextNode(B));r.appendChild(P)}};b.observeDOM=E;b.findElementInWindow=
function(r,B,F){var I=void 0,Q=void 0;if(r.matchCssSelector){if(Q=(0,k.findElementsInShadowDom)(r.cssSelector,B),(0,e.isEmptyArr)(Q))return null;if(r.matchTextRule){B=[];for(var P=0;P<Q.length;P++)if(I=Q[P],(0,m.matchExpression)((0,e.isBlank)(I.textContent)?"":I.textContent.trim(),r.textRuleOperator,r.textRuleValues[0])){if(!F)return I;B.push(I)}return(0,e.isEmptyArr)(B)?null:B}return F?Q:Q[0]}return r.matchTextRule?(r=v((0,n.getBody)(),r.textRuleOperator,r.textRuleValues[0]))&&F?[r]:r:null};b.getText=
x;b.focusElement=l;b.disableFocusOnClick=function(r,B){try{(0,e.addEventListener)(r,"mousedown",function(F){F.preventDefault();B&&l(B)})}catch(F){d.logger.log(F,"disableFocusOnClick")}};b.addNonceToDomString=y;b.isElement=function(r){return"object"===("undefined"==typeof HTMLElement?"undefined":p(HTMLElement))?r instanceof HTMLElement:r&&"object"===(void 0===r?"undefined":p(r))&&1===r.nodeType&&"string"==typeof r.nodeName};b.stripHtml=function(r){var B=document.createElement("div");return B.innerHTML=
r,B.textContent};b.addTransitionEndListener=function(r,B){["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"].forEach(function(F){(0,e.addEventListener)(r,F,B)})};b.removeTransitionEndListener=function(r,B){["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"].forEach(function(F){(0,e.removeEventListener)(r,F,B)})};b.addTransitionStartListener=function(r,B){["webkitTransitionStart","mozTransitionStart","oTransitionStart","transitionstart"].forEach(function(F){(0,e.addEventListener)(r,
F,B)})};b.removeTransitionStartListener=function(r,B){["webkitTransitionStart","mozTransitionStart","oTransitionStart","transitionstart"].forEach(function(F){(0,e.removeEventListener)(r,F,B)})};b.getTagName=function(r){return r.tagName&&"function"==typeof r.tagName.toLowerCase?r.tagName:r.nodeName};b.checkIfSameElement=function(r,B){return B===r||B.isEqualNode(r)};b.isFixedPosition=function(r){for(var B=(0,n.getBody)();r&&r!==B;){if("fixed"===window.getComputedStyle(r).position.toLowerCase())return!0;
r=r.parentNode}return!1}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function q(w,v){for(var x=0;x<v.length;x++){var l=v[x];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(w,l.key,l)}}return function(w,v,x){return v&&q(w.prototype,v),x&&q(w,x),w}}();b.LocalCache=function(){function q(){if(!(this instanceof q))throw new TypeError("Cannot call a class as a function");this.data={};this.callbacks=[]}return y(q,[{key:"getdata",
value:function(){return this.data}},{key:"onChange",value:function(w){w&&"function"==typeof w&&this.callbacks.push(w)}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"setdata",value:function(w,v){var x=this;try{this.data[w]=v,this.callbacks.forEach(function(l){l(x.data)})}catch(l){}}},{key:"mergeData",value:function(w,v,x){if(void 0!==v&&null!=v&&"[object Object]"==Object.prototype.toString.call(v)){var l=this.data[w];l||={};x?Object.keys(v).forEach(function(e){l.hasOwnProperty(e)||
(l[e]=v[e])}):Object.assign(l,v);this.data[w]=l}else{var p=this.getKey(w);x?!p&&this.setdata(w,v):this.setdata(w,v)}}},{key:"addToMap",value:function(w,v,x){var l=this.data[w];l||={};l[v]||(l[v]={});Object.assign(l[v],x);this.data[w]=l}},{key:"getKey",value:function(w){return this.data[w]}},{key:"deleteKey",value:function(w){delete this.data[w]}}]),q}();b.cacheSet="setdata";b.cacheGetAll="getdata";b.cacheGet="getKey";b.cacheGetAsString="toString";b.cacheMerge="mergeData";b.cacheOnChange="onChange"},
function(E,b,c){function y(){if(!f){f=!0;for(var t=0;t<h.length;t++){var u=Array.prototype.slice.call(h[t]),z=u.shift();try{z.apply(window,u)}catch(C){}}h=[]}}function q(){"complete"===document.readyState&&ready()}function w(t){t=t||window.navigator.userAgent;var u=t.indexOf("MSIE ");if(0<u)return parseInt(t.substring(u+5,t.indexOf(".",u)),10);if(0<t.indexOf("Trident/"))return u=t.indexOf("rv:"),parseInt(t.substring(u+3,t.indexOf(".",u)),10);u=t.indexOf("Edge/");return 0<u&&parseInt(t.substring(u+
5,t.indexOf(".",u)),10)}function v(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")}function x(){var t=document.location.protocol.startsWith("https"),u=window.self!==window.top.parent&&!window.runVue&&t,z=(0,n.getConfig)("sameSiteCookie"),C="";if(u)return"; SameSite\x3dNone; Secure";if(z&&e.SAME_SITE_VALUES.includes(z))C="; sameSite\x3d"+z;else if(v())return"; SameSite\x3dNone; Secure";return t?C+"; Secure":C+";"}Object.defineProperty(b,"__esModule",{value:!0});b.isFirefox=b.getBrowserDetails=
b.getPointerDownEventName=b.getPointerUpEventName=b.applyStyle=b.getSameSiteCookieSuffix=b.detectIE=b.localStorageEnabled=b.url2Location=b.getDomain=b.addDOMReadyListener=b.getFullPageHeight=b.getPageHeight=b.getPageWidth=void 0;var l=c(14),p=c(4),e=c(6),n=c(1),d=c(15),f=!1,m=!1,h=[],g=null,k=null;b.getPageWidth=function(t){var u=null;return window.innerWidth&&!t?u=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?u=document.documentElement.clientWidth:(0,n.getBody)()&&
(u=(0,n.getBody)().clientWidth),u||0};b.getPageHeight=function(){var t=null;return window.innerHeight?t=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?t=document.documentElement.clientHeight:(0,n.getBody)()&&(t=(0,n.getBody)().clientHeight),t||0};b.getFullPageHeight=function(){var t=document.documentElement;return Math.max(document.body.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)};b.addDOMReadyListener=function(t){if(f){var u=[].slice.call(arguments,
1);return void setTimeout(function(){t.apply(window,u)},1)}h.push(arguments);"complete"===document.readyState?setTimeout(y,1):m||(document.addEventListener?(document.addEventListener("DOMContentLoaded",y,!1),window.addEventListener("load",y,!1)):(document.attachEvent("onreadystatechange",q),window.attachEvent("onload",y)),m=!0)};b.getDomain=function(){if((0,n.getConfig)("localStorageCookie"))return k=document.location.hostname;if(g!==document.location.hostname){g=document.location.hostname;var t=
new Date,u=void 0,z=void 0,C="apt.temp-"+Date.now()+l.UUIDGenerator.generateRandom(8),a=document.location.hostname.split("."),H=x();if(t.setTime(Date.now()+6E4),1==a.length)return k="";for(var r=a.length-1;0<=r;r--)if(u=a.slice(r).join("."),z="."+u,document.cookie=C+"\x3dcookie;domain\x3d"+z+"; expires\x3d"+t.toUTCString()+H,-1<document.cookie.indexOf(C))return document.cookie=C+"\x3d;domain\x3d"+z+";expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+H,k="."+u;k=document.location.hostname}return k};b.url2Location=
function(t){if((0,d.isBlank)(t))return null;try{var u=p.documentRef.createElement("a");return u.href=t,{protocol:u.protocol+"//",host:u.host,pathname:u.pathname,search:u.search,hash:u.hash}}catch(z){return null}};b.localStorageEnabled=function(){try{return localStorage.setItem("aptTest","aptTest"),localStorage.removeItem("aptTest"),!0}catch(t){return!1}};b.detectIE=w;b.getSameSiteCookieSuffix=x;b.applyStyle=function(t,u,z){z&&(t.style[u]=z)};b.getPointerUpEventName=function(){var t=w();return t&&
t<e.LAST_IE_VERSION?"MSPointerUp":"pointerup"};b.getPointerDownEventName=function(){var t=w();return t&&t<e.LAST_IE_VERSION?"MSPointerDown":"pointerdown"};b.getBrowserDetails=function(){var t=navigator.userAgent,u=void 0,z=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(z[1])?(u=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:u[1]||""}):"Chrome"===z[1]&&null!=(u=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:u[1]}:(z=z[2]?[z[1],z[2]]:[navigator.appName,
navigator.appVersion,"-?"],u=t.match(/version\/(\d+)/i),null!=u&&z.splice(1,1,u[1]),{name:z[0].toLowerCase(),version:z[1]})};b.isFirefox=v},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.jsonStringify=function(y,q){if(Array.prototype.toJSON){var w="",v=Array.prototype.toJSON;delete Array.prototype.toJSON;try{w=JSON.stringify(y,q)}catch(x){throw x;}finally{Array.prototype.toJSON=v}return w}return JSON.stringify(y,q)};E=function(y){return!!y&&/\{\s+\[native code\]/.test(Function.prototype.toString.call(y))}(Array.from)?
Array.from:function(){var y=Object.prototype.toString,q=function(v){return"function"==typeof v||"[object Function]"===y.call(v)},w=Math.pow(2,53)-1;return function(v){var x=Object(v);if(null==v)throw new TypeError("Array.from requires an array-like object - not null or undefined");var l=1<arguments.length?arguments[1]:void 0,p=void 0;if(void 0!==l){if(!q(l))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(p=arguments[2])}var e=Number(x.length);
e=isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e;e=Math.min(Math.max(e,0),w);for(var n=q(this)?Object(new this(e)):Array(e),d=0,f;d<e;)f=x[d],n[d]=l?void 0===p?l(f,d):l.call(p,f,d):f,d+=1;return n.length=e,n}}();b.arrayFrom=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.internalEventListener=void 0;var y=function(){function l(p,e){for(var n=0;n<e.length;n++){var d=e[n];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(p,
d.key,d)}}return function(p,e,n){return e&&l(p.prototype,e),n&&l(p,n),p}}();E=c(8);var q=c(15),w=c(2),v=c(14),x=new E.LocalCache;c=new (function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");}return y(l,[{key:"addListener",value:function(p,e,n,d,f){var m=v.UUIDGenerator.generateV4Id(),h=x.getKey(p);h||(h=[],x.setdata(p,h));p=!1;for(var g=0;g<h.length;g++)if(h[g].callback===e){p=!0;break}p||h.push({listenerId:m,callback:e,thisReference:n,isExternal:d,
executeOnce:f})}},{key:"removeListener",value:function(p,e,n){p=x.getKey(p);if((0,q.isNotEmptyArr)(p))for(var d=0;d<p.length;d++)p[d].callback!==e&&p[d].listenerId!==n||p.splice(d,1)}},{key:"dispatchEvent",value:function(p){try{var e=x.getKey(p),n=[];1<arguments.length&&(n=Array.prototype.slice.call(arguments,1));var d=[];e&&e.forEach(function(f,m){var h=this;try{f.isExternal?setTimeout(function(){f.callback.apply(f.thisReference||h,n)},0):f.executeOnce&&!f.executed?(f.executed=!0,d.unshift(m),f.callback.apply(f.thisReference||
this,n)):f.callback.apply(f.thisReference||this,n)}catch(g){w.logger.logInternalError(g,"Error while executing listener for type "+p)}});0<d.length&&d.forEach(function(f){return e.splice(f,1)})}catch(f){w.logger.logInternalError(f,"Error while trying to execute listeners for type"+p)}}}]),l}());b.internalEventListener=c},function(E,b,c){function y(g,k,t,u){var z=(0,v.getConfig)("trustedOrigin");t=t?z||"*":k.location.protocol+"//"+((0,x.isValidPort)(k.location.port)?k.location.host:k.location.hostname);
k.postMessage((0,m.jsonStringify)(g,u),t)}function q(g,k){var t=(0,v.getConfig)("trustedOrigin");t&&t!==k.origin||k.iframe.postMessage((0,m.jsonStringify)(g),k.origin)}function w(g,k,t,u){var z=e.UUIDGenerator.generateV4Id();(0,p.subscribe)(z,u);q(p.IframeRequest.getMasterRequst(g,k,z),t);(0,p.incrementState)(z)}Object.defineProperty(b,"__esModule",{value:!0});b.setupIframeUnregisterOnUnload=b.isValidPort=b.fixBadgesLocations=b.iframeSubscribeCallback=b.createSubscribeCallbackRequest=b.associateChildIframes=
b.getIframeBoundingRect=b.getIframeId=b.isValidCallingDomain=b.postRequestDown=b.postRequest=b.parseEvent=b.propagateDown=void 0;var v=c(1),x=c(15),l=c(2),p=c(5),e=c(14),n=c(9),d=c(18),f=c(0),m=c(10),h=c(22);b.propagateDown=function(g,k){try{(0,v.isIframe)()||(0,x.isEmptyArr)(k)||k.forEach(function(t){g.aptrinsicIframeId=t.iframeId;t.iframe&&t.iframe.postMessage((0,m.jsonStringify)(g),t.origin)})}catch(t){l.logger.logInternalError(t)}};b.parseEvent=function(g){try{return g&&g.data&&("string"==typeof g.data||
g.data instanceof String)&&g.data.startsWith("{")?new p.IframeRequest(JSON.parse(g.data)):null}catch(k){return null}};b.postRequest=y;b.postRequestDown=q;b.isValidCallingDomain=function(g){if("string"!=typeof g)return!1;var k=(0,n.getDomain)();g=(0,f.safeUrl)(g,!0);-1<g.indexOf(":")&&-1===k.indexOf(":")&&(g=g.split(":")[0]);var t=g.endsWith(k),u=-1<g.indexOf(k),z=(0,v.getConfig)("trustedOrigin");return(!z||(0,f.safeUrl)(z,!0)===g)&&(!t&&u&&l.logger.logInternalError(Error("iframe validate domain suffix does not match but domain "+
k+" found in "+g)),!(!t&&0!==g.indexOf(k.substring(1,k.length))&&!(0,v.getConfig)("allowCrossDomain")))};b.getIframeId=x.getIframeId;b.getIframeBoundingRect=function(g){var k=window.frames;if(0<k.length)for(var t=0;t<k.length;t++)if(k[t]===g.source)return g=k[t].getBoundingClientRect(),{top:g.top,right:g.right,bottom:g.bottom,left:g.left,width:g.width,height:g.height,x:g.x,y:g.y};return{top:0,right:0,bottom:0,left:0}};b.associateChildIframes=function(g){if(0<g.length)for(var k=0;k<g.length;k++)(function(t){var u=
void 0,z=(0,v.getConfig)("allowBlankSrc")&&("about:blank"===g[t].src||""===g[t].src),C=!g[t].src&&g[t].srcdoc;if(z||C)u="*";else{if(!g[t].src.startsWith("http"))return"continue";z=document.createElement("a");z.href=g[t].src;u=z.protocol+"//"+((0,x.isValidPort)(z.port)?z.host:z.hostname)}var a=!1;(0,x.retryFunction)(5,500,function(){a||w("getChildAssociation",null,new p.IframeData(g[t].contentWindow,u),function(H){(0,p.associateIframe)(H[0].iframeId,g[t]);a=!0})})})(k)};b.createSubscribeCallbackRequest=
w;b.iframeSubscribeCallback=function(g,k,t){var u=e.UUIDGenerator.generateV4Id();(0,p.subscribe)(u,t);y(p.IframeRequest.getIframeRequest((0,x.getIframeId)(),g,k,u),(0,h.getTopWindow)(),!0);(0,p.incrementState)(u)};b.fixBadgesLocations=function(g,k){g=(0,p.getIframeData)(g);if(!g)return[];var t=g.domElement,u=(0,v.getConfig)("framesetMode"),z=u?g.frameOffset:t.getBoundingClientRect(),C=u||(0,d.isElementVisible)(t,!0);g=[];return Array.isArray(k)&&(g=k.map(function(a){return Object.assign({},a,{isVisible:a.isVisible&&
C,rect:Object.assign({},a.rect,{top:a.rect.top+z.top,left:a.rect.left+z.left,right:a.rect.right+z.right,bottom:a.rect.bottom+z.bottom})})})),g};b.isValidPort=x.isValidPort;b.setupIframeUnregisterOnUnload=function(g){function k(){var u=p.IframeRequest.getIframeRequest((0,x.getIframeId)(),"pxUnregister",null,e.UUIDGenerator.generateV4Id());y(u,g,!0);t&&y(u,t,!0)}var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;(0,v.getConfig)("cleanIframeCache")&&((0,f.removeEventListener)(window,"unload",
k),(0,f.addEventListener)(window,"unload",k))}},function(E,b,c){function y(d,f,m,h,g,k,t,u,z){try{var C=n.createCors(d,f,z);if(!C){if(u)return;throw Error("cannot make request to "+f+" not supported");}if(t&&C.setRequestHeader("Content-Type","application/json"),g)for(var a in g)g.hasOwnProperty(a)&&C.setRequestHeader(a,g[a]);C.onload=function(){try{var H=C.responseText,r=null;if(""!==H)try{r=JSON.parse(H)}catch(F){r=H}if(200<=C.status&&300>C.status){var B=w.eventTrackData[x.cacheGet](w.productIdParameter);
r&&r.p&&B&&!(0,l.isApiKeyMatch)(r.p,B)&&!(0,p.getConfig)("crossProductEngagement")||m&&m(r)}else v.logger.log("error "+C.statusText+" happened in the request: "+d+" "+f),h&&h(C.status,r)}catch(F){u||v.logger.logInternalError(F)}};C.onerror=function(){u||(h&&h(),v.logger.log("error happened in the request: "+d+" "+f))};Object.isExtensible(C)&&(C.PXsource="true");k&&"GET"!==d?C.send((0,e.jsonStringify)(k)):C.send()}catch(H){if(!u){g="sendAjaxRequest: ";if(g+="URL: '"+f+"'\n",k)try{g+="Data: '"+(0,e.jsonStringify)(k)+
"'\n"}catch(r){}v.logger.logInternalError(H,g)}}}Object.defineProperty(b,"__esModule",{value:!0});b.AjaxUtil=void 0;var q=function(){function d(f,m){for(var h=0;h<m.length;h++){var g=m[h];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(f,g.key,g)}}return function(f,m,h){return m&&d(f.prototype,m),h&&d(f,h),f}}(),w=c(4),v=c(2),x=c(8),l=c(15),p=c(1),e=c(10),n=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
}return q(d,null,[{key:"createCors",value:function(f,m,h){var g=new XMLHttpRequest;h=void 0===h?(0,p.getConfig)("requestTimeoutDefault"):h;return h&&(g.timeout=h),"withCredentials"in g?g.open(f,m,!0):"undefined"!=typeof XDomainRequest?(g=new XDomainRequest,g.open(f,m)):g=null,g}},{key:"postData",value:function(f,m,h,g,k,t,u,z){y("POST",f,g,k,h,m,t,u,z)}},{key:"putData",value:function(f,m,h,g,k,t){y("PUT",f,g,k,h,m,t)}},{key:"getData",value:function(f,m,h,g,k,t,u){y("GET",f,m,g,h,null,k,t,u)}},{key:"deleteData",
value:function(f,m,h,g,k,t){y("DELETE",f,g,k,h,m,t)}},{key:"loadFile",value:function(f,m,h){try{var g=null;switch(f){case "js":g=w.documentRef.createElement("script");g.async=!0;g.type="text/javascript";g.src=m;break;case "css":g=w.documentRef.createElement("link");g.rel="stylesheet";g.type="text/css";g.href=m;h&&(g.crossOrigin="anonymous");break;default:throw Error("unknown type "+f);}w.documentRef.getElementsByTagName("head")[0].appendChild(g)}catch(k){v.logger.logInternalError(k)}}}]),d}();b.AjaxUtil=
n},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function w(v,x){for(var l=0;l<x.length;l++){var p=x[l];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(v,p.key,p)}}return function(v,x,l){return x&&w(v.prototype,x),l&&w(v,l),v}}(),q=c(127);b.UUIDGenerator=function(){function w(){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");}return y(w,null,[{key:"generateUuid",value:function(v){return v+
"-"+(new Date).getTime()+"-"+this.generateRandom(8)}},{key:"getProductId",value:function(v){return v?v.split(".")[0].split("-").slice(0,-2).join("-"):null}},{key:"getRandomInt",value:function(v,x){v=Math.ceil(v);return Math.floor(Math.random()*(Math.floor(x)-v))+v}},{key:"generateRandom",value:function(v){for(var x="",l=0;l<v;l++)x+=this.getRandomInt(1,10);return x}},{key:"generateV4Id",value:function(){return q()}}]),w}()},function(E,b,c){function y(l){return!l||"string"!=typeof l||""==l.trim()}
function q(l){if(l){l=l.split("-");var p=l.length;return 2<l.length&&l.splice(2,1),4>p&&l.push("1"),l.join("-")}return l}Object.defineProperty(b,"__esModule",{value:!0});b.isNotNullOrUndefined=b.isObjectEmpty=b.isFeatureEvent=b.isLinkClickEvent=b.isClickEvent=b.isPageViewEvent=b.isBlank=b.isEmptyArr=b.isObject=b.getIframeId=b.isValidPort=b.retryFunction=b.isApiKeyMatch=b.getProduct=b.getProductKeyFromApiKey=b.mapQueryParamsToObject=b.isNotEmptyArr=void 0;var w=function(){return function(l,p){if(Array.isArray(l))return l;
if(Symbol.iterator in Object(l)){var e=[],n=!0,d=!1,f=void 0;try{for(var m,h=l[Symbol.iterator]();!(n=(m=h.next()).done)&&(e.push(m.value),!p||e.length!==p);n=!0);}catch(g){d=!0,f=g}finally{try{!n&&h.return&&h.return()}finally{if(d)throw f;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),v=c(14),x=c(10);b.isNotEmptyArr=function(l){return l&&Array.isArray(l)&&0<l.length};b.mapQueryParamsToObject=function(l){var p={};return l.split("\x26").forEach(function(e){e=
e.split("\x3d");e=w(e,2);p[e[0]]=e[1]},{}),p};b.getProductKeyFromApiKey=q;b.getProduct=function(l){return l?l.split("-").slice(1,2).join():l};b.isApiKeyMatch=function(l,p){return q(l)===q(p)};b.retryFunction=function(l,p,e){for(var n=0;n<l;n++)setTimeout(e,p*n)};b.isValidPort=function(l){return!y(l)&&"80"!==l&&"443"!==l};b.getIframeId=function(){return window.aptrinsicIframeId=window.aptrinsicIframeId||v.UUIDGenerator.generateV4Id()};b.isObject=function(l){return void 0!==l&&"[object Object]"==Object.prototype.toString.call(l)};
b.isEmptyArr=function(l){if(l){var p=l;return Array.isArray(p)||(p=(0,x.arrayFrom)(l)),Array.isArray(p)&&0==p.length}return!0};b.isBlank=y;b.isPageViewEvent=function(l){return"pageview"===l};b.isClickEvent=function(l){return"click"===l};b.isLinkClickEvent=function(l){return"linkClick"===l};b.isFeatureEvent=function(l){return"feature"===l};b.isObjectEmpty=function(l){if(l)for(var p in l)if(l.hasOwnProperty(p))return!1;return!0};b.isNotNullOrUndefined=function(l){return-1===[null,void 0].indexOf(l)}},
function(E,b,c){function y(d,f,m){return f in d?Object.defineProperty(d,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[f]=m,d}function q(){var d=(0,l.getAptTokenCookieValues)(),f={};return d&&2<d.length&&(f=JSON.parse(d[2])),f}Object.defineProperty(b,"__esModule",{value:!0});b.previewEndpoint=void 0;b.getAptTokenCookieAdditionalData=q;var w=c(33),v=c(13),x=c(1),l=c(134),p=l&&l.__esModule?l:{default:l},e=window,n=[l.tokenParamName,l.languageParamName,l.editorTypeParamName,l.guideIdParamName,
l.contentIdParamName,l.contentGroupIdParamName,l.engagementId,l.previewParamName,l.knowledgeCenterParamName,l.productKeyParamName,l.isParentSubscription,l.isChildSubscription,l.exitUrlParam,l.SELECTED_FEATURE_PARAM];E=new function(){var d=void 0,f=void 0,m={},h=void 0,g=void 0,k=void 0,t={},u=function(){return h.push(arguments),!0};return e.guideEditor=e.guideEditor||u,h=e.guideEditor.q||[],e.guideEditor.q=e.guideEditor.q||h,u.getQueue=function(){return h},u.isEditorMode=function(){return d&&f},u.isEngagementEditorV2=
function(){return"7"===f},u.getToken=function(){return d},u.getType=function(){return f},u.isPreview=function(){return"true"===m[l.previewParamName]},u.getPreviewUrl=function(){return"https://app-be.aptrinsic.com/api/editor/v2/preview/"+m[l.contentGroupIdParamName]+"/"+m[l.contentIdParamName]+"?lang\x3d"+m[l.languageParamName]},u.loadEditor=function(z){g=g||z;var C=(0,x.getStaticContentHost)();return"1"===f?v.AjaxUtil.loadFile("js",C+"/api/product-mapper.min.js?a\x3d"+z):"2"===f?v.AjaxUtil.loadFile("js",
C+"/api/guide-editor.min.js?a\x3d"+z):u.isEngagementEditorV2()&&v.AjaxUtil.loadFile("js",C+"/api/engagement-editor.min.js?a\x3d"+z),!0},u.getAdditionalDetails=function(){return m},u.replaceCall=function(z){u=z},u.exit=function(){sessionStorage.removeItem(l.tokenCookieName);w.Cookie.deleteCookie(l.tokenCookieName)},u.getAptOnExitRedirectURL=function(){return q()[l.exitUrlParam]||null},u.cleanEngagementData=function(){var z="queryParam"===k?"?":"#",C=[];Object.keys(t).forEach(function(H){-1===n.indexOf(H)&&
C.push(H+"\x3d"+t[H])});z=0<C.length?z+C.join("\x26"):"";var a=e.location.protocol+"//"+e.location.host+e.location.pathname;return a+="queryParam"===k?z+e.location.hash:e.location.search+z},u.getProductKey=function(){return g},u.getQueryParams=function(){var z;return Object.assign((z={},y(z,l.tokenParamName,d),y(z,l.editorTypeParamName,f),y(z,l.productKeyParamName,g),z),m)},u.saveConfig=function(){if(d&&f&&3!=f&&4!=f&&5!=f){var z=[d,f,JSON.stringify(m)].join("\x26");(0,x.getConfig)("useSessionStorageEditorToken")?
(sessionStorage.setItem(l.tokenCookieName,z),w.Cookie.deleteCookie(l.tokenCookieName)):(w.Cookie.setCookie(l.tokenCookieName,z),sessionStorage.removeItem(l.tokenCookieName))}},function(){var z=(0,p.default)(window);d=z.token;f=z.type;m=z.additionalDetails;t=z.queryParamsHash;g=z.productKey;k=z.tokenUrlPosition}(),u};b.default=E;b.previewEndpoint="https://app-be.aptrinsic.com/api/editor/v2/preview"},function(E,b,c){function y(S,M,V){return S===r.ACTIVATION_TYPE_AUTOMATIC&&M&&M.enabled||V&&-1<V.indexOf(r.EDITOR_ACTIVATION_TYPE_AUTOMATIC)}
function q(S,M,V){var X=M.backgroundColor,Y=M.backgroundFill,qa=M.textColor,xa=M.cornerRadius,Ea=M.hoverBackgroundColor,Ha=M.hoverBackgroundFill,Ba=M.hoverBorderColor,wa=M.hoverTextColor,Fa=M.borderColor;M=M.borderWidth;var ia=".px-step-navigation-"+V+":hover {";X=".px-step-navigation-"+V+" {background-color: "+((-1<Y?(0,k.hexToRgba)(X,Y/100):X)+";");ia+="background-color: "+(-1<Ha?(0,k.hexToRgba)(Ea,Ha/100):Ea)+";";X+="color: "+qa+";";X+="border-radius: "+xa+"px;";X+="border-width: "+M+"px;";X+=
"border-color: "+Fa+";";ia=ia+("color: "+wa+";border-color: ")+(Ba+";");X+="}";ia+="}";(0,k.addStyle)(X+ia,"px-step-navigation-"+V,S)}function w(S,M,V){if(!O.default.isEditorMode()){var X=[];X=(0,k.addParameters)(C.eventTrackData[z.cacheGetAll](),X);(0,k.addParameters)({ei:S.engagementId,ecoi:S.contentId||S.content.id,evi:S.matchEventId||null,ent:S.contentTypeId||S.content.contentTypeId,acci:S.accountId,exi:S.executionId,ext:S.executionTimestamp,cl:S.contentLocale,at:S.activationType||"a",cosi:M,
cossn:V},X);(S=(0,P.getGlobalContext)())&&(0,k.addParameters)({gcx:JSON.stringify(S)},X);X=(0,k.addParameters)((0,D.getWebContext)(),X);F.AjaxUtil.getData(I.snoozeUrl+"?"+(0,k.convert2Parameters)(X))}}function v(S,M,V,X){S={ei:S.engagementId,ecoi:S.contentId||S.content.id,ent:S.contentTypeId||S.content.contentTypeId,evi:S.matchEventId,ett:M,exi:S.executionId,ext:S.executionTimestamp,acci:S.accountId};V&&(S.cosi=V,(X||0===X)&&(S.cossn=X));V=(0,k.addParameters)(S,[]);X=(0,P.getGlobalContext)();return X&&
(0,k.addParameters)({gcx:JSON.stringify(X)},V),(0,k.addParameters)(C.eventTrackData[z.cacheGetAll](),V)}function x(S){switch(S){case "IN_APP_DIALOG":S="Dialog";break;case "IN_APP_CAROUSEL":S="Slider";break;case "IN_APP_GUIDE":S="Guide";break;case "IN_APP_SURVEY_NPS":S="NPS";break;case "IN_APP_CES_SURVEY":S="CES";break;case "IN_APP_RATING_SURVEY":S="Rating";break;case "IN_APP_BOOLEAN_SURVEY":S="Boolean";break;case "IN_APP_MULTIPLE_QUESTION_SURVEY":S="Multi Question";break;default:return}return S}function l(S){switch(S){case "a":return"Auto";
case "kc":return"Bot";case "b":return"Badge";case "jo":return"Journey Orchestrator";default:throw"unknown activation type "+S;}}function p(S,M){return{engagementId:S.engagementId,executionId:S.executionId,executionTimestamp:S.executionTimestamp,engagementType:x(S.contentType||S.content.contentType),activation:l(S.activationType),engagementName:S.engagementName,interaction:M,identifyId:S.ideId}}function e(S){var M=void 0,V=void 0;S?document.querySelectorAll(".px-engagement-wrapper").forEach(function(X){V||
(V=X.querySelector("#step-"+S),M=X)}):M=document.querySelector(".px-engagement-wrapper");return M}function n(S,M,V){return function(X){try{var Y=X.target;if(S===Y||S.contains(Y)){X="LINK_CLICK";Y="linkClick";var qa="Link Clicked";if(S.parentNode.classList.contains("apt-custom-button")&&(X="CUSTOM_BUTTON_CLICK",Y="customButtonClick",qa="Custom Button clicked"),S.href){var xa=S.href.split("ru\x3d");if(2===xa.length){var Ea=decodeURIComponent(xa[1]);a.internalEventListener.dispatchEvent(Y,Ea,p(M,qa),
V);a.internalEventListener.dispatchEvent(X,Ea,p(M,qa),V)}}}}catch(Ha){u.logger.log("listenToLinksClicks "+Ha)}}}function d(S,M,V,X){a.internalEventListener.dispatchEvent(S,{engagementType:V.content.contentType,engagementId:V.engagementId,width:M.width,height:M.height,fixedWidth:X.width,fixedHeight:X.autoHeight?M.height:X.height})}function f(S,M,V){M=(0,k.paramToObject)(M,{});var X=B.eventCache.getKey("trackingPayload"),Y=M.gcx,qa=M.ru;Object.assign(M,X||{},V||{},Y?{gcx:decodeURIComponent(Y)}:{},qa?
{ru:decodeURIComponent(qa)}:{});F.AjaxUtil.postData(S,M,null,null,null,!0)}function m(S,M,V,X){var Y=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];return function(qa){qa.preventDefault();qa=v(S,"ENGAGEMENT_CLICK",M,V);return qa=(0,k.addParameters)({ru:X},qa),f(I.desktopEngagementTrackEndpoint+"/track/link/click",qa),a.internalEventListener.dispatchEvent("engagementLinkClick",{engagementType:S.content.contentType,engagementId:S.engagementId,link:X,close:Y}),!1}}function h(S,M,V){if(S){var X=
S.querySelector(".apt-step-content");X&&M&&null!==M.right&&null!==M.top&&null!==M.bottom&&null!==M.left&&(X.style.paddingTop=(M.top||0)+"px",X.style.paddingBottom=(M.bottom||0)+"px",(0,t.addStyleTag)(S,(V?"#step-"+V:"")+" .px-div-group { \n\t\t\t\t\tpadding-left: "+(M.left||0)+"px; \n\t\t\t\t\tpadding-right: "+(M.right||0)+"px; \n\t\t\t\t}","px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"))}}function g(S){var M="";return M+=(S.offsetX?S.offsetX:0)+"px ",M+=(S.offsetY?S.offsetY:0)+"px ",M+=
(S.blur?S.blur:0)+"px ",S.fill&&S.color&&(M+=(0,k.hexToRgba)(S.color,S.fill/100)),M}Object.defineProperty(b,"__esModule",{value:!0});b.addGlobalSettings=b.addLinkListenerForDesktop=b.desktopTrackStep=b.desktopTrackEngagementState=b.sendDesktopResize=b.toExternalEventSurvey=b.toExternalEventGuide=b.getExternalEvent=b.getEngagementTrackPayload=b.PX_TABBABLE_ATTR=void 0;b.isSnoozeButtonEnabled=y;b.isSingleStepWithSnooze=function(S,M,V,X){return 1===S&&y(M,V,X)};b.addHoverState=q;b.trackSnooze=w;b.createSnoozeButton=
function(S,M,V,X,Y,qa){var xa=S.text||"Show me later",Ea=(0,k.createElement)("button",["px-step-navigation-snooze"],{text:xa});return Ea.setAttribute(sa,"true"),Ea.setAttribute("aria-label",xa),M.appendChild(Ea),q(Ea,S,"snooze"),(0,k.addEventListener)(Ea,"click",function(){w(V,X,Y);qa()}),(0,t.disableFocusOnClick)(Ea),Ea};b.getRelevantDialog=e;b.addCircularTabListener=function(S,M,V){function X(qa){var xa=e(V);xa=xa&&(xa.contains(qa.target)||xa===qa.target);M?M(qa.target)?(ba+=1,Y(qa)):ba=0:xa?ba=
0:(ba+=1,Y(qa));5===ba&&u.logger.logInternalError(Error("Accessibility - circular tabs - 5 invalid elements in a row with tabindex "+qa.target.tabIndex))}var Y=(0,k.debounce)(S);return(0,k.addEventListener)(document,"focusin",X),X};b.addCircularTabListenerForTooltips=function(S,M,V){function X(xa){var Ea=e(V),Ha=(0,Q.getEventTarget)(xa);(Ea=Ea&&(Ea.contains(Ha)||Ea===Ha))?ba=0:Ha===M||M.contains(Ha)?ba=0:(ba+=1,qa?((0,t.focusElement)(M),C.documentRef.activeElement!==M&&Y(xa)):Y(xa));qa=Ea;5===ba&&
u.logger.logInternalError(Error("Accessibility - circular tabs - 5 invalid elements in a row with tabindex "+xa.target.tabIndex))}var Y=(0,k.debounce)(S),qa=!1;return(0,k.addEventListener)(document,"focusin",X),X};b.removeCicularTabsWrapperListener=function(S){S&&(0,k.removeEventListener)(document,"focusin",S)};b.setTabIndexes=function(S,M){var V=M;S=S.querySelectorAll("a[href], button[onclick]");return 0<S.length&&S.forEach(function(X){X.setAttribute("tabindex",V);X.setAttribute("role","button");
X.setAttribute(sa,"true");V+=1}),V};b.addTabbableEnterListener=function(){za||=(0,k.addEnterKeyDownListener)(document,function(S){var M=document.activeElement;M.getAttribute(sa)&&(M.click(),S.preventDefault())})};b.removeTabbableEnterListener=function(){za&&((0,k.removeEventListener)(document,"keydown",za),za=null)};b.checkHasOverlay=function(S,M){return S&&0<M};b.listenToLinksClicks=function(S,M,V){S.querySelectorAll("a[href]").forEach(function(X){(0,k.addEventListener)(X,"click",n(X,M,V),!1)})};
b.sendDesktopEngagementSizeEvent=d;b.getBoxShadowString=g;b.setShadow=function(S,M){M=g(M);S.style.setProperty("filter","drop-shadow("+M+")");S.style.setProperty("-webkit-filter","drop-shadow("+M+")")};b.replaceImagesSrc=function(S){S.querySelectorAll("img").forEach(function(M){(0,W.replaceAllDomains)(M,"src",(0,I.getConfig)("storageProxyDomain"),r.DEFAULT_STORAGE_DOMAIN)})};b.replaceImagesSrcFromHtmlString=function(S){if(!S)return"";var M=r.DEFAULT_STORAGE_DOMAIN,V=(0,I.getConfig)("storageProxyDomain");
return S.replace(new RegExp(M,"g"),V)};var k=c(0),t=c(7),u=c(2),z=c(8),C=c(4),a=c(11),H=c(21),r=c(6),B=c(68),F=c(13),I=c(1),Q=c(18),P=c(23),D=c(19),O=(E=c(16))&&E.__esModule?E:{default:E},W=c(170),ba=0,ma=[{type:"Promoter",lowScore:9,maxScore:10},{type:"Passive",lowScore:7,maxScore:8},{type:"Detractor",lowScore:0,maxScore:6}],sa=b.PX_TABBABLE_ATTR="data-apt-tabbable-element",za=null;b.getEngagementTrackPayload=v;b.getExternalEvent=p;b.toExternalEventGuide=function(S,M){return{engagementId:S.engagementId,
executionId:S.executionId,executionTimestamp:S.executionTimestamp,engagementType:x(S.contentType),activation:l(S.activationType),engagementName:S.engagementName,interaction:M,identifyId:S.ideId}};b.toExternalEventSurvey=function(S,M,V,X){S={engagementId:S.engagementId,executionId:S.executionId,executionTimestamp:S.executionTimestamp,engagementType:x(S.content.contentType),activation:l(S.activationType),engagementName:S.engagementName,interaction:M,identifyId:S.ideId};if(X)if("SCORE"===X.questionType){if(S.score=
X.score,"IN_APP_SURVEY_NPS"===V)for(V=0;V<ma.length;V++)if(ma[V].lowScore<=S.score&&ma[V].maxScore>=S.score){S.scoreType=ma[V].type;break}(0,k.isBlank)(X.comment)||(S.comment=X.comment)}else"OPEN_TEXT"!==X.questionType||(0,k.isBlank)(X.comment)||(S.comment=X.comment);return S};b.sendDesktopResize=function(S,M,V){(0,H.getChannel)(C.eventTrackData[z.cacheGet](C.productIdParameter))==r.DESKTOP_CHANNEL&&d("engagementResize",S.getBoundingClientRect(),M,V)};b.desktopTrackEngagementState=function(S,M){f(I.desktopEngagementTrackEndpoint+
"/multistep/track",S,M)};b.desktopTrackStep=function(S,M){f(I.desktopEngagementTrackEndpoint+"/multistep/step/track",S,M)};b.addLinkListenerForDesktop=function(S,M,V,X){try{S.querySelectorAll("a").forEach(function(Y){(0,k.addEventListener)(Y,"click",m(M,V,X,Y.href,"_blank"!==Y.target))})}catch(Y){u.logger.logInternalError(Y,"failed to add lister ")}};b.addGlobalSettings=function(S,M,V,X){if(0<=M.indexOf(".px-engagement-global-settings")){var Y=(0,k.extractStyleString)(M,".px-engagement-global-settings");
(Y=(0,k.extractStyleProperties)(Y))&&0<Y.length&&Y.forEach(function(xa){if(-1<["padding","padding-top","padding-bottom","padding-left","padding-right"].indexOf(xa.inlineProperty)){var Ea=S.querySelector(".apt-step-content");Ea&&(Ea.style[xa.inlineProperty]=xa.value)}else S.style[xa.inlineProperty]=xa.value})}if(V){var qa=".px-step-settings-"+V;Y=".px-step-navigation-settings-"+V;0<=M.indexOf(qa)&&(qa=(0,k.extractStyleString)(M,qa),(qa=(0,k.extractStyleProperties)(qa))&&0<qa.length&&qa.forEach(function(xa){S.style[xa.inlineProperty]=
xa.value}));0<=M.indexOf(Y)&&(M=(0,k.extractStyleString)(M,Y),(M=(0,k.extractStyleProperties)(M))&&0<M.length&&M.forEach(function(xa){var Ea=S.querySelector(".px-step-navigation");Ea&&(Ea.style[xa.inlineProperty]=xa.value)}))}h(S,X,V)}},function(E,b,c){function y(u,z){return u.nodeType===Node.ELEMENT_NODE&&z.some(function(C){return null!==u.getAttribute(C)&&""!==u.getAttribute(C)})}function q(u,z,C){if(y(u,z))return u;if(C>=g)return null;u=u.childNodes;if(0<u.length)for(var a=0;a<u.length;a++){var H=
q(u[a],z,C+1);if(null!==H)return H}return null}function w(u,z){var C=void 0;if((0,f.getConfig)("usesShadowDom")){var a=function(r){C=!0;r.stopImmediatePropagation()},H="px-parent-child-test-event-"+Date.now();u.addEventListener(H,a);z.dispatchEvent(new CustomEvent(H,{bubbles:!0,composed:!0,cancelable:!0}));u.removeEventListener(H,a)}else C=u.contains(z);return C}function v(u,z,C,a){var H=u.elementFromPoint(z,C);if(H.shadowRoot&&H.shadowRoot!==u){if(!(a<t))return H;H=v(H.shadowRoot,z,C,a+1)}return H}
function x(u,z,C){return(0,f.getConfig)("usesShadowDom")?v(u,z,C,0):u.elementFromPoint(z,C)}function l(u){var z="visible"!==u.visibility,C=.1>u.opacity;return"none"===u.display||z||C}function p(u,z,C){return w(u,x(document,z.x,z.y))||w(u,x(document,C.left,C.top))||w(u,x(document,C.right,C.top))||w(u,x(document,C.right,C.bottom))||w(u,x(document,C.left,C.bottom))||w(u,x(document,z.x,C.top))||w(u,x(document,C.left,z.y))||w(u,x(document,z.x,C.bottom))||w(u,x(document,C.right,z.y))}function e(u,z,C){for(z=
document.elementFromPoint(z.x,z.y);z&&z.tagName;){var a="true"===z.getAttribute("data-apt-ignore-visible"),H=z===u,r=z.getAttribute("class")||"";r=C&&z!==(0,f.getBody)()&&-1<r.indexOf("apt");if(a||H||r)return!0;z=z.parentNode}return!1}function n(u){var z=u.x>(document.documentElement.clientWidth||window.innerWidth),C=0>u.y,a=u.y>(document.documentElement.clientHeight||window.innerHeight);return 0>u.x||z||C||a}Object.defineProperty(b,"__esModule",{value:!0});b.isElementVisibleV2=b.isElementVisible=
b.documentElementFromPoint=b.findOptimizedTarget=b.elementContainsChild=b.getParentElement=b.getParentNode=b.getEventTarget=b.findSingleElementInShadowDom=b.findElementsInShadowDom=void 0;var d=c(156),f=c(1),m=c(4),h=c(15),g=2,k=["#document","html","body"],t=5E3;b.findElementsInShadowDom=function(u,z){z=z||m.documentRef;return(0,f.getConfig)("usesShadowDom")?(0,d.querySelectorAllDeep)(u,z):z.querySelectorAll(u)};b.findSingleElementInShadowDom=function(u,z){z=z||m.documentRef;return(0,f.getConfig)("usesShadowDom")?
(0,d.querySelectorDeep)(u,z):z.querySelector(u)};b.getEventTarget=function(u){var z=(0,f.getConfig)("usesShadowDom");return u?z&&u.composedPath&&u.composedPath()[0]||u.target:void 0};b.getParentNode=function(u){return(0,f.getConfig)("usesShadowDom")&&u.parentNode instanceof DocumentFragment?u.parentNode.host:u.parentNode};b.getParentElement=function(u){return(0,f.getConfig)("usesShadowDom")&&u.parentNode instanceof DocumentFragment?u.parentNode.host:u.parentElement};b.elementContainsChild=w;b.findOptimizedTarget=
function(u){if(!u||!u.nodeName||-1<k.indexOf(u.nodeName.toLowerCase()))return u;var z=(0,f.getConfig)("elementAttributeWhitelist");if((0,h.isNotEmptyArr)(z)){if(z=z.filter(function(H){return-1===H.indexOf("*")}),y(u,z))return u;for(var C=0,a=u.parentNode;C<=g&&a&&a.nodeName&&-1===["body","html","#document"].indexOf(a.nodeName);C++,a=a.parentNode)if(y(a,z))return a;if((z=q(u,z,0))&&"none"!==getComputedStyle(z).display)return z}return u};b.documentElementFromPoint=x;b.isElementVisible=function(u,z,
C){if(!u||l(window.getComputedStyle(u)))return!1;var a=u.getBoundingClientRect();return 0===u.offsetWidth+u.offsetHeight+a.height+a.width?!1:z?(z={x:a.left+a.width/2,y:a.top+a.height/2},!n(z)&&(!!p(u,z,a)||e(u,z,C))):!0};b.isElementVisibleV2=function(u,z,C){if(!u||l(window.getComputedStyle(u)))return!1;var a=u.getBoundingClientRect();if(0===u.offsetWidth+u.offsetHeight+a.height+a.width)return!1;var H={x:a.left+a.width/2,y:a.top+a.height/2};return(!z||!n(H))&&(!!p(u,H,a)||e(u,H,C))}},function(E,b,
c){function y(h){var g=(0,e.getConfig)("filterUrls"),k=(0,e.getConfig)("filterType");if((0,n.isNotEmptyArr)(g)){var t=(0,n.getWindowLocation)();if((0,n.matchUrl)(g,h||t.hostname+t.pathname+t.search+t.hash))return k}return null}function q(h){var g;if(!(g="exclude"===y(h)))a:{g=(0,e.getConfig)("excludeUrls");if((0,n.isNotEmptyArr)(g)){var k=(0,n.getWindowLocation)();if((0,n.matchUrl)(g,h||k.hostname+k.pathname+k.search+k.hash)){g=!0;break a}}g=!1}return g}function w(h){return"mask"===y(h)}function v(h){var g=
(0,e.getConfig)("namedParamFilter"),k=(0,e.getConfig)("nameParamFilterType");if((0,n.isNotEmptyArr)(g)&&!(0,n.isBlank)(h)){var t=h.startsWith("?")?h.substring(1).split("\x26"):h.split("\x26");h={};var u=void 0,z=!0,C=!1,a=void 0;try{for(var H,r=t[Symbol.iterator]();!(z=(H=r.next()).done);z=!0)u=H.value.split("\x3d"),0<u.length&&2>u.length?h[u[0]]="":0<u.length&&3>u.length&&(h[u[0]]=u[1])}catch(Q){C=!0,a=Q}finally{try{!z&&r.return&&r.return()}finally{if(C)throw a;}}H=!0;r=!1;t=void 0;try{for(var B,
F=g[Symbol.iterator]();!(H=(B=F.next()).done);H=!0){var I=B.value;h.hasOwnProperty(I)&&("mask"===k?h[I]="apt-masked":"exclude"==k&&delete h[I])}}catch(Q){r=!0,t=Q}finally{try{!H&&F.return&&F.return()}finally{if(r)throw t;}}return"?"+(0,n.convert2Parameters)((0,n.addParameters)(h,[]))}return h}function x(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,
u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:void 0,z=5<arguments.length&&void 0!==arguments[5]&&arguments[5];try{return h({url:g,title:k,path:u,referrer:t},z?"rule":"track")}catch(C){throw m.logger.logInternalError(C,"failed to execute masking function, going to fail the tracking"),C;}}function l(h,g,k,t,u,z,C){var a=arguments[8],H=w(7<arguments.length&&void 0!==arguments[7]?arguments[7]:void 0),r=void 0,B=(0,e.getConfig)("maskUrlFunction"),F=(0,n.isFunction)(B);if(F)r=void 0,a?r=""+
h+g+k:g&&(r=""+h+g+k+t+u),r=x(B,r,C,z,r?void 0:k,a);else if(a)return[h,g,k,t,u,z,C];F?(r.url?(a=r.url,H=d.documentRef.createElement("a"),a=(H.href=a,[H.protocol+"//",H.host,H.pathname,H.search,H.hash]),a=p(a,5),h=a[0],g=a[1],k=a[2],t=a[3],u=a[4]):r.path&&(k=r.path),C=r.title):(t=v(t),H&&(k="/apt-masked-url",t="",u="",C=""));H="";z&&!q(z)&&(H=d.documentRef.createElement("a"),H.href=z,a=w(z),H=H.host!==(0,n.getWindowLocation)().host?H.protocol+"//"+H.host+(a?"/apt-masked-url":H.pathname+v(H.search)+
H.hash):"",a&&!(0,n.isBlank)(H)&&F&&(H=r.referrer));return(0,e.getConfig)("trackPageTitles")||(C=""),[h,g,k,t,u,H,C]}Object.defineProperty(b,"__esModule",{value:!0});b.maskUrlEditor=b.maskFullUrl=b.getFullUrlMasked=b.maskParameters=b.shouldBeMasked=b.isUrlFiltered=b.isExcluded=b.maskUrl=b.getWebContext=void 0;var p=function(){return function(h,g){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h)){var k=[],t=!0,u=!1,z=void 0;try{for(var C,a=h[Symbol.iterator]();!(t=(C=a.next()).done)&&(k.push(C.value),
!g||k.length!==g);t=!0);}catch(H){u=!0,z=H}finally{try{!t&&a.return&&a.return()}finally{if(u)throw z;}}return k}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),e=c(1),n=c(0),d=c(4),f=c(9),m=c(2);b.getWebContext=function(){var h=(0,n.getWindowLocation)(),g=h.protocol+"//",k=h.host,t=h.pathname,u=h.search,z=d.documentRef.title;h=h.hash;var C=l(g,k,t,u,h,null,z);C=p(C,6);return g=C[0],k=C[1],t=C[2],u=C[3],h=C[4],z=C[5],{sc:g,ho:k,pa:decodeURIComponent(t),q:decodeURIComponent(u),
ha:decodeURIComponent(h),sch:(0,f.getPageHeight)(),scw:(0,f.getPageWidth)(),pt:z}};b.maskUrl=l;b.isExcluded=q;b.isUrlFiltered=y;b.shouldBeMasked=w;b.maskParameters=v;b.getFullUrlMasked=function(){var h=(0,n.getWindowLocation)(),g=h.protocol+"//",k=h.host,t=h.pathname,u=h.search;h=h.hash;var z=l(g,k,t,u,h,null,null);z=p(z,5);return g=z[0],k=z[1],t=z[2],u=z[3],h=z[4],""+g+k+t+u+h};b.maskFullUrl=function(h){var g=d.documentRef.createElement("a");g.href=h;var k=g.protocol+"//",t=g.host,u=g.pathname,z=
g.search,C=g.hash,a=l(k,t,u,z,C,null,null,h);a=p(a,5);return k=a[0],t=a[1],u=a[2],z=a[3],C=a[4],(0,n.isEmail)(u)&&(u=""),h.startsWith("http")?""+k+t+u+z+C:h.startsWith("mailto:")?""+g.protocol+u:0===h.indexOf("#")?C:!h.startsWith("/")&&u.startsWith("/")?""+u.substring(1)+z+C:""+u+z+C};b.maskUrlEditor=function(h,g,k,t,u){return l(h,g,k,t,u,void 0,void 0,void 0,!0)}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.findInAll=void 0;var y=c(1),q=c(5),w=c(12),v=c(0),x=c(14),l=c(7),p=
new function(){this.guideHideSteps=function(){if(!(0,y.isIframe)()){var e=q.IframeRequest.getMasterRequst("guide",{type:"hideAll"});(0,w.propagateDown)(e,(0,q.getRegisteredIframes)())}};this.updateState=function(e,n){(0,y.isIframe)()||(e=q.IframeRequest.getMasterRequst("guide",{type:"updateState",state:e,enableSelector:n}),(0,w.propagateDown)(e,(0,q.getRegisteredIframes)()))};this.setSelectorStateForEditorV2=function(e){(0,y.isIframe)()||(e=q.IframeRequest.getMasterRequst("guide",{type:"setSelectorStateForEditorV2",
isMapperEnabled:e}),(0,w.propagateDown)(e,(0,q.getRegisteredIframes)()))};this.setSelectorState=function(e){(0,y.isIframe)()||(e=q.IframeRequest.getMasterRequst("guide",{type:"updateSelectorState",state:e}),(0,w.propagateDown)(e,(0,q.getRegisteredIframes)()))};this.guideRemoveHighlighted=function(e,n){(0,y.isIframe)()||(e=q.IframeRequest.getMasterRequst("guide",{type:"removeHighlighted",tag:e,removeAll:n}),(0,w.propagateDown)(e,(0,q.getRegisteredIframes)()))};this.selectorHighlightElement=function(e,
n,d){(0,y.isIframe)()||(e=q.IframeRequest.getMasterRequst("guide",{type:"highlightElement",tag:n,cssSelector:e}),(0,w.postRequest)(e,d))};this.selectorHighlightAll=function(e,n,d){(0,y.isIframe)()||(e=q.IframeRequest.getMasterRequst("guide",{type:"highlightAll",stepId:n,cssSelector:e}),(0,w.postRequestDown)(e,d))};this.selectorRemoveAllHighlighted=function(){if(!(0,y.isIframe)()){var e=q.IframeRequest.getMasterRequst("guide",{type:"removeAllHighlighted"});(0,w.propagateDown)(e,(0,q.getRegisteredIframes)())}};
this.getBadgesLocations=function(e,n){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt_msg_get_badges_locations",{},e,n)};this.removeBadgeFromIframe=function(e,n,d){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt_msg_remove_badge",{badgeId:n},e,d)};this.setBadgeObserver=function(e,n){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt_msg_badge_set_observer",{},e,n)};this.unsetBadgeObserver=function(e,n){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt_msg_badge_unset_observer",
{},e,n)};this.sendBadgeToIframe=function(e,n){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt_msg_send_badge",{badge:n},e)};this.getElementLocation=function(e,n,d){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt-msg-get-element-location",{elementSelector:n},e,d)};this.elementExist=function(e,n,d,f,m){(0,y.isIframe)()||(n=q.IframeRequest.getMasterRequst("elementExist",{elementSelector:n,scrollToElement:f,returnAttributes:m},d,e.iframeId),(0,w.postRequestDown)(n,e))};this.addElementHandler=
function(e,n,d,f){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt-msg-add-handler-show-next-step",{nextStepTrigger:d,elementSelector:n},e,f)};this.isElementVisible=function(e,n,d){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("guide",{type:"isElementVisible",cssSelector:n},e,d)};this.sendEditorV2StateResponse=function(e,n,d,f){(0,y.isIframe)()||(n=q.IframeRequest.getMasterRequst("guide",{type:"editorV2StateResponse",isMapperEnabled:d,isPreview:f},n),(0,w.postRequestDown)(n,e))};
this.sendStateResponse=function(e,n,d,f){(0,y.isIframe)()||(n=q.IframeRequest.getMasterRequst("guide",{type:"stateResponse",state:d,isStepSelected:f},n),(0,w.postRequestDown)(n,e))};this.getAlternateSelector=function(e,n,d){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("guide",{type:"getAlternateSelector",cssSelector:n},e,d)};this.addOutsideEventHandler=function(e,n,d,f){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("aptGuideExternalClick",{nextStepTrigger:d,elementSelector:n},e,
f)};this.removeElementHandlers=function(e){(0,y.isIframe)()||(0,w.createSubscribeCallbackRequest)("apt-msg-remove-element-handlers",{},e)}};b.default=p;b.findInAll=function(e,n,d,f,m,h,g){if(!e)return void d(void 0);var k=[],t=(0,y.getConfig)("sfdcTemplate")||document,u=(0,l.findElementInWindow)(e,t,!0);t=void 0;var z=((0,v.isNodeList)(u)||Array.isArray(u))&&0<u.length,C=Node.prototype.isPrototypeOf(u);if(z||C){z=C?u:u[0];u=C?1:u.length;h&&(0,v.scrollElementToCenter)(z);u={element:z,isVisible:(0,v.isElementVisible)(z),
count:u,attributes:g?(0,v.getAttributesAndPropertiesWithValue)(z):null};if(!m)return void d(u);k.push(u)}m=x.UUIDGenerator.generateV4Id();(0,q.subscribe)(m,function(a){for(var H=0;H<a.length;H++)!function(r){a[r].exist&&!k.some(function(B){return B.iframeData&&B.iframeData.iframeId===a[r].iframeData.iframeId})&&k.push({iframeData:a[r].iframeData,count:a[r].count,isVisible:a[r].isVisible,attributes:a[r].attributes})}(H);d(f?k:0<k.length?k[0]:void 0)});try{if((0,v.isNotEmptyArr)(n)){for(u=0;u<n.length;u++)t=
n[u],p.elementExist(t,e,m,h,g),(0,q.incrementState)(m);(0,q.execute)(m,200)}else d(0<k.length?k:void 0)}catch(a){}}},function(E,b,c){function y(e){if(!e)throw Error("invalid API key, the value must be set to be parsed");return e.split("-")}function q(e){var n=y(e);if(3>n.length)throw Error("invalid API key structure "+e);return parseInt(n[2],10)}Object.defineProperty(b,"__esModule",{value:!0});b.isDesktop=b.getEnvironment=b.getChannel=b.isApiKeyMatch=b.getProduct=b.getProductKeyFromApiKey=void 0;
b.getCurrentProductId=function(){return v.eventTrackData[x.cacheGet](v.productIdParameter)};b.getCurrentProductKey=function(){return(0,p.getProduct)(l.Cookie.getCookie("apt.sid"))};var w=c(6),v=c(4),x=c(8),l=c(33),p=c(15);b.getProductKeyFromApiKey=p.getProductKeyFromApiKey;b.getProduct=p.getProduct;b.isApiKeyMatch=p.isApiKeyMatch;b.getChannel=q;b.getEnvironment=function(e){e=y(e);return 4>e.length?w.PROD_ENVIRONMENT:parseInt(e[3],10)};b.isDesktop=function(){return q(v.eventTrackData[x.cacheGet](v.productIdParameter))===
w.DESKTOP_CHANNEL}},function(E,b,c){function y(){return(0,q.getConfig)("discoverTopWindowPath")||window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.discoverTopWindowPath}Object.defineProperty(b,"__esModule",{value:!0});b.shouldDiscoverTopWindowPath=y;b.getTopWindow=function(){var l=window.top;return y()&&(l=w),l};b.getTopWindowAsync=function(){return new Promise(function(l){return y()?w?void l(w):(v.push(l),void(v.length>x&&v.shift())):void l(window.top)})};b.setTopWindow=function(l){for(w=
l;0<v.length;)v.shift()(w)};var q=c(1),w=void 0,v=[],x=100},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalContext=function(){var v=y.globalContextCache[q.cacheGet]("apt.gcx");return(0,w.limitJsonKeys)(v,100)};var y=c(4),q=c(8),w=c(0)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.EVENTS={BOT:"bot"};b.TOP_TO_IFRAME_EVENTS={BOT_RESPONSE:"botResponse",BOT_FOUND:"botFound",GET_BOT_CONTENT_RESPONSE:"getBotContentResponse",POST_BOT_EVENT:"postBotEvent",
SET_BOT_IS_OPEN:"setBotIsOpen",REMOVE_BOT:"removeBot",IS_ELEMENT_VISIBLE:"isElementVisible",GET_APTRINSIC_ID_RESPONSE:"getAptrinsicIdResponse",ADD_ELEMENT_CLICK_LISTENER:"ADD_ELEMENT_CLICK_LISTENER"};b.IFRAME_TO_TOP_EVENTS={IFRAME_CLOSED:"iframeClosed",BOT_FOUND:"botFound",GET_BOT_CONTENT:"getBotContent",TRACK_BOT_TOGGLE:"trackBotToggle",IS_ELEMENT_VISIBLE_RESPONSE:"isElementVisibleResponse",GET_APTRINSIC_ID:"getAptrinsicId",BOT_ELEMENT_CLICK:"botElementClick"};b.BOT_IFRAME_INTERNAL_EVENTS={INIT_WIDGET_IN_IFRAME:"INIT_WIDGET_IN_IFRAME",
BOT_EMPTY_CONFIG:"BOT_EMPTY_CONFIG"};b.BOT_INTERNAL_EVENTS={BOT_CLICK_OUTSIDE:"BOT_CLICK_OUTSIDE"}},function(E,b,c){function y(l){var p={};return Object.keys(l).sort().forEach(function(e){(0,v.isObject)(l[e])?p[e]=y(l[e]):Array.isArray(l[e])?p[e]=(0,x.arrayFrom)(l[e],function(n){return(0,v.isObject)(n)?y(n):n}):p[e]=l[e]}),p}function q(l){return Object.keys(l).filter(function(p){return null!=l[p]}).reduce(function(p,e){return p[e]="object"===w(l[e])?q(l[e]):l[e],p},Array.isArray(l)?[]:{})}Object.defineProperty(b,
"__esModule",{value:!0});b.resolveNestedProperty=b.removeNullFields=b.filterProperties=b.orderAlphabetically=void 0;var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},v=c(0),x=c(10);b.orderAlphabetically=y;b.filterProperties=function(l,p){var e={},n;for(n in l)-1<p.indexOf(n)&&l.hasOwnProperty(n)&&(e[n]=l[n]);return e};b.removeNullFields=q;b.resolveNestedProperty=
function(l,p){if(l&&p){p=p.split(".");try{var e=!0,n=!1,d=void 0;try{for(var f,m=p[Symbol.iterator]();!(e=(f=m.next()).done);e=!0){var h=f.value;if(null===l||void 0===l)return;var g=Object(l);if(!(h in g))return;l=g[h]}}catch(k){n=!0,d=k}finally{try{!e&&m.return&&m.return()}finally{if(n)throw d;}}return l}catch(k){}}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.UserData=void 0;var y=c(14),q=c(33),w=c(4),v=c(8),x=c(2),l=c(27),p=c(0),e=c(1),n=c(9),d=c(11),f=c(21),m=null,h=b.UserData=
new function(){function g(){return(0,e.getConfig)("sessionCookieTTL")||18E5}function k(D){var O=q.Cookie.getAllCookieVal("apt.uid");return null!=O&&(1<O.length||D&&0<O.length)}function t(D){try{if(k(D)){var O=(0,e.getConfig)("localStorageCookie")||(0,e.getConfig)("fullDomainCookie")?document.location.hostname:(0,n.getDomain)();if(q.Cookie.deleteCookie("apt.uid",O),k(D)){var W=(0,e.getConfig)("localStorageCookie")||(0,e.getConfig)("fullDomainCookie")?" ":(0,n.getDomain)();q.Cookie.deleteCookie("apt.uid",
W)}x.logger.logInternalError(Error("deleting apt.uid for domain, current cookies: "+q.Cookie.getCookiesRaw()))}}catch(ba){x.logger.logInternalError(ba)}}function u(){try{var D=q.Cookie.getAllCookieVal("apt.sid");if(null!=D&&1<D.length){var O=!(0,e.getConfig)("localStorageCookie")&&(0,e.getConfig)("fullDomainCookie")?(0,n.getDomain)():" ";q.Cookie.deleteCookie("apt.sid",O);x.logger.logInternalError(Error("deleting apt.sid for domain, current cookies: "+q.Cookie.getCookiesRaw()))}}catch(W){x.logger.logInternalError(W)}}
function z(){var D=q.Cookie.getCookie("apt.uid");if(D&&((0,e.getConfig)("multipleProductsPerDomain")||(0,e.getConfig)("strictProductVerification"))){var O=y.UUIDGenerator.getProductId(D);O&&!(0,f.isApiKeyMatch)(O,I)&&(D=null)}return D}function C(D,O,W,ba){D=[D,0,O||F];return W&&ba&&D.push(ba),D}function a(D,O,W){if((0,e.getConfig)("enableTag")){t();var ba=z(),ma=[],sa=D||F;if(!ba||O||ba&&ba.startsWith("undefined-")?(O&&!W&&x.logger.logInternalError(Error("force new is "+O+", and did not have aptrinsic id so generating a new one")),
ba=y.UUIDGenerator.generateUuid(I),ma=C(ba,sa,O,W)):(ma=ba.split("."),D&&D>ma[2]&&(ma[2]=D)),w.eventTrackData[v.cacheSet](w.userIdParameter,ma[0]),q.Cookie.setCookie("apt.uid",ma.join("."),31536E6),!q.Cookie.getCookie("apt.uid")&&(t(!0),q.Cookie.setCookie("apt.uid",ma.join("."),31536E6),!q.Cookie.getCookie("apt.uid")))throw Error("wasn't able to save user cookie for type: "+D+", force new:"+O+", aptrinsic id: "+W);P=!0}}function H(){m&&clearTimeout(m);m=setTimeout(function(){q.Cookie.getCookie("apt.sid")||
d.internalEventListener.dispatchEvent("sessionExpired")},g()+20)}function r(D){if(!(0,f.isDesktop)()&&(q.Cookie.setCookie("apt.sid",D,g()),H(),!q.Cookie.getCookie("apt.sid")))throw Error("wasn't able to create session cookie, not going to track this user");}var B=this,F=0,I=void 0,Q=!1,P=!1;this.initializeUser=function(D){(0,e.getConfig)("enableTag")&&(D&&(I=D),a(),B.getSessionId())};this.clearUserData=function(){q.Cookie.deleteCookie("apt.uid");q.Cookie.deleteCookie("apt.sid")};this.ensureUserData=
function(){if((0,e.getConfig)("enableTag")){t();var D=q.Cookie.getCookie("apt.uid"),O=q.Cookie.getCookie("apt.sid");D&&O||B.initializeUser()}};this.getUserId=function(){if((0,e.getConfig)("enableTag")){var D=q.Cookie.getCookie("apt.uid");if(!D)throw Error("user cookie is not initialized, is init called before: "+P+", current cookies in doc: "+q.Cookie.getCookiesRaw());var O=void 0;if((0,e.getConfig)("strictProductVerification")){var W=z();W||(W=y.UUIDGenerator.generateUuid(I),O=C(W),q.Cookie.setCookie("apt.uid",
O.join("."),31536E6),w.eventTrackData[v.cacheSet](w.userIdParameter,O[0]))}return O=O||D.split("."),O[0]}};this.getAptrinisId=function(D){if((0,e.getConfig)("enableTag")){var O=q.Cookie.getCookie("apt.uid"),W=[];if(D&&!O)return null;if(!O)throw Error("user cookie is not initialized, is init called before: "+P+", current cookies in doc: "+q.Cookie.getCookiesRaw());return W=O.split("."),3<W.length?W[3]:W[0]}};this.setAptrinsicId=function(D,O){if((0,e.getConfig)("enableTag")){var W=q.Cookie.getCookie("apt.uid");
if(!W)throw Error("user cookie is not initialized, is init called before: "+P+", current cookies in doc: "+q.Cookie.getCookiesRaw());W=W.split(".");var ba=4>W.length||3<W.length&&W[3]!==D;if(ba){if((0,e.getConfig)("enableTag")||!(0,f.isDesktop)()){var ma=y.UUIDGenerator.generateUuid(I);r(ma);w.eventTrackData[v.cacheSet](w.sessionIdParam,ma)}a(O?1:2,!0,D)}return W[3]=D,w.eventTrackData[v.cacheSet](w.aptrinsicIdParam,W[3]),ba}};this.changeUserType=function(D){(0,e.getConfig)("enableTag")&&(a(D),w.eventTrackData[v.cacheSet]("vt",
h.getUserType()))};this.getUserType=function(D){if((0,e.getConfig)("enableTag")){var O=q.Cookie.getCookie("apt.uid");if(D&&!O)return F;if(!O)throw Error("user cookie is not initialize");return O.split(".")[2]||0}};this.getSessionId=function(){if((0,e.getConfig)("enableTag")){if((0,f.isDesktop)())return w.eventTrackData[v.cacheGet](w.sessionIdParam);u();var D=q.Cookie.getCookie("apt.sid"),O=!1;return!D||(0,e.getConfig)("multipleProductsPerDomain")&&(0,f.getProductKeyFromApiKey)(y.UUIDGenerator.getProductId(D))!==
(0,f.getProductKeyFromApiKey)(I)?(O=Q=!0,D=y.UUIDGenerator.generateUuid(I)):Q=!1,r(D),O&&!(0,e.getConfig)("setSessionExternally")&&(w.eventTrackData[v.cacheSet]("ai",h.getAptrinisId()),w.eventTrackData[v.cacheSet]("vt",h.getUserType()),w.eventTrackData[v.cacheSet](w.sessionIdParam,D),(0,l.internalApt)("sessionInitialized",null,null,null,!1),(0,p.clearAptrinsicSessionStorage)()),D}};this.setSessionId=function(D){if((0,e.getConfig)("enableTag")){if(u(),q.Cookie.setCookie("apt.sid",D,g()),H(),!(D=q.Cookie.getCookie("apt.sid")))throw Error("wan't able to create session cookie, not going to track this user");
w.eventTrackData[v.cacheSet]("ai",h.getAptrinisId());w.eventTrackData[v.cacheSet](w.sessionIdParam,D);w.eventTrackData[v.cacheSet]("vt",h.getUserType());(0,p.clearAptrinsicSessionStorage)()}};this.getLeadType=function(){return 1};this.userType=function(){return 2};this.visitorType=function(){return F};this.isNewSession=function(){var D=Q;return Q=!1,D};this.isUser=function(){return 2==B.getUserType()}}},function(E,b,c){function y(){(0,p.getConfig)("enableTag")&&n.push(arguments)}function q(){var g=
Array.prototype.slice.call(arguments);l.api.trackEvent.apply(l.api,g)}function w(){if((0,p.getConfig)("enableTag")){for(var g=n,k=void 0,t=g.length,u=0;u<t;u++)if(k=g.shift(),q.apply(null,k),"identify"===k[0])return void x();b.internalApt=h=function(){q.apply(null,arguments)};(0,e.setTrackingFunction)(h)}}function v(){f=!1;d&&clearTimeout(d)&&(d=null);w();for(var g=0;g<m.length;g++){var k=m[g],t=k[0];k=k.slice(1);t.apply(null,k)}}function x(){f=!0;d=setTimeout(v,1E3);b.internalApt=h=y}Object.defineProperty(b,
"__esModule",{value:!0});b.appNotReady=b.isInIdentify=b.identifyFinished=b.identifyStart=b.internalApt=b.appReady=void 0;var l=c(50),p=c(1),e=c(105),n=[],d=null,f=!1,m=[],h=y;b.appReady=w;b.internalApt=h;b.identifyStart=x;b.identifyFinished=v;b.isInIdentify=function(){return f};b.appNotReady=function(){b.internalApt=h=y}},function(E,b,c){function y(f,m){var h=void 0,g=void 0;return 0===f.sequenceNumber&&(0,e.isSnoozeButtonEnabled)(f.activationType,f.snoozeButton,f.activationTypes)&&(h=(0,x.createElement)("div",
["aptr-snooze-container"]),g=(0,e.createSnoozeButton)(f.snoozeButton,h,f.survey,f.id,f.sequenceNumber,m)),[h,g]}function q(f,m){return f.setAttribute("tabindex",m),m+1}function w(f){return f&&(0,n.getConfig)("storageProxyDomain")?(0,e.replaceImagesSrcFromHtmlString)(f):f}Object.defineProperty(b,"__esModule",{value:!0});b.DEFAULT_CONTACT_ME_MESSAGE=void 0;var v=function(){return function(f,m){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f)){var h=[],g=!0,k=!1,t=void 0;try{for(var u,z=
f[Symbol.iterator]();!(g=(u=z.next()).done)&&(h.push(u.value),!m||h.length!==m);g=!0);}catch(C){k=!0,t=C}finally{try{!g&&z.return&&z.return()}finally{if(k)throw t;}}return h}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.renderSubmitButton=function(f,m,h,g){var k=x,t=k.createElement;var u=(0,x.isBlank)(f.text)?f.isLast?"Done":"Next":f.text;k=t.call(k,"div","apt-survey-submit",{text:u});return k.style.color=f[g?"submitButtonTextColor":"textColor"],k.style.backgroundColor=
f[g?"submitButtonBackgroundColor":"backgroundColor"],k.style.borderWidth=f[g?"submitButtonBorderWidth":"borderWidth"]+"px",k.style.borderRadius=f[g?"submitButtonBorderRadius":"borderRadius"]+"px",k.style.borderColor=f[g?"submitButtonBorderColor":"borderColor"],k.setAttribute("tabindex",h+m),k.setAttribute("role","button"),k};b.renderSurveyTitle=function(f,m,h,g,k){m=(0,l.toDom)(m,!1,["apt-survey-title"].concat(g));h.push("apt-survey-title-wrapper");g=x;var t=g.createElement;f.showQuestionNumber?(k=
(0,x.createElement)("div","apt-question-sequence",{text:k+"."}),f=(k.style.fontFamily=f.numberFontFamily,k.style.fontSize=f.numberSize+"px",k.style.color=f.numberColor,k)):f=null;return t.call(g,"div",h,null,[f,m])};b.renderContactMeCheckBox=function(f,m){return(0,x.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":f.contactMeMessage||d,tabindex:m})};b.renderContactMe=function(f,m){m=(0,x.createElement)("div",["apt-contact-wrapper"],void 0,[m,(0,x.createElement)("div","apt-contact-me-text",
{text:f.contactMeMessage||d,dataAtt:[{name:"aria-hidden",value:"true"}]})]);return f.showContactMeMessage||(m.style.display="none"),m};b.hideSnooze=function(){document.querySelector(".aptr-snooze-container").style.display="none"};b.setTabIndexForSnoozeButton=q;b.showSnooze=function(f,m,h){f=y(f,m);m=v(f,2);f=m[0];m=m[1];return f&&h.push(f),m};b.updateStepNumber=function(f,m){(f=f.querySelector(".apt-question-sequence"))&&(f.innerText=m+".")};b.setMaxHeightForPage=function(f,m,h){f=document.getElementById(f);
var g=f.parentNode,k=g.getBoundingClientRect().height;.9*(0,p.getPageHeight)()<k&&(g.style.paddingRight="0px");k=window.getComputedStyle(g,null);g=k.getPropertyValue("padding-top");k=k.getPropertyValue("padding-bottom");h=f.querySelector(h).getBoundingClientRect().height;var t=window.getComputedStyle(f,null),u=t.getPropertyValue("padding-top");t=t.getPropertyValue("padding-bottom");m=f.querySelector(m);m.style.maxHeight="calc(90vh - "+h+"px - "+u+" - "+t+" - "+g+" - "+k+")";m.style.overflowY="auto"};
b.replaceScoreSurveyImagesDomain=function(f){f.titleHtml=w(f.titleHtml);f.notSatisfiedHtml=w(f.notSatisfiedHtml);f.satisfiedHtml=w(f.satisfiedHtml);f.defaultComment=w(f.defaultComment)};b.replaceBooleanImagesDomain=function(f){f.titleHtml=w(f.titleHtml);f.notSatisfiedHtml=w(f.notSatisfiedHtml);f.satisfiedHtml=w(f.satisfiedHtml);f.defaultComment=w(f.defaultComment)};b.replaceMultiChoiceImagesDomain=function(f){f.question=w(f.question);f.answers=f.answers.map(function(m){return m.text=w(m.text),m})};
b.replaceOpenTextImagesDomain=function(f){f.question=w(f.question)};b.replaceDynamicRangeImagesDomain=function(f){f.notSatisfiedHtml=w(f.notSatisfiedHtml);f.defaultComment=w(f.defaultComment);f.satisfiedHtml=w(f.satisfiedHtml)};b.replaceContentStepImagesDomain=function(f){f.html=w(f.html)};b.addSnoozeForMCQSurvey=function(f,m,h,g){f=y(f,m);m=v(f,2);f=m[0];return(m=m[1])?(h.push(f),q(m,g)):g};b.addSnoozeForScoreSurvey=function(f,m,h,g,k){m=y(f,m);var t=v(m,2);m=t[0];return(t=t[1])?(k=q(t,k),f.mergeFirstSteps?
h.insertBefore(m,h.firstChild):g.push(m),k):k};var x=c(0),l=c(7),p=c(9),e=c(17),n=c(1),d=b.DEFAULT_CONTACT_ME_MESSAGE="It's okay to contact me about my feedback"},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.EVENT_TYPES={REGISTER:"register",DISCOVER_TOP_WINDOW_PATH:"discoverTopWindowPath",DISCOVER_TOP_WINDOW_PATH_RESPONSE:"discoverTopWindowPathResponse"};b.GUIDE_EVENT_TYPES={APT_MSG_ELEMENT_RECT_PARENT:"apt-msg-element-rect-parent",APT_MSG_ELEMENT_RECT:"apt-msg-element-rect",
APT_MSG_GET_BADGES_LOCATIONS_RESPONSE:"apt_msg_get_badges_locations_response",APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME:"apt_msg_get_badges_locations_parent_iframe"};b.TRACKING_EVENT_TYPES={GET_ELEMENT_TEXT:"getElementText",REGISTER_FEATURE_RULES:"registerFeatureRules"}},function(E,b,c){function y(A){return A&&A.__esModule?A:{default:A}}function q(){if((0,sa.canUseSessionStorageForRedirect)()&&!k.default.isEditorMode()&&sa.GuideQueryParms.clear(),Ha){var A=(0,d.removeFromQueryParam)(X);history.replaceState("",
document.title,A)}Fa&&(A=(0,d.removeFromQueryParam)(Y),history.replaceState("",document.title,A))}function w(){var A=(0,sa.canUseSessionStorageForRedirect)()?sa.GuideQueryParms.get():{},T=void 0;try{var K=(0,za.getGuideStateValue)(qa);if(K){var da=JSON.parse(K);da&&da.timestamp&&Date.now()<=da.timestamp+xa&&(T=da.guideId);(0,za.deleteGuideStateValue)(qa)}}catch(fa){h.logger.logInternalError("Error reading onDemand guide id",fa)}Ea=T;Ha=(0,d.getQueryParam)(X);Ba=(0,za.getGuideStateValue)("apt.guideId");
wa=Ha||Ba||A[X];Fa=(0,d.getQueryParam)(Y)||A[Y];q();setTimeout(q,1500)}function v(A){x(A)&&(V[A]=!1)}function x(A){return{}.hasOwnProperty.call(V,A)&&!0===V[A]}function l(A){try{if(wa&&!k.default.isEditorMode()){var T={};Object.assign(T,m.eventTrackData[g.cacheGetAll]());(0,d.addCacheBuster)(T);var K=(0,H.getGlobalContext)();K&&Object.assign(T,{gcx:JSON.stringify(K)});var da=(0,C.getEngagementSessionId)();T.s=da;Fa&&(T.at=Fa);var fa=m.eventTrackData.data[m.productIdParameter];if((0,t.getConfig)("crossProductEngagement")){var Ca=
JSON.parse(m.windowRef.sessionStorage.getItem("apt.localCache"));T.ai=Ca.ai;T.v=da;T.p=r.UUIDGenerator.getProductId(da);fa=T.p}var oa=t.ongoingEngagementEndpoint+"/"+fa+"/"+wa+"?"+(0,d.convert2Parameters)((0,d.addParameters)(T,[]));f.AjaxUtil.getData(oa,function(na){if(Ba){var G=JSON.parse((0,za.getGuideStateValue)("apt.prevStepMap")),J=(0,za.getGuideStateValue)("apt.stepId");if(!G||!J)return void h.logger.logInternalError(Error("guide ongoing cannot be processed due to missing parameters, prev step map: "+
G+", current step: "+J));var R=void 0;if(na.content.steps.forEach(function(U){U.id===G[J].id&&(R=U)}),!R)return void h.logger.logInternalError(Error("guide ongoing cannot be processed since previous step "+G[J].id+", does not exist in guide "+wa));var N=(0,z.resolveUrlWithPlaceholders)(m.windowRef.location.href,R.navigation.nextStepUrl);if(!Ha&&Ba&&!(0,d.matchUrl)(N,(0,d.getPageUrl)()))return}A(na)})}}catch(na){h.logger.logInternalError("Error during getting on demand engagement id "+wa)}}function p(A,
T){var K=void 0;switch(A.type){case "CONTENT":K=Q.default.getHtml(A);break;case "SCORE":switch(T){case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":K=P.default.getHtml(A);break;case "IN_APP_RATING_SURVEY":K=D.default.getHtml(A)}break;case "BOOLEAN":K=O.default.getHtml(A);break;case "MULTIPLE_CHOICE_QUESTION":K=W.default.getHtml(A);break;case "OPEN_TEXT":K=ba.default.getHtml(A);break;case "DYNAMIC_RATING_STEP":K=ma.default.getHtml(A);break;default:throw Error("Type "+A.type+" is not supported");}return K}
function e(A,T){var K=2<arguments.length&&void 0!==arguments[2]&&arguments[2],da=[];switch(A.contentType){case "IN_APP_DIALOG":da.push(I.default.SanitizeHtml(A.htmlElements,K,T));break;case "IN_APP_GUIDE":A.steps.sort(function(G,J){return G.sequenceNumber-J.sequenceNumber});da.push(Object.assign({},I.default.SanitizeHtml(A.footer,K,T),{stepId:A.steps?A.steps[0].id:null}));for(var fa=0;fa<A.steps.length;fa++){var Ca=A.steps[fa],oa=I.default.SanitizeHtml(Ca.content+Ca.titleHtml,K,T);0===fa?oa.isValid||
Object.assign(da[0],oa,{stepId:Ca.id}):da.push(Object.assign({},oa,{stepId:Ca.id}))}break;case "IN_APP_CAROUSEL":A.carouselSlideList.sort(function(G,J){return G.sequence-J.sequence});for(fa=0;fa<A.carouselSlideList.length;fa++)da.push(Object.assign({},I.default.SanitizeHtml(A.carouselSlideList[fa].html,K,T),{stepId:A.carouselSlideList[fa].id}));break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":for(fa=
A.contentType,Ca=A.steps,Ca.sort(function(G,J){return G.sequenceNumber-J.sequenceNumber}),oa=0;oa<Ca.length;oa++){var na=p(Ca[oa],fa);da.push(Object.assign({},I.default.SanitizeHtml(na,K,T),{stepId:Ca[oa].id}))}}return da}function n(A,T,K,da){return function(fa){var Ca=(0,B.arrayFrom)(K,function(oa){return Object.assign({},{id:oa.id,content:oa.content.map(function(na){return(0,d.isObject)(na)?na:JSON.parse(na)})})});Ca=(0,B.arrayFrom)(Ca,function(oa){var na=oa.id;oa=oa.content;var G=[],J=!0;A&&!fa?
(J=!1,G.push("Engagement checksum is invalid since there is URL configured but no checksum to validated against")):fa&&oa.forEach(function(R){R=(0,F.validateChecksum)(na,R,fa);R.valid||(J=R.valid,G.push(R.errorMessage))});oa=e(oa[0],T,!0).map(function(R,N){return{valid:R.isValid,errors:R.errors,stepIndex:N,stepId:R.stepId}});return{id:na,checksum:{valid:J,errors:G},sanitization:oa}});da(Ca)}}Object.defineProperty(b,"__esModule",{value:!0});b.validateEngagements=b.sanitizeEngagement=b.cleanOndemandGuideDataFromURL=
b.sendEngagementClosedEvent=b.registerEngagementPageChangedHandler=b.hasLiveEngagement=b.getGuideRefreshData=b.hideAnyActiveEngagement=b.handleEngagementFinish=b.saveOnDemandGuideId=b.isOndemandState=b.startOverEngagement=b.isStartOverState=b.isLocked=b.unlockEngagementType=b.lockEngagementType=void 0;b.getOngoingEngagement=l;var d=c(0),f=c(13),m=c(4),h=c(2),g=c(8);E=c(16);var k=y(E),t=c(1),u=c(34),z=c(32),C=c(46),a=c(11),H=c(23),r=c(14),B=c(10),F=c(61);E=c(94);var I=y(E);E=c(88);var Q=y(E);E=c(93);
var P=y(E);E=c(92);var D=y(E);E=c(87);var O=y(E);E=c(90);var W=y(E);E=c(91);var ba=y(E);E=c(89);var ma=y(E),sa=c(41),za=c(31),S=c(22),M=c(37),V={},X="aptGuideId",Y="aptActivationType",qa="apt.aptOdGuideId",xa=3E4,Ea=void 0,Ha=void 0,Ba=void 0,wa=void 0,Fa=void 0,ia={};w();b.lockEngagementType=function(A){V[A]=!0};b.unlockEngagementType=v;b.isLocked=x;b.isStartOverState=function(){return wa};b.startOverEngagement=function(A){l(A)};b.isOndemandState=function(){return Ea};b.saveOnDemandGuideId=function(A){try{var T=
{guideId:A,timestamp:Date.now()};(0,za.setGuideStateValue)(qa,JSON.stringify(T))}catch(K){h.logger.logInternalError("Error setting onDemand guide id",K)}};b.handleEngagementFinish=function(A){v(A);setTimeout(function(){u.KnowledgeCenterManager.fetchEntriesAndSendToWidget(m.eventTrackData.data[m.productIdParameter],m.eventTrackData.data[m.aptrinsicIdParam])},200);a.internalEventListener.removeListener("pageview",ia[A])};b.hideAnyActiveEngagement=function(){if(!(0,t.isIframe)()){var A=window.self!==
window.top.parent?window.document:(0,S.getTopWindow)().document;Object.values(M.getAll()).forEach(function(T){T.rootEl.classList.contains("apt-vex")&&T.close()});A.querySelectorAll(".apt-hotspot-element").forEach(function(T){T&&A.body.removeChild(T)})}};b.getGuideRefreshData=w;b.hasLiveEngagement=function(){return Object.values(V).some(function(A){return A})};b.registerEngagementPageChangedHandler=function(A,T){a.internalEventListener.removeListener("pageview",ia[A]);a.internalEventListener.addListener("pageview",
T);ia[A]=T};b.sendEngagementClosedEvent=function(){a.internalEventListener.dispatchEvent("engagementClosed");var A=m.eventTrackData[g.cacheGet](m.productIdParameter);!A||0!==A.indexOf("AP-BTJ9NZXEJFSP")&&0!==A.indexOf("AP-2POJKINZM5HL")&&0!==A.indexOf("AP-75LTY44WLQWE")&&0!==A.indexOf("AP-VASIGAOLX4QF")||a.internalEventListener.dispatchEvent("surveyClosed")};b.cleanOndemandGuideDataFromURL=q;b.sanitizeEngagement=e;b.validateEngagements=function(A,T,K,da){(0,F.loadChecksumFile)(A,n(A,T,K,da))}},function(E,
b,c){Object.defineProperty(b,"__esModule",{value:!0});b.setGuideStateValue=function(v,x){(0,y.getConfig)("crossSubDomainGuide")?q.Cookie.setCookie(v,x):w.windowRef.sessionStorage.setItem(v,x)};b.getGuideStateValue=function(v){return(0,y.getConfig)("crossSubDomainGuide")||window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.crossSubDomainGuide?q.Cookie.getCookie(v):w.windowRef.sessionStorage.getItem(v)};b.deleteGuideStateValue=function(v){(0,y.getConfig)("crossSubDomainGuide")?q.Cookie.deleteCookie(v):
w.windowRef.sessionStorage.getItem(v)&&w.windowRef.sessionStorage.removeItem(v)};var y=c(1),q=c(33),w=c(4)},function(E,b,c){function y(d,f){d=d.substring(p.length);var m=d[0];if(-1===["/","?","#"].indexOf(m))return f;var h=document.createElement("a");h.href=f;var g=decodeURIComponent(h.host.endsWith(":80")||h.host.endsWith(":443")?h.hostname:h.host),k=h.protocol+"//";switch(m){case "/":return""+k+g+d;case "?":return""+k+g+h.pathname+d;case "#":return""+k+g+h.pathname+h.search+d;default:return f}}
function q(d,f,m){if(!f)return"";if(!d||f===m)return f;f=f.split(m);var h=d.split(m);if(1===f.length&&f[0]===l||2===f.length&&""===f[0]&&f[1]===l)return d.charAt(0)===m?d.substring(1):d;d=[];for(var g=0;g<f.length;g++){var k=h[g],t=f[g];k&&t&&t===l?d.push(k):t&&d.push(t)}return d.join(m)}function w(d,f){if(f.startsWith(e))return""+d+f.substring(e.length);if(f.startsWith(p))return y(f,d);if(-1===f.indexOf(x))return f;if(f===l)return d;var m=document.createElement("a");m.href=d;0===f.indexOf(l)&&(f=
m.protocol+"//"+f);d=document.createElement("a");d.href=f;n(d.pathname,d.hash)&&(d.pathname+=d.hash,d.hash="");d.hash!=="#"+l&&n(m.pathname,m.hash)&&(m.pathname+=m.hash,m.hash="");f=decodeURIComponent(m.host.endsWith(":80")||m.host.endsWith(":443")?m.hostname:m.host);var h=decodeURIComponent(d.host.endsWith(":80")||d.host.endsWith(":443")?d.hostname:d.host);f=q(f,h,".");h=q(decodeURIComponent(m.pathname),decodeURIComponent(d.pathname),"/");var g=!1;!m.hash.startsWith("#/")&&1<m.hash.split("/").length&&
(m.hash=m.hash.replace("/","#"));!m.hash.startsWith("#/")&&1<d.hash.split("/").length&&(d.hash=d.hash.replace("/","#"),g=!0);var k=q(m.hash,d.hash,"#");g&&(k=k.replace("#","/"));g="";if(m.search||d.search&&d.search.substring(1)!==l)if(m.search){m=decodeURIComponent(m.search).substring(1).split("\x26");g=decodeURIComponent(d.search).substring(1).split("\x26");for(var t=[],u=0;u<g.length;u++){var z=q(m[u],g[u],"\x3d");t.push(z)}g=t.join("\x26")}else g=d.search.substring(1);d=d.protocol;h=h&&"/"!==h?
"/"+h:"/"===h?"/":"";m=g?"?"+g:"";g="";return k&&(g=k.startsWith("#")?k:"#"+k),d+"//"+f+h+m+g}Object.defineProperty(b,"__esModule",{value:!0});b.resolveUrlWithPlaceholders=w;b.resolveUrlsWithPlaceholdersInHTML=function(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(h){return h},m=v.documentRef.createElement("div");return m.innerHTML=d,m.querySelectorAll("a").forEach(function(h){var g=w(window.location.href,h.href);h.href=f?f(g):g}),m.innerHTML};var v=c(4),x="px-auto-resolve",
l="$px-auto-resolve",p="$px-auto-resolve-prefix",e="$px-auto-resolve-current-url",n=function(d,f){return f&&(0===f.indexOf("#/")||0===f.indexOf("#!/"))&&d&&-1!==d.indexOf("/",d.length-1)}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.Cookie=void 0;var y=function(){function x(l,p){for(var e=0;e<p.length;e++){var n=p[e];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(l,n.key,n)}}return function(l,p,e){return p&&x(l.prototype,p),
e&&x(l,e),l}}(),q=c(1),w=c(72),v=c(71);b.Cookie=function(){function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");}return y(x,null,[{key:"setCookie",value:function(l,p,e,n){(0,q.isIframe)()||((0,q.getConfig)("localStorageCookie")?v.LocalStorageCookie.setCookie(l,p,e):w.NativeCookie.setCookie(l,p,e,n))}},{key:"getCookie",value:function(l,p){return(0,q.getConfig)("localStorageCookie")?v.LocalStorageCookie.getCookie(l):w.NativeCookie.getCookie(l,p)}},{key:"getAllCookieVal",
value:function(l){return(0,q.getConfig)("localStorageCookie")?v.LocalStorageCookie.getAllCookieVal(l):w.NativeCookie.getAllCookieVal(l)}},{key:"deleteCookie",value:function(l,p){(0,q.getConfig)("localStorageCookie")?v.LocalStorageCookie.deleteCookie(l):w.NativeCookie.deleteCookie(l,p)}},{key:"getCookiesRaw",value:function(){return(0,q.getConfig)("localStorageCookie")?v.LocalStorageCookie.getCookiesRaw():w.NativeCookie.getCookiesRaw()}}]),x}()},function(E,b,c){function y(na){return na&&na.__esModule?
na:{default:na}}function q(){return{kcId:Ca.getKcId(),categoryId:Ca.getCategoryId(),recId:Ca.getRecommendedId()}}function w(na){var G=na.iframe,J=na.windowFont,R=na.onBoardingFont,N=na.widgetUrl,U=na.widgetNonce;na=na.cssNonce;var Z=J&&0>S.BROWSER_DEFAULT_FONTS.indexOf(J),ta=R&&0>S.BROWSER_DEFAULT_FONTS.indexOf(R);Z&&(Z=n(G,J),J=d(G,J,1,na),G.contentDocument.head.appendChild(Z),G.contentDocument.body.appendChild(J));ta&&(J=n(G,R),R=d(G,R,1,na),G.contentDocument.head.appendChild(J),G.contentDocument.body.appendChild(R));
R=G.contentDocument.createElement("script");R.type="text/javascript";R.charset="utf-8";R.async=!0;U&&(R.nonce=U);R.src=N;G.contentDocument.head.appendChild(R)}function v(){var na=(0,C.isOndemandState)();if(na){var G=q();x(na,!1,G.kcId,G.categoryId,G.recId)}}function x(na,G,J,R,N,U){if((0,C.hideAnyActiveEngagement)(),G)z.AjaxUtil.getData(I.previewEndpoint+"/kc/"+na,function(Z){P.EngagementDrawer.draw(Z)},{Authorization:"Bearer "+Q.default.getToken()},function(Z){try{403===Z?((0,D.showMessage)("error",
"Not authorized to preview this engagement"),Q.default.exit()):401==Z&&((0,D.showMessage)("error","Token expired, try to preview again"),Q.default.exit())}catch(ta){t.logger.logInternalError(ta)}});else{G=(0,O.getTrackingPayload)();G.at="kc";G.kcid=J;G.catid=R;G.recId=N||null;G.searchTerm=U;(0,a.setEngagementSessionId)(G.s);na=k.ondemandEndpoint+"/"+g.eventTrackData.data[g.productIdParameter]+"/"+na+"?"+(0,H.convert2Parameters)((0,H.addParameters)(G,[]));try{z.AjaxUtil.getData(na,function(Z){P.EngagementDrawer.draw([Z],
!0,{kcid:J,catid:R,recId:N||null})})}catch(Z){t.logger.logInternalError("Error during getting on demand engagement id "+startOverGuideId)}}}function l(){oa.fetchEntriesAndSendToWidget(g.eventTrackData.data[g.productIdParameter],g.eventTrackData.data[g.aptrinsicIdParam])}function p(na,G,J,R){try{var N=(0,wa.findSingleElementInShadowDom)("#apt-widget",document);if(!na||na&&!na.element||!G||!J||!N)return!N&&t.logger.logInternalError(Error("Could not calculate position for embedded bot, widget container does not exist")),
na&&!na.element&&t.logger.logInternalError(Error("Could not calculate position for embedded bot, mapped element does not exist")),(!R||!G||!J)&&t.logger.logInternalError(Error("Could not calculate position for embedded bot"+JSON.stringify({positionSettings:G,alignments:J,positionType:R}))),{};var U=G.positionHorizontal.toUpperCase(),Z=G.positionVertical.toUpperCase(),ta=J.horizontalAlignment.toUpperCase(),ca=J.verticalAlignment.toUpperCase();J="fixed"===R;var la=na.element.getBoundingClientRect(),
ea=N.getBoundingClientRect(),pa=la.height/2,Aa=la.width/2;N=na="0px";R=0;var Ja=J?la.top:ea.top-la.top;"TOP"===Z?R=J?Ja:0-Ja:"BOTTOM"===Z?R=J?la.height+Ja:la.height-Ja:("MIDDLE"===Z||"CENTER"===Z)&&(R=J?pa+Ja:pa-Ja);R+=G.positionTopDelta;"BOTTOM"===ca&&(N="-100%");Z=0;var Sa=J?la.left:ea.left-la.left;return"LEFT"===U?Z=J?Sa:0-Sa:"RIGHT"===U?Z=J?la.width+Sa:la.width-Sa:("MIDDLE"===U||"CENTER"===U)&&(Z=J?Aa+Sa:Aa-Sa),Z+=G.positionLeftDelta,"RIGHT"===ta&&(na="-100%"),{left:Z,top:R,transform:"translate("+
na+", "+N+")"}}catch(Va){return t.logger.logInternalError(Va,"Could not calculate position for embedded bot with element"),{}}}function e(na,G){try{var J=(0,k.getConfig)("contentProxyDomain"),R=(0,k.getConfig)("enableKcSecureArticle"),N=(0,A.getEmbeddedPositionType)(na),U=(0,A.getIsEmbedded)(na),Z="V2"===na.type;Z&&!J&&(J="https://web-sdk.aptrinsic.com");var ta=(0,A.getBotPositionSettings)(na),ca=(0,A.getBotAlignmentSettings)(na),la=U?p(G,ta,ca,N):{},ea="API"===(0,k.getConfig)("fetchKcType");return Z?
na.embeddedCalculatedPosition=la:na.windowSettings.embedKCSettings.calculatedPosition=la,Object.assign(na,{showIcon:!U&&(!ea||ea&&fa),isEmbedded:U,kcPositionType:N,enableKcSecureArticle:R,contentProxyDomain:J})}catch(pa){return t.logger.logInternalError(pa,"Could not merge sdk configuration for bot"),{}}}function n(na,G){na=na.contentDocument.createElement("link");var J=S.FONTS_SUBSETS;G="https://fonts.googleapis.com/css?family\x3d"+[{font:G,weights:S.FONTS_WEIGHTS}].reduce(function(R,N){var U=N.font.replace(/ +/g,
"+");N=(N.weights||[]).join(",");return R.push(U+(N&&":"+N)),R},[]).join("|");return J&&Array.isArray(J)&&0<J.length&&(G+="\x26subset\x3d"+J.join(",")),na.href=G,na.rel="stylesheet",na}function d(na,G,J,R){var N=na.contentDocument.createDocumentFragment(),U=na.contentDocument.createElement("style"),Z=na.contentDocument.createElement("div");na=na.contentDocument.createElement("div");return U.type="text/css",R&&(U.nonce=R),U.appendChild(document.createTextNode(".regular-"+J+"{font-family: "+G+";}.bold-"+
J+"{font-family: "+G+";font-weight: bold}")),Z.className="regular-"+J,na.className="bold-"+J,Z.appendChild(document.createTextNode("a ")),na.appendChild(document.createTextNode("a ")),N.appendChild(U),N.appendChild(Z),N.appendChild(na),N}function f(na){return-1!=="ZSBMJTAYEANS ALAZMN715YZH PDCNS0SWT1ZP RR8EQLTW2VP9 TGAN0LMXA1BX XIKPBREHZXOJ GLSDIDVBIAVK AKKBV8ECO1E8 FAP8QPGYKUVA GZKRSU61EUCU OJY7IO6BCAAN RMACDJOEHAEG X4TBJOVYHWVS ZJQOCZEF9PIR DQ1NRPVT7VG1 9APX3RS6VUQK ZSSKB3VPJSDK EOLIULDC9NMZ AS1CEZNAOYLR".split(" ").indexOf(na)}
Object.defineProperty(b,"__esModule",{value:!0});b.KnowledgeCenterManager=b.KcSessionStorage=void 0;var m=function(){return function(na,G){if(Array.isArray(na))return na;if(Symbol.iterator in Object(na)){var J=[],R=!0,N=!1,U=void 0;try{for(var Z,ta=na[Symbol.iterator]();!(R=(Z=ta.next()).done)&&(J.push(Z.value),!G||J.length!==G);R=!0);}catch(ca){N=!0,U=ca}finally{try{!R&&ta.return&&ta.return()}finally{if(N)throw U;}}return J}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();b.getKcDataFromSessionStorage=q;b.addWidgetIframeDom=w;b.loadOnDemandEngagement=v;b.getKcEngagement=x;b.fetchKnowledgeCenterConfig=function(na,G,J,R){var N=g.eventTrackData[W.cacheGet](g.sessionIdParam),U=fa?k.getKnowledgeCenterConfigEndpointV3:k.getKnowledceCenterConfigEndpoint,Z={s:N,p:na};fa&&(Z.ai=g.eventTrackData.data[g.aptrinsicIdParam]);U=(0,O.getUrl)(U,Z);return na&&N||t.logger.logInternalError(Error("Trying to fetch kc with product id "+na+" and session id "+N)),G?z.AjaxUtil.getData(k.getKnowledceCenterConfigEndpoint+
"/"+na+"/"+G,J,"",R):z.AjaxUtil.getData(U,J,"",R)};b.setKcIsShownViaAPI=function(na){da=na};b.getKcIsShownViaAPI=function(){return da};b.setIsNewAPI=function(na){null===fa&&(fa=na)};b.getIsNewAPI=function(){return fa};b.productNeedsExtraLogging=f;var h=c(26),g=c(4),k=c(1),t=c(2),u=c(11),z=c(13),C=c(30),a=c(46),H=c(0),r=c(50),B=c(32),F=c(169),I=c(16),Q=y(I),P=c(52),D=c(44),O=c(97),W=c(8),ba=c(65),ma=c(19),sa=c(15),za=c(66),S=c(98);E=c(56);var M=y(E),V=c(24),X=c(5);E=c(57);var Y=y(E),qa=c(55),xa=y(qa),
Ea=c(6),Ha=c(162),Ba=c(23),wa=c(18),Fa=c(33),ia=c(9),A=c(35),T=c(22),K="apt_get_engagement APT_WIDGET_LOADED apt_get_user_data apt_send_feedback apt_search_articles apt_get_article apt_get_community_content_list apt_get_community_content_search apt_get_community_article apt_vote_on_community_content apt_track_internal_article apt_tracking_toggle_widget apt_kc_func_click apt_kc_link_click apt_get_article_by_id apt_log_bot_internal_error apt_track_external_article apt_log".split(" "),da=!1,fa=null,
Ca=b.KcSessionStorage={setItem:function(na,G){(0,k.getConfig)("crossSubDomainGuide")?Fa.Cookie.setCookie(na,G):g.windowRef.sessionStorage.setItem(na,G)},getItem:function(na){return(0,k.getConfig)("crossSubDomainGuide")?Fa.Cookie.getCookie(na):g.windowRef.sessionStorage.getItem(na)},setKcId:function(na){Ca.setItem("apt.kcId",na)},setIsDefaultKc:function(na){Ca.setItem("apt.isDefaultKc",na)},setRecommendedId:function(na){Ca.setItem("apt.recId",na)},setCategoryId:function(na){Ca.setItem("apt.kcCatId",
na)},getIsDefaultKc:function(){return Ca.getItem("apt.isDefaultKc")},getKcId:function(){return Ca.getItem("apt.kcId")},getRecommendedId:function(){return Ca.getItem("apt.recId")},getCategoryId:function(){return Ca.getItem("apt.kcCatId")}},oa=b.KnowledgeCenterManager=new function(){function na(ja){return function(){la(ja.apply(this,arguments))}}function G(ja,Da,ra){function La(){w({iframe:ya,windowFont:Ta,onBoardingFont:ab,widgetUrl:ja,widgetNonce:Xa,cssNonce:lb});Sa=ya.contentWindow;hb=!0;Ya=!1;t.logger.log("SDK KC iframe creation done")}
if(!(0,wa.findSingleElementInShadowDom)(".apt-widget-frame",document)){t.logger.log("SDK Creating KC iframe");qb=!1;va=h.UserData.getUserId();var ya=document.createElement("iframe");ya.className="apt-widget-frame";ya.style.opacity="0";ya.style.transform="scale(0)";ya.style.visibility="hidden";ya.style.position="absolute";ya.style.top="-9999px";ya.style.left="-9999px";(0,k.getBody)().appendChild(ya);var Ra=Da,Ta=void 0,ab=void 0,Ua=void 0;ra?(ra=document.createElement("link"),ra.rel="stylesheet",ra.href=
(0,k.getAssetEndpoint)("style",!0),(0,k.getBody)().appendChild(ra),Ra=Da.initialConfig,Ta=Ra.theme.typography.headerFontFamily,ab=Ra.theme.typography.bodyFontFamily,Ua="https://web-sdk.aptrinsic.com"):(Ta=Da.initialConfig.windowSettings.textFont,ab=Da.initialConfig.onBoardingSettings.textFont);Da=JSON.stringify(Object.assign(Ra,{enableKcSecureArticle:(0,k.getConfig)("enableKcSecureArticle"),contentProxyDomain:(0,k.getConfig)("contentProxyDomain")||Ua,cssNonce:(0,k.getConfig)("cssNonce"),disableLogs:(0,k.getConfig)("disableLogs")}));
ya.setAttribute("data-sdkconfig",Da);var Xa=(0,k.getConfig)("widgetNonce"),lb=(0,k.getConfig)("cssNonce");(0,ia.isFirefox)()?ya.onload=La:La();(0,k.isIframe)()?M.default.postBotFound():u.internalEventListener.dispatchEvent(V.IFRAME_TO_TOP_EVENTS.BOT_FOUND,qa.TOP_WINDOW_ID)}}function J(){var ja=(0,k.getKcConfig)(),Da="V2"===(ja||{}).type,ra=(0,A.getIsEmbedded)(ja);ja=Da||ja&&ja.enabled;ra=(Da=(0,k.getConfig)("enableTag")&&(0,k.getConfig)("widgetEnabled")&&h.UserData.isUser())&&ja&&(0,k.isIframe)()&&
ra;var La=xa.default.getBotConfig();return Da&&!(0,k.isIframe)()&&(ja||La&&La.enabled&&La.isEmbedded)||ra}function R(){if(J()){var ja=(0,k.getKcConfig)(),Da=ja.includePatterns;ja=ja.excludePatterns;var ra=window.location.href;return ja&&0<ja.length&&(0,H.matchUrl)(ja,ra)?void N():Da&&0!==Da.length?void(Da&&0<Da.length&&((0,H.matchUrl)(Da,ra)?U():N())):void U()}}function N(){if(J()){var ja=document.getElementById("apt-widget");if(!ja)return void t.logger.log("Couldn't find KC element when attempting to hide it.");
f((0,sa.getProduct)(g.eventTrackData[W.cacheGet](g.productIdParameter)))&&t.logger.reportToServer("Hiding KC bot");ja.style.display="none";oa.close(!1)}}function U(){if(J()){var ja=document.getElementById("apt-widget");if(!ja)return void t.logger.log("Couldn't find KC element when attempting to show it.");ja.style.display=""}}function Z(){Va.forEach(function(ja){ja.call()})}function ta(){(0,C.getGuideRefreshData)();v();u.internalEventListener.removeListener("pageview",ta)}function ca(){return"V2"===
(0,k.getKcConfig)().type}function la(ja,Da){try{if(Da){var ra=(0,X.getIframeData)(Da);Y.default.postBotEvent(ra,ja)}else Sa.postMessage(JSON.stringify(ja),g.windowRef.location.href)}catch(La){t.logger.log("postToWidget "+La)}}function ea(ja,Da){return{articleId:ja.articleId,categoryId:ja.categoryId,articleUrl:ja.articleUrl,kcId:Da,articleLink:ja.articleLink}}function pa(){h.UserData.getSessionId()}function Aa(ja){if(ja.origin===g.windowRef.location.origin&&!(0>K.indexOf(ja.data.name))){if(!ja.data.messageId)return void t.logger.log("Web SDK skipping event without message id "+
JSON.stringify(ja.data));if(db[ja.data.messageId])return void t.logger.log("Web SDK skipping handled message with id "+ja.data.messageId);if((0,k.isIframe)()&&"APT_WIDGET_LOADED"!==ja.data.name)return void(0,T.getTopWindow)().postMessage(Object.assign({},ja.data,{iframeId:(0,sa.getIframeId)()}),(0,T.getTopWindow)().location.href);switch(db[ja.data.messageId]=!0,ja.data.name){case "apt_get_engagement":var Da=ja.data,ra=Da.categoryId,La=Da.recommendedId;Da=Da.searchTerm;if(Ca.setCategoryId(ra),Ca.setRecommendedId(La),
t.logger.log("SDK received activate engagement message"),ja.data.absoluteTargetUrl){var ya=(0,B.resolveUrlWithPlaceholders)(g.windowRef.location.href,ja.data.absoluteTargetUrl);ya!==g.windowRef.location.href?((0,C.saveOnDemandGuideId)(ja.data.engId),u.internalEventListener.addListener("pageview",ta),g.windowRef.location.href=ya):x(ja.data.engId,ja.data.isPreview,Pa,ra,La,Da)}else x(ja.data.engId,ja.data.isPreview,Pa,ra,La,Da);return void pa();case "APT_WIDGET_LOADED":return t.logger.log("SDK received KC loaded"),
void(ja.data.error?t.logger.logInternalError(Error("KC failed to load due to error"),ja.data.error):(u.internalEventListener.dispatchEvent("kcTriggered",{kcId:Pa}),Z()));case "apt_send_feedback":return t.logger.log("SDK received send feedback message"),ja.data.feedbackObj&&r.api.feedback(Object.assign(ja.data.feedbackObj,{kcId:Pa})),void pa();case "apt_search_articles":return t.logger.log("SDK received search articles"),(ja.data.searchTerms||""===ja.data.searchTerms)&&oa.searchArticles(g.eventTrackData.data[g.productIdParameter],
g.eventTrackData.data[g.aptrinsicIdParam],ja.data.searchTerms,ja.data.labels,ja.data.url,ja.data.userEmail,Pa,ja.data.iframeId),pa(),void(ja.data.searchTerms&&u.internalEventListener.dispatchEvent("kcSearch",{searchTerms:ja.data.searchTerms,kcId:Pa}));case "apt_get_community_content_list":return t.logger.log("SDK get community content list"),oa.getCommunityContentList(g.eventTrackData.data[g.productIdParameter],g.eventTrackData.data[g.aptrinsicIdParam],ja.data.userEmail,ja.data.sortType,ja.data.iframeId),
void pa();case "apt_get_community_content_search":return t.logger.log("SDK get community content search"),oa.searchCommunityContent(g.eventTrackData.data[g.productIdParameter],g.eventTrackData.data[g.aptrinsicIdParam],ja.data.searchTerm,ja.data.userEmail,ja.data.iframeId),void pa();case "apt_get_community_article":return t.logger.log("SDK get community article by id"),ja.data.id&&oa.getCommunityArticleById(g.eventTrackData.data[g.productIdParameter],g.eventTrackData.data[g.aptrinsicIdParam],Pa,ja.data,
l),void pa();case "apt_vote_on_community_content":return t.logger.log("SDK vote on community content"),oa.voteOnCommunityContent(g.eventTrackData.data[g.productIdParameter],g.eventTrackData.data[g.aptrinsicIdParam],ja.data.iframeId,ja.data.type,ja.data.userEmail,ja.data.id,ja.data.likedByUser,ja.data.totalLikes),void pa();case "apt_get_article":return t.logger.log("SDK get article by id"),Da=ja.data,ra=Da.id,La=Da.title,Da=Da.propertyGroupId,ja.data.id&&oa.getArticleById(g.eventTrackData.data[g.productIdParameter],
g.eventTrackData.data[g.aptrinsicIdParam],ra,Da,La,ja.data.iframeId),void pa();case "apt_get_user_data":return void t.logger.log("SDK received get user data message");case "apt_track_internal_article":return t.logger.log("SDK received track internal article message"),(0,O.trackArticleClick)(ja.data.articleId,ja.data.categoryId,ja.data.articleUrl,Pa,ja.data.recommendedId,l,ja.data.searchTerm,ja.data.taskListId),u.internalEventListener.dispatchEvent("articleView",ea(ja.data,Pa)),void pa();case "apt_kc_func_click":return t.logger.log("SDK received call javascript function"),
ra=(0,k.getConfig)("kcAllowedFuncNames"),(0,H.isEmptyArr)(ra)||0>ra.indexOf(ja.data.funcName)?void t.logger.logInternalError(Error("tried to executed function not in the allow list, function name:"+ja.data.funcName)):(ja.data.funcName&&(0,F.executeFunctionByName)(ja.data.funcName,ja.data.funcPayload),void pa());case "apt_kc_link_click":if(t.logger.log("SDK received link click"),(0,O.trackWebLinkClick)(ja.data.webLinkId,Pa,ja.data.recommendedId,l,ja.data.searchTerm),ja.data.linkObj)ra=(0,B.resolveUrlWithPlaceholders)(document.location.href,
ja.data.linkObj.url),"CURR_TAB"===ja.data.linkObj.target?document.location.href=ra:window.open(ra,"_blank","noopener");return void pa();case "apt_get_article_by_id":return t.logger.log("SDK received article id to fetch and open"),ra=ja.data.articleId,ra&&oa.fetchAndOpenArticleById(g.eventTrackData.data[g.productIdParameter],g.eventTrackData.data[g.aptrinsicIdParam],ra,ja.data.iframeId),void pa();case "apt_log_bot_internal_error":return t.logger.log("SDK received internal error from bot"),ja=ja.data,
void t.logger.logInternalError(ja.error,ja.errorMsg);case "apt_track_external_article":Da=ja.data,ra=Da.propertyGroupId,La=Da.searchTerm,Da={articleId:Da.articleId,articleUrl:Da.articleUrl,articleProvider:Da.articleProvider,articleTitle:Da.articleTitle,propertyGroupId:ra,recommendedId:Da.recommendedId},t.logger.log("SDK received track external article message"),(0,O.trackExternalArticleClick)(Pa,ra,Da,La),u.internalEventListener.dispatchEvent("articleView",ea(ja.data,Pa)),pa();case "apt_log":t.logger.log("Widget log: "+
ja.data.message);case "apt_tracking_toggle_widget":t.logger.log("SDK received track toggle widget");ja=ja.data;ra=ja.isOpen;La=ja.iframeId;Da=ja.taskListId;ya=ja.kcState;var Ra=qb!==ra;return ja.shouldTrack&&(Ra||ya)&&((0,O.trackToggleWidget)(Pa,ra,Da,ya),Ra&&u.internalEventListener.dispatchEvent(ra?"kcOpened":"kcClosed",{kcId:Pa})),La?Y.default.setBotIsOpen(ra,La):qb=ra,void pa()}}}var Ja=this,Sa=void 0,Va=[],db={},Pa=void 0,hb=!1,Ya=!1,qb=!1,jb=null,va="";(0,ia.addDOMReadyListener)(function(){document.addEventListener(S.GAINSIGHT_PX_OPEN_BOT,
oa.open);document.addEventListener(S.GAINSIGHT_PX_OPEN_ARTICLE,function(ja){return oa.openArticleById(ja.detail.articleId)})});var Ga=na(Ha.getGlobalContextMessage),Ma=na(Ha.getUrlMessage);this.handleIncomingBotEvents=function(){g.windowRef.addEventListener("message",Aa,!1)};this.initWidget=function(ja,Da,ra,La){try{if(J()){Ya=!0;t.logger.log("SDK Initializing KC with config "+JSON.stringify(ja,null,2));var ya=ja.initialConfig;if(Pa!==ya.kcId&&(qb=!1),Pa=ya.kcId,Ca.setIsDefaultKc(!ra),Ca.setKcId(Pa),
g.windowRef.addEventListener("message",Aa,!1),!(0,wa.findSingleElementInShadowDom)("#apt-widget",document)){hb=!1;jb=null;var Ra=document.createElement("div");Ra.setAttribute("id","apt-widget");Ra.classList.add("apt-widget-top-container");(0,k.getBody)().appendChild(Ra);t.logger.log("SDK Created KC container")}ja.contentProxyDomain=(0,k.getConfig)("contentProxyDomain");var Ta="V2"===ya.type,ab=(0,A.getElementSelector)(ja.initialConfig).cssSelector;if(ja.initialConfig=e(ja.initialConfig,jb),ja.initialConfig.isEmbedded&&
ab){var Ua=(0,A.getEmbeddedPositionType)(ja.initialConfig),Xa=(0,A.getBotZIndex)(ja.initialConfig);(0,ba.injectWidgetToTargetElement)(ab,La,{isNewAPI:fa,positionType:Ua,zIndex:Xa,kcId:ja.initialConfig.kcId},{onClick:oa.toggleBot,onFailed:function(){Ya=hb=!1;jb=null},onFound:function(){hb=!0},onDone:function(lb){jb=lb;ja.initialConfig=e(ja.initialConfig,jb);G((0,k.getAssetEndpoint)("widget",Ta),ja,Ta)}})}else G((0,k.getAssetEndpoint)("widget",Ta),ja,Ta);Da||(R(),u.internalEventListener.addListener("pageview",
function(){R()}));u.internalEventListener.addListener(Ea.GLOBAL_CONTEXT_CHANGED,Ga);u.internalEventListener.addListener("pageview",Ma)}}catch(lb){t.logger.logInternalError(lb,"cannot start kc widget")}};this.clearWidgetLoadQueue=function(){Va=[]};this.checkIsInProgress=function(){return Ya};this.checkIsInitialized=function(){return hb&&!!(0,wa.findSingleElementInShadowDom)("#apt-widget",document)};this.cleanWidget=function(){Ja.clearWidgetLoadQueue();Ya=hb=!1;jb=null};this.removeWidget=function(){db=
{};Ja.cleanWidget();var ja=(0,wa.findSingleElementInShadowDom)(".apt-widget-frame",document);ja&&ja.parentNode.removeChild(ja);(ja=document.getElementById("apt-widget"))&&(u.internalEventListener.removeListener(Ea.GLOBAL_CONTEXT_CHANGED,Ga),u.internalEventListener.removeListener("pageview",Ma),ja.parentNode.removeChild(ja),clearInterval(void 0),f((0,sa.getProduct)(g.eventTrackData[W.cacheGet](g.productIdParameter)))&&t.logger.reportToServer("Removing KC bot"))};this.updatePositionForEmbeddedBot=function(){var ja=
(0,k.getKcConfig)(),Da=(0,A.getEmbeddedPositionType)(ja),ra=(0,A.getBotPositionSettings)(ja);ja=(0,A.getBotAlignmentSettings)(ja);la({type:"APT_WIDGET_EMBEDDED_POSITIONS",calculatedPosition:p(jb,ra,ja,Da)})};this.updateWidgetConfig=function(){J()&&(la({type:"APT_WIDGET_CONFIG",config:e((0,k.getKcConfig)(),jb),shouldResetState:h.UserData.getUserId()!==va}),va=h.UserData.getUserId())};this.fetchEntriesById=function(ja,Da,ra,La,ya,Ra){Da=(0,O.getUrl)((Ra?k.getWidgetContentEndpointV3:k.getWidgetContentEndpoint)+
"/"+Da+"/"+ja,{ai:ra});z.AjaxUtil.getData(Da,function(Ta){if(!Ta)return void(La&&"function"==typeof La&&La(Ta));var ab=Object.assign({},Ta);if(!Ra&&!(0,za.validateContentChecksum)(ja,ab))return void("function"==typeof ya&&ya("Checksum does not match when fetching knowledge center entries"));La&&"function"==typeof La&&La(Ta)},null,function(){"function"==typeof ya&&ya("Error occurred while fetching knowledge center entries");t.logger.logInternalError("Error occurred while fetching KC entries")})};this.fetchEntriesAndSendToWidget=
function(ja,Da,ra,La){try{var ya=function(Ua){if(ab){var Xa=Ua.entries,lb=Ua.userData;Ua={type:"APT_WIDGET_ENTRIES",entries:Xa,categories:Ua.categories,contentGroups:Ua.contentGroups,taskLists:Ua.taskLists,quickLinks:Ua.quickLinks,recommendations:Ua.recommendations,widgets:Ua.widgets,userData:lb,p:Ua.p};t.logger.log("SDK Posting v2 content to KC");la(Ua);Ga((0,Ba.getGlobalContext)());Ma();ra&&"function"==typeof ra&&ra({entries:Xa,userData:lb})}else Xa=Ua.entries,lb=Ua.userData,Ua={type:"APT_WIDGET_ENTRIES",
entries:Xa,recommendationRuleSets:Ua.recommendationRuleSets,userData:lb},t.logger.log("SDK Posting entries to KC"),la(Ua),Ga((0,Ba.getGlobalContext)()),Ma(),ra&&"function"==typeof ra&&ra({entries:Xa,userData:lb});Ma()};if(hb&&J()){t.logger.log("SDK Fetching KC entries");var Ra=(0,k.getKcConfig)(),Ta=Ra.kcId,ab="V2"===Ra.type;(0,k.isIframe)()?M.default.getBotContent(Ta,ab,function(Ua){var Xa=m(Ua,1)[0];Ua=Xa.response;Xa=Xa.error;Ua?ya(Ua):La(Xa)}):Ja.fetchEntriesById(Ta,ja,Da,ya,La,ab)}}catch(Ua){t.logger.logInternalError(Error("KC - fetch entries - "+
Ua))}};this.registerAfterWidgetLoad=function(ja){"function"==typeof ja&&Va.push(ja)};this.searchArticles=function(ja,Da,ra,La,ya,Ra,Ta,ab){if(J()){La=La&&Array.isArray(La)&&0<La.length?La.join():"";t.logger.log("SDK searching Articles");ya=(0,ma.maskUrl)(null,null,ya,null,null,null,null);ya=m(ya,3)[2];ya=(0,k.getConfig)("overrideBotSearchContextUrl")||ya;var Ua=(0,O.getTrackingPayload)();Object.assign(Ua,{searchTerm:ra,labels:La,url:ya,ai:Da,userEmail:Ra});Da=ca()?k.getWidgetDocsEndpointV3:k.getWidgetDocsEndpoint+
"/v2";ja=(0,O.getUrl)(Da+"/"+ja+"/"+Ta,Ua);la({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},ab);z.AjaxUtil.getData(ja,function(Xa){Xa&&((0,H.isNotEmptyArr)(Xa)&&Xa[0].propertyGroupId&&(Xa[0].propertyGroupId,(0,sa.getProduct)(g.eventTrackData[W.cacheGet](g.productIdParameter))),Xa={type:"APT_WIDGET_SEARCH_RESULTS",articles:Xa},t.logger.log("SDK Posting articles to KC"),la(Xa,ab))},null,function(){t.logger.logInternalError("Error occurred while searching KC articles");la({type:"APT_WIDGET_SEARCH_RESULTS_FAILED"},
ab)})}};this.getCommunityContentList=function(ja,Da,ra,La,ya){J()&&(t.logger.log("SDK get Community Content list"),Da=(0,O.getUrl)(k.getWidgetDocsEndpoint+"/community/content/"+ja+"/"+Pa,{userEmail:ra,sortBy:La}),la({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},ya),z.AjaxUtil.getData(Da,function(Ra){!Ra||Ra.propertyGroupId&&Ra.propertyGroupId!==(0,sa.getProduct)(ja)||(t.logger.log("SDK Posting community content list to KC"),la({type:"APT_GET_COMMUNITY_CONTENT_LIST",content:Ra},ya))},null,function(){t.logger.logInternalError(Error("Error occurred while fetching community content list:"));
la({type:"APT_GET_COMMUNITY_CONTENT_LIST_FAILED"},ya)}))};this.searchCommunityContent=function(ja,Da,ra,La,ya){J()&&(t.logger.log("SDK get Community Content search"),Da=(0,O.getTrackingPayload)(),Object.assign(Da,{searchTerm:ra,userEmail:La}),ra=(0,O.getUrl)(k.getWidgetDocsEndpoint+"/community/"+ja+"/"+Pa,Da),la({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},ya),z.AjaxUtil.getData(ra,function(Ra){!Ra||Ra.propertyGroupId&&Ra.propertyGroupId!==(0,sa.getProduct)(ja)||(t.logger.log("SDK Posting community content search results to KC"),
la({type:"APT_GET_COMMUNITY_CONTENT_SEARCH",content:Ra},ya))},null,function(){t.logger.logInternalError(Error("Error occurred while fetching community content search:"));la({type:"APT_GET_COMMUNITY_CONTENT_SEARCH_FAILED"},ya)}))};this.voteOnCommunityContent=function(ja,Da,ra,La,ya,Ra,Ta,ab){if(J()){Da=(0,O.getTrackingPayload)();Object.assign(Da,{contentId:Ra,contentType:La,userEmail:ya});var Ua="idea"===La?"vote":"like";Ta&&(Ua="un"+Ua);ya=k.getWidgetSingleCommunityDocEndpointV3+"/"+Ua+"/"+ja+"/"+
Pa;ja=k.getWidgetSingleDocEndpoint+"/community/"+Ua+"/"+ja+"/"+Pa;ja=(0,O.getUrl)(ca()?ya:ja,Da);z.AjaxUtil.getData(ja,function(Xa){Xa?(t.logger.log("SDK Posting community vote\\like result to KC"),la({type:"APT_VOTE_ON_COMMUNITY_CONTENT",contentId:Ra,contentType:La,totalLikes:ab,likedByUser:!Ta},ra)):la({type:"APT_VOTE_ON_COMMUNITY_CONTENT_BLOCKED"},ra)},null,function(){t.logger.logInternalError(Error("Error occurred while "+Ua+" community article by id: "+Ra));la({type:"APT_VOTE_ON_COMMUNITY_CONTENT_FAILED"},
ra)})}};this.getCommunityArticleById=function(ja,Da,ra,La,ya){if(J()){t.logger.log("SDK get Community Article by id");var Ra=La.id;Da=La.type;var Ta=La.totalLikes,ab=La.userRegistered,Ua=La.userEmail,Xa=La.iframeId,lb=La.searchTerm,Eb=La.title;La=La.url;var tb=(0,O.getTrackingPayload)();Object.assign(tb,{contentId:Ra,contentType:Da,userEmail:Ua});var zb=k.getWidgetSingleCommunityDocEndpointV3+"/"+ja+"/"+ra,Ka=k.getWidgetSingleDocEndpoint+"/community/"+ja+"/"+ra;tb=(0,O.getUrl)(ca()?zb:Ka,tb);lb&&
(0,O.trackCommunityArticleClick)(ra,Ra,Da,Eb,La,lb,ya);z.AjaxUtil.getData(tb,function(Ia){if(Ia&&(!Ia.propertyGroupId||Ia.propertyGroupId===(0,sa.getProduct)(ja))){var Za={type:"APT_GET_COMMUNITY_ARTICLE",article:Ia};Ia.entryType="COMMUNITY_ARTICLE";Ia.totalLikes=Ta;Ia.userRegistered=ab;Ia.userEmail=Ua;Ia.contentId=Ra;t.logger.log("SDK Posting community article to KC");la(Za,Xa)}},null,function(){t.logger.logInternalError(Error("Error occurred while fetching community article by id: "+Ra));la({type:"APT_GET_COMMUNITY_ARTICLE_FAILED"},
Xa)})}};this.getArticleById=function(ja,Da,ra,La,ya,Ra){if(J()){t.logger.log("SDK get Article by id");var Ta=(0,O.getTrackingPayload)();Object.assign(Ta,{propertyGroupId:La,articleId:ra,ai:Da,art:ya});Da=ca()?k.getWidgetSingleDocEndpointV3:k.getWidgetSingleDocEndpoint;Ta=(0,O.getUrl)(Da+"/"+ja+"/"+Pa,Ta);z.AjaxUtil.getData(Ta,function(ab){!ab||ab.propertyGroupId&&ab.propertyGroupId!==(0,sa.getProduct)(ja)||(ab={type:"APT_GET_ARTICLE",article:ab},t.logger.log("SDK Posting article to KC"),la(ab,Ra))},
null,function(){t.logger.logInternalError(Error("Error occurred while fetching article by id: "+ra));la({type:"APT_GET_ARTICLE_FAILED"},Ra)})}};this.updateEmbeddedMappedElement=function(ja){jb=ja};this.getEmbeddedMappedElement=function(){return jb};this.toggleBot=function(){qb?oa.close(!0):oa.open()};this.setIsOpen=function(ja){qb=ja};this.open=function(){Ja.checkIsInitialized()&&((0,A.getIsEmbedded)((0,k.getKcConfig)())&&Ja.updatePositionForEmbeddedBot(),la({type:"APT_WIDGET_OPEN"}))};this.close=
function(ja){try{ja&&qb&&((0,k.isIframe)()?M.default.trackBotToggle(Pa,!1):(0,O.trackToggleWidget)(Pa,!1)),la({type:"APT_WIDGET_CLOSE"}),qb=!1}catch(Da){t.logger.log("clsoing bot "+Da)}};this.postToWidget=la;this.openArticleById=function(ja){t.logger.log("SDK open article by id");Ja.postToWidget({type:"APT_SET_ARTICLE_BY_ID",articleId:ja})};this.fetchAndOpenArticleById=function(ja,Da,ra,La){t.logger.log("SDK fetch and open article by id");Da=(0,O.getUrl)((0,k.getWidgetArticleByIdEndpoint)()+"/"+ja+
"/"+ra,{ai:Da});z.AjaxUtil.getData(Da,function(ya){!ya||ya.propertyGroupId&&ya.propertyGroupId!==(0,sa.getProduct)(ja)||(t.logger.log("SDK Posting article to KC"),Ja.postToWidget({type:"APT_SET_ARTICLE",article:Object.assign(ya,{forceOpen:!0})},La))},null,function(){t.logger.logInternalError(Error("Error occurred while fetching article by id: "+ra));la({type:"APT_SET_ARTICLE_FAILED"},La)})}}},function(E,b,c){function y(d,f,m){return function(h){h.listenerId===d&&(m(h),n.removeListener(f))}}function q(d){return"V2"!==
d.type}function w(d){switch(d){case "TOP":return["CENTER","TOP"];case "BOTTOM":return["CENTER","BOTTOM"];case "LEFT":return["LEFT","MIDDLE"];case "RIGHT":return["RIGHT","MIDDLE"];case "TOP_LEFT":return["LEFT","TOP"];case "TOP_RIGHT":return["RIGHT","TOP"];case "BOTTOM_LEFT":return["LEFT","BOTTOM"];case "BOTTOM_RIGHT":return["RIGHT","BOTTOM"];case "CENTER":return["CENTER","MIDDLE"];default:throw Error("Unsupported embedded position "+d);}}Object.defineProperty(b,"__esModule",{value:!0});b.botEventEmmiter=
void 0;var v=function(){return function(d,f){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d)){var m=[],h=!0,g=!1,k=void 0;try{for(var t,u=d[Symbol.iterator]();!(h=(t=u.next()).done)&&(m.push(t.value),!f||m.length!==f);h=!0);}catch(z){g=!0,k=z}finally{try{!h&&u.return&&u.return()}finally{if(g)throw k;}}return m}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.addCommandToBotQueue=function(d){(0,l.isFunction)(d)&&e.push(d)};b.clearBotCommands=function(){e=
[]};b.runBotCommands=function(){e.forEach(function(d){(0,l.isFunction)(d)&&d();e.shift()})};b.getIsBotV1=q;b.getIsEmbedded=function(d){return q(d)?"embedded"===(0,p.getConfig)("kcDisplayType"):"UI_ELEMENT"===d.sizeAndPosition.openFrom};b.getElementSelector=function(d){return q(d)?d.windowSettings.embedKCSettings.elementSelector:{cssSelector:d.sizeAndPosition.cssSelector,matchCssSelector:!0,type:"CUSTOM"}};b.getEmbeddedPositionType=function(d){return q(d)?(0,p.getConfig)("kcPositionType"):d.sizeAndPosition.type.toLowerCase()};
b.getIsInline=function(d){return"injection"===d};b.getBotPositionSettings=function(d){if(q(d))return d.windowSettings.embedKCSettings.positionSettings;var f=d.sizeAndPosition;d=f.horizontalOffset;var m=f.verticalOffset;f=w(f.embeddedPosition);f=v(f,2);return{positionHorizontal:f[0],positionVertical:f[1],positionTopDelta:m,positionLeftDelta:d}};b.getBotAlignmentSettings=function(d){if(q(d))return{horizontalAlignment:d.windowSettings.embedKCSettings.horizontalAlignment,verticalAlignment:d.windowSettings.embedKCSettings.verticalAlignment};
d=d.sizeAndPosition.anchorPosition.split("_");d=v(d,2);return{horizontalAlignment:d[1],verticalAlignment:d[0]}};b.getBotZIndex=function(d){return q(d)?d.windowSettings.zindex||d.windowSettings.zIndex:d.sizeAndPosition.zIndex};var x=c(11),l=c(0),p=c(1),e=[],n=b.botEventEmmiter=new function(){var d={},f={};this.dispatchEvent=function(m,h,g){h===d[m]&&x.internalEventListener.dispatchEvent(m,Object.assign({listenerId:h},g))};this.addListener=function(m,h,g){n.removeListener(m);d[m]=g;h=y(g,m,h);f[g]||
(f[g]={});f[g][m]=h;x.internalEventListener.addListener(m,h)};this.removeListener=function(m){var h=d[m];h&&(x.internalEventListener.removeListener(m,f[h][m]),d[m]=null,delete d[m])}}},function(E,b,c){function y(H,r){if(!(H instanceof r))throw new TypeError("Cannot call a class as a function");}function q(){var H=window.MutationObserver||window.WebKitMutationObserver;if((0,f.getConfig)("angularMutationObserver")&&window.Zone){H=window.Zone.__symbol__("MutationObserver");var r=window.Zone.__symbol__("WebkitMutationObserver");
H=window[H]||window[r]||window.MutationObserver||window.WebKitMutationObserver}return H}function w(H,r){k.forEach(function(B){try{(B.validateBeforeChange&&B.validateBeforeChange(H,r)||r)&&B.onChangeCallback(H,r)}catch(F){e.logger.logInternalError(F,"failed to run on change for observer")}});t=[]}function v(){return function(H){try{return H.beforeValidator()}catch(r){return e.logger.logInternalError(r,"failed to validate if need to run observer"),!1}}}function x(){if(!g)return!1;try{z=new (q())(function(H){if(k.some(v())){var r=
H.some(function(B){var F=B.attributeName,I=B.target;B=B.type;F="attributes"===B&&("style"===F||"class"===F);var Q=I.getAttribute("class")||"";I=I.getAttribute("id")||"";return(I=-1===Q.indexOf("apt")&&-1===I.indexOf("apt"))&&"attributes"!==B||I&&F});t=t.concat(H);C(r)}}),z.observe((0,f.getBody)(),h)}catch(H){e.logger.logInternalMessage(H,"failed to observed mutation")}}Object.defineProperty(b,"__esModule",{value:!0});var l=function(){function H(r,B){for(var F=0;F<B.length;F++){var I=B[F];I.enumerable=
I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);Object.defineProperty(r,I.key,I)}}return function(r,B,F){return B&&H(r.prototype,B),F&&H(r,F),r}}();b.getNativeMutationObserver=q;b.checkMutationObserverIsSupported=function(){return!(0,f.getConfig)("badgeUseInterval")&&(11<=(0,p.detectIE)()||m)};var p=c(9),e=c(2);E=c(0);var n=c(14),d=c(167),f=c(1),m=window.MutationObserver||window.WebKitMutationObserver,h={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},g=11<=
(0,p.detectIE)()||m,k=[],t=[],u={},z=void 0,C=(0,E.debounce)(function(H){w(t,H)},300),a=function Q(r,B,F,I){y(this,Q);this.id=r;this.beforeValidator=B;this.onChangeCallback=F;this.validateBeforeChange=I};c=new (function(){function r(){y(this,r)}return l(r,[{key:"addObserver",value:function(B,F,I){1>k.length&&x();var Q=n.UUIDGenerator.generateV4Id();return k.push(new a(Q,B,F,I)),Q}},{key:"removeObserver",value:function(B){var F=(0,d.findIndex)(k,function(I){return I.id===B});-1<F&&k.splice(F,1);1>
k.length&&z.disconnect()}},{key:"addPXElementObserver",value:function(B,F,I){this.addElementObserver(B,F,I,!0)}},{key:"addElementObserver",value:function(B,F,I,Q){try{var P=new (q())(function(D){D.some(function(O){var W=O.attributeName,ba=O.target;O=O.type;W="attributes"===O&&("style"===W||"class"===W);var ma=ba.getAttribute("class")||"";ba=ba.getAttribute("id")||"";return(ba=Q||-1===ma.indexOf("apt")&&-1===ba.indexOf("apt"))&&"attributes"!==O||ba&&W})&&I(D)});P.observe(F,{childList:!0,subtree:!0,
attributeFilter:["style","class"]});u[B]=P}catch(D){e.logger.logInternalMessage(D,"failed to observed mutation for element: "+F)}}},{key:"removeElementListener",value:function(B){var F=u[B];F&&(F.disconnect(),delete u[B])}}]),r}());b.default=c},function(E,b,c){var y,q,w,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},x=c(6),l=c(0),p=c(7),e=c(1);
!function(n){"object"===v(b)&&void 0!==E?E.exports=n():(q=[],y=n,void 0!==(w="function"==typeof y?y.apply(b,q):y)&&(E.exports=w))}(function(){return function h(d,f,m){function g(u,z){if(!f[u]){if(!d[u]){if(k)return k(u,!0);z=Error("Cannot find module '"+u+"'");throw z.code="MODULE_NOT_FOUND",z;}z=f[u]={exports:{}};d[u][0].call(z.exports,function(C){return g(d[u][1][C]||C)},z,z.exports,h,d,f,m)}return f[u].exports}for(var k=!1,t=0;t<m.length;t++)g(m[t]);return g}({1:[function(d,f,m){"document"in window.self&&
("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var h=document.createElement("_");if(h.classList.add("c1","c2"),!h.classList.contains("c2")){var g=function(t){var u=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(z){var C,a=arguments.length;for(C=0;C<a;C++)z=arguments[C],u.call(this,z)}};g("add");g("remove")}if(h.classList.toggle("c3",!1),h.classList.contains("c3")){var k=DOMTokenList.prototype.toggle;
DOMTokenList.prototype.toggle=function(t,u){return 1 in arguments&&!this.contains(t)==!u?u:k.call(this,t)}}h=null}():function(h){if("Element"in h){h=h.Element.prototype;var g=Object,k=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},t=Array.prototype.indexOf||function(r){for(var B=0,F=this.length;B<F;B++)if(B in this&&this[B]===r)return B;return-1},u=function(r,B){this.name=r;this.code=DOMException[r];this.message=B},z=function(r,B){if(""===B)throw new u("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(B))throw new u("INVALID_CHARACTER_ERR","String contains an invalid character");return t.call(r,B)},C=function(r){var B=k.call(r.getAttribute("class")||"");B=B?B.split(/\s+/):[];for(var F=0,I=B.length;F<I;F++)this.push(B[F]);this._updateClassName=function(){r.setAttribute("class",this.toString())}},a=C.prototype=[],H=function(){return new C(this)};if(u.prototype=Error.prototype,a.item=function(r){return this[r]||null},a.contains=function(r){return r+="",-1!==z(this,r)},a.add=function(){var r=
arguments,B=0,F=r.length,I=!1;do{var Q=r[B]+"";-1===z(this,Q)&&(this.push(Q),I=!0)}while(++B<F);I&&this._updateClassName()},a.remove=function(){var r,B=arguments,F=0,I=B.length,Q=!1;do{var P=B[F]+"";for(r=z(this,P);-1!==r;)this.splice(r,1),Q=!0,r=z(this,P)}while(++F<I);Q&&this._updateClassName()},a.toggle=function(r,B){r+="";var F=this.contains(r),I=F?!0!==B&&"remove":!1!==B&&"add";return I&&this[I](r),!0===B||!1===B?B:!F},a.toString=function(){return this.join(" ")},g.defineProperty){a={get:H,enumerable:!0,
configurable:!0};try{g.defineProperty(h,"classList",a)}catch(r){-2146823252===r.number&&(a.enumerable=!1,g.defineProperty(h,"classList",a))}}else g.prototype.__defineGetter__&&h.__defineGetter__("classList",H)}}(window.self))},{}],2:[function(d,f,m){f.exports=function(k,t){if("string"!=typeof k)throw new TypeError("String expected");t||=document;var u=/<([\w:]+)/.exec(k);if(!u)return t.createTextNode(k);k=k.replace(/^\s+|\s+$/g,"");u=u[1];if("body"==u)return u=t.createElement("html"),u.innerHTML=
k,u.removeChild(u.lastChild);u=Object.prototype.hasOwnProperty.call(g,u)?g[u]:g._default;var z=u[0],C=u[1],a=u[2];u=t.createElement("div");for(u.innerHTML=C+k+a;z--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(k=t.createDocumentFragment();u.firstChild;)k.appendChild(u.removeChild(u.firstChild));return k};var h;d=!1;"undefined"!=typeof document&&(h=document.createElement("div"),h.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',
d=!h.getElementsByTagName("link").length,h=void 0);var g={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:d?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};g.td=g.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];g.option=g.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];
g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(d,f,m){function h(g,k){if(void 0===g||null===g)throw new TypeError("Cannot convert first argument to object");for(var t=Object(g),u=1;u<arguments.length;u++){var z=arguments[u];if(void 0!==z&&null!==z)for(var C=Object.keys(Object(z)),a=0,H=C.length;a<
H;a++){var r=C[a],B=Object.getOwnPropertyDescriptor(z,r);void 0!==B&&B.enumerable&&(t[r]=z[r])}}return t}f.exports={assign:h,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:h})}}},{}],4:[function(d,f,m){d("classlist-polyfill");d("es6-object-assign").polyfill();var h=d("domify"),g=function(H){if(void 0!==H){var r=document.createElement("div");return r.appendChild(document.createTextNode(H)),r.innerHTML}return""},k=function(H,
r){if("string"==typeof r&&0!==r.length){r=r.split(" ");for(var B=0;B<r.length;B++){var F=r[B];F.length&&H.classList.add(F)}}},t=function(){for(var H=document.createElement("div"),r=[{styleName:"animation",eventName:"animationend"},{styleName:"WebkitAnimation",eventName:"webkitAnimationEnd"},{styleName:"MozAnimation",eventName:"animationend"},{styleName:"OAnimation",eventName:"oanimationend"},{styleName:"msAnimation",eventName:"MSAnimationEnd"}],B=0;B<r.length;B++)if(void 0!==H.style[r[B].styleName])return r[B].eventName;
return!1}(),u={},z=1,C=!1,a={open:function(H){var r=function(D){console.warn('The "'+D+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};H.css&&r("css");H.overlayCSS&&r("overlayCSS");H.contentCSS&&r("contentCSS");H.closeCSS&&r("closeCSS");var B={};B.id=z++;u[B.id]=B;B.isOpen=!0;B.close=function(){function D(sa){var za=W.getPropertyValue(sa+"animation-name");sa=W.getPropertyValue(sa+
"animation-duration");return!!za&&"none"!==za&&!!sa&&"0s"!==sa}if(!this.isOpen)return!0;var O=this.options;if(C&&!O.escapeButtonCloses||!1===(!O.beforeClose||O.beforeClose.call(this)))return!1;this.isOpen=!1;var W=window.getComputedStyle(this.contentEl),ba=D("");ba=(ba=(ba=ba||D("-webkit-"))||D("-moz-"))||D("-o-");var ma=function za(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(t,za),delete u[this.id],this.rootEl.parentNode.removeChild(this.rootEl),O.afterClose&&O.afterClose.call(this),
0===Object.keys(u).length&&(0,e.getBody)().classList.remove("vex-open"))}.bind(this);return t&&ba?(this.rootEl.addEventListener(t,ma),this.rootEl.classList.add("vex-closing")):ma(),!0};"string"==typeof H&&(H={content:H});H.unsafeContent&&!H.content?H.content=H.unsafeContent:H.content&&(H.content=g(H.content));r=B.options=Object.assign({},a.defaultOptions,H);var F=B.rootEl=document.createElement("div");F.classList.add("vex");k(F,r.className);var I=B.overlayEl=document.createElement("div");I.classList.add("vex-overlay");
k(I,r.overlayClassName);r.overlayClosesOnClick&&I.addEventListener("click",function(D){D.target===I&&B.close()});F.appendChild(I);var Q=B.contentEl=document.createElement("div");if(Q.classList.add("vex-content"),k(Q,r.contentClassName),Q.appendChild(r.content instanceof window.Node?r.content:h(r.content)),F.appendChild(Q),r.showCloseButton){var P=B.closeEl=document.createElement("div");P.classList.add("vex-close");k(P,r.closeClassName);P.setAttribute("tabindex",x.MAX_TAB_INDEX);P.setAttribute("role",
"button");P.setAttribute("aria-label","close");(0,p.disableFocusOnClick)(P,Q);(0,l.addEnterKeyDownListener)(P,function(){return P&&P.click()});P.addEventListener("click",B.close.bind(B));Q.appendChild(P)}return document.querySelector(r.appendLocation).appendChild(F),r.afterOpen&&r.afterOpen.call(B),H.disableTransitionEffect&&F.classList.add("apt-disable-transition"),Q.setAttribute("tabindex",x.TAB_INDEX_START-1),H.disableAutoFocus||(0,p.focusElement)(Q),H.enableModalBodyScroll&&(0,e.getBody)().classList.add("vex-open"),
B},close:function(H){if(H.id)H=H.id;else if("string"!=typeof H)throw new TypeError("close requires a vex object or id string");return!!u[H]&&u[H].close()},closeTop:function(){var H=Object.keys(u);return!!H.length&&u[H[H.length-1]].close()},closeAll:function(){for(var H in u)this.close(H);return!0},getAll:function(){return u},getById:function(H){return u[H]}};window.addEventListener("keyup",function(H){27===H.keyCode&&(C=!0,a.closeTop(),C=!1)});window.addEventListener("popstate",function(){a.defaultOptions.closeAllOnPopState&&
a.closeAll()});a.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(a,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:g});a.registerPlugin=function(H,r){H=H(a);var B=r||H.name;if(a[B])throw Error("Plugin "+r+" is already registered.");a[B]=H};f.exports=a},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},
{},[4])(4)})},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(9),q=c(1),w=c(7),v=window;b.default=function(x){var l=this,p=x||0;this.setDefaultTopOffset=function(e){p=e||0};this.positionElement=function(e,n,d,f,m,h,g,k,t,u){m||0===m||(m=0);h||0===h||(h=0);if(n)if(n&&void 0!==n){var z=n.isDom?n.element.getBoundingClientRect():n.elementRect,C=e.getBoundingClientRect(),a=n&&z,H=n&&a.height;z=n&&a.width;var r=C.height,B=C.width,F=(0,y.getPageWidth)();C=(0,y.getFullPageHeight)();
switch(d.toLowerCase()){case "left":z=a.left;g||(z-=B+("center"===f?10:0));break;case "right":z=a.left+a.width;g||(z+="center"===f?10:0);break;case "center":z=Math.abs(a.left+z/2)-(g?0:B/2);break;default:throw Error("unsupported horizontal position "+d);}switch(f.toLowerCase()){case "top":g=a.top-(g?0:r+10);break;case "center":g=a.top+H/2-(g?0:r/2);break;case "bottom":g=a.top+H+(g?0:10);break;default:throw Error("unsupported vertical position "+f);}!k&&(0>z||z+B>F)?e=null:(a=!1,(0,q.getConfig)("supportFixedPosition")&&
n.isDom&&n.element&&(0,w.isFixedPosition)(n.element)&&(e.style.position="fixed",a=!0),a||(g+=isNaN(u)?window.pageYOffset:u),n=g+r>C||g<p,!k&&n?e=null:(k=g+m,(0,q.getConfig)("enableModalBodyScroll")||(n=(0,q.getBody)().getBoundingClientRect().top,0<n&&(k-=n)),k+="px",h=z+h+"px",e=(t?e.style.setProperty("transform","translate3d("+h+", "+k+", 0px"):(e.style.left=h,e.style.top=k),[d,f])))}else e=null;else{t=m;k=h;h=[];n=v.getComputedStyle(e);switch(e.style.position="fixed",t=t||0,d.toLowerCase()){case "left":e.style.right=
"";e.style.left=10+k+"px";h.push("left");break;case "right":e.style.left=window.innerWidth-parseInt(n.width,10)-10+k+"px";e.style.right="";h.push("right");break;default:e.style.right="",e.style.left="calc(50% - "+(0-k+parseInt(n.width,10)/2)+"px)",h.push("center")}switch(f.toLowerCase()){case "top":e.style.bottom="";e.style.top=10+t+p+"px";h.push("top");break;case "bottom":e.style.bottom=10-t+"px";e.style.top="auto";h.push("bottom");break;default:e.style.bottom="",e.style.top="calc(50% - "+(0-t+parseInt(n.height,
10)/2)+"px)",h.push("center")}e=h}return e};this.getElementPosition=function(e){e=e.getBoundingClientRect();return[e.top,e.left,e.bottom,e.right]};this.getElementDataPosition=function(e){return e.isDom?l.getElementPosition(e.element):[e.elementRect.top,e.elementRect.left,e.elementRect.bottom,e.elementRect.right]}}},,function(E,b,c){function y(N){return N&&N.__esModule?N:{default:N}}function q(N,U){(0,W.findTarget)(N,U.target,function(Z){(U.target=Z)&&fa(N,U)})}function w(){var N=(0,sa.getConfig)("badgeRepositionInterval");
return(0,Y.isNullOrUndefined)(N)&&(N=500),N}function v(){var N=Object.values(ia);T.forEach(function(ta){var ca=ta.sdkRules,la=ta.badgeSettings.id,ea=ta.engagementId,pa={url:(0,Y.getPageUrl)()};(0,Y.isBlank)(ca)||(0,qa.matchMultiTypeRules)(JSON.parse(ca),pa)?ia[la]||(ta.badgeSettings.engagementId=ea,(ta=fa(ta.badgeSettings))&&(ia[la]=ta)):ia[la]&&(ia[la].destroy(),delete ia[la])});var U=Object.values(ia),Z=(0,Ea.checkMutationObserverIsSupported)();(0,sa.isIframe)()?(A.observe((0,sa.getBody)(),G),e()):
A&&Z?0<N.length&&0===U.length?(A.disconnect(),e(),F()):0===N.length&&0<U.length?(A.observe((0,sa.getBody)(),G),e()):0<N.length&&0<U.length&&e():l()}function x(){try{A=new ((0,Ea.getNativeMutationObserver)())(function(N){0<Object.values(ia).length||(0,sa.isIframe)()?N.some(function(U){var Z=U.attributeName,ta=U.type;Z="attributes"===ta&&("style"===Z||"class"===Z);U=U.target.getAttribute("class")||"";return(U=-1===U.indexOf("apt")&&-1===U.indexOf("px-"))&&"attributes"!==ta||U&&Z})&&((0,sa.isIframe)()?
p():(da=da||J())()):A.disconnect()}),A.observe((0,sa.getBody)(),G)}catch(N){ba.logger.logInternalError(Error("Mutation Observer",N))}}function l(){K&&clearInterval(K);K=setInterval(function(){var N=Object.values(ia);0<N.length||(0,sa.isIframe)()?e(N):K&&clearInterval(K)},2E3)}function p(){if((0,sa.isIframe)()){var N=Object.values(ia);0<N.length&&(N=N.map(function(U){var Z=U.elementSelector,ta=Z.matchCssSelector,ca=Z.selector,la=Z.cssSelector,ea=Z.matchTextRule,pa=Z.textRule;Z=Z.htmlTextRule||JSON.parse(pa)||
{};ta=(0,Ha.findElementInWindow)({matchCssSelector:ta,cssSelector:ca||la,matchTextRule:ea,textRuleOperator:Z.operator,textRuleValues:Z.values},(0,sa.getBody)(),!1);return Object.assign({},U,{isExist:!!ta})}),V.default.broadcastBadgesStatuses(N))}}function e(){(0,sa.isIframe)()?p():oa(Object.values(ia))}function n(){var N=(0,Ea.checkMutationObserverIsSupported)();(0,sa.isIframe)()?N?x():l():(B(),0===T.length?S.internalEventListener.removeListener("pageview",v):0<T.length&&(N?x():l(),S.internalEventListener.addListener("pageview",
v)))}function d(N){try{var U=D.eventTrackData[O.cacheGet](D.sessionIdParam),Z=P.default.fetchBadges(U);h(N,Z);P.default.storeBadges(U,Z,!0)}catch(ta){ba.logger.logInternalError(ta)}}function f(N,U,Z){P.default.setIsPreview(Z);var ta=void 0;if(U){ta={};for(var ca=0;ca<U.length;ca++)ta[U[ca].badgeSettings.id]={index:ca,badge:U[ca]}}var la=!1;return N.forEach(function(ea,pa){try{var Aa=ea.badgeSettings,Ja=ea.engagementId,Sa=ea.sdkRules,Va=ea.contentTheme,db=Aa.id,Pa=Aa.lightThemeStyle,hb=Aa.darkThemeStyle,
Ya=Aa.cssLibraryStyle,qb=ia[db];qb&&qb.destroy();ta&&U.splice(ta[ea.badgeSettings.id].index,1,ea);var jb={url:(0,Y.getPageUrl)()};if((0,Y.isBlank)(Sa)||(0,qa.matchMultiTypeRules)(JSON.parse(Sa),jb)){Aa.engagementId=Ja;Aa.clickCallback=Z?Aa.clickCallback:d;Aa.executionId=ea.executionId;Z||(Aa.isDarkTheme=(0,Y.isDarkTheme)(Va),Aa.altSettings=Object.assign({},Aa.altSettings,{lightThemeStyle:Pa,darkThemeStyle:hb,cssLibraryStyle:Ya}));var va=fa(Aa,null);va&&(ia[db]=va)}else ba.logger.log("SDK rules did not match, rules: "+
Sa+", current URL: "+jb);la||N.length-1!==pa||(m(N),n(oa),la=!0)}catch(Ga){ba.logger.logInternalError(Ga)}}),Object.values(ia)}function m(N){N.forEach(function(U){var Z=U.badgeSettings.id;0<T.filter(function(ta){return ta.badgeSettings.id===Z}).length||T.push(U)})}function h(N){var U=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];try{for(var Z=ia[N],ta=0;ta<U.length;ta++)U[ta].badgeSettings.id==N&&U.splice(ta,1);for(U=0;U<T.length;U++)T[U].badgeSettings.id==N&&T.splice(U,1);(0,Fa.logBadgeForAppian)("Trying to remove badge "+
N+" "+JSON.stringify(Object.keys(ia))+" "+Z.badgeAttr.id);Z&&((0,Fa.logBadgeForAppian)("Trying to destroy badge "+N+" "+JSON.stringify(Object.keys(ia))+" "+Z.badgeAttr.id),Z.destroy(),delete ia[N])}catch(ca){(0,Fa.logBadgeForAppian)("Error with Removing badge "+N,ca),ba.logger.logInternalError(ca)}}function g(N){var U=N.removed;N=N.updated;var Z=D.eventTrackData[O.cacheGet](D.sessionIdParam),ta=P.default.fetchBadges(Z);(0,Y.isNotEmptyArr)(U)&&U.forEach(function(ca){return h(ca,ta)});(0,Y.isNotEmptyArr)(N)&&
f(N,ta);P.default.storeBadges(Z,ta,!0)}function k(){var N=D.eventTrackData[O.cacheGet](D.sessionIdParam);N=P.default.fetchBadges(N);var U=Object.assign({},ia);if(!(0,Y.isEmptyArr)(N)||!(0,Y.isEmptyArr)(Object.keys(U))){N=N.map(function(ca){var la=ca.badgeSettings;ca=la.id;la=la.version;return delete U[ca],{id:ca,version:la}});N.concat((0,xa.arrayFrom)(Object.values(U),function(ca){ca=ca.badgeAttr;return{id:ca.id,version:ca.version}}));var Z=D.eventTrackData[O.cacheGet](D.aptrinsicIdParam),ta={};Object.assign(ta,
D.eventTrackData[O.cacheGetAll]());(0,Y.addCacheBuster)(ta);ta=sa.refreshBadgeEndpoint+"?"+(0,Y.convert2Parameters)((0,Y.addParameters)(ta,[]));za.AjaxUtil.postData(ta,{sdkBadges:N,aptrinsicId:Z},void 0,g,null,!0)}}function t(N,U){var Z=sa.badgeTrackEndpoint,ta=[];ta=(0,Y.addParameters)(D.eventTrackData[O.cacheGetAll](),ta);(0,Y.addParameters)({ei:N.engagementId,ecoi:N.badgeSettings.deviceContentId||null,evi:N.badgeSettings.matchEventId||null,acci:U,exi:N.executionId,ext:(new Date).getTime(),at:"b",
bi:N.badgeSettings.id},ta);(N=(0,Ba.getGlobalContext)())&&(0,Y.addParameters)({gcx:JSON.stringify(N)},ta);Z+="?"+(0,Y.convert2Parameters)(ta);za.AjaxUtil.getData(Z)}function u(N){m(N);n(oa);var U=D.eventTrackData[O.cacheGet](D.sessionIdParam);P.default.storeBadges(U,N);f(N)}function z(){(0,sa.isIframe)()||R||(R=setInterval(function(){0===P.default.getAllBadgesInIframes().length?(clearInterval(R),R=null,C()):(0,X.getRegisteredIframes)().forEach(function(N){var U=N.iframeId,Z=N.iframe;if(0<P.default.getBadgesOfIframe(U).length){if(Z.closed)return void r(U);
M.default.getBadgesLocations(N,function(ta){ta=I(ta,1)[0];var ca=N.domElement;ta.badges.forEach(function(la){var ea=ia[la.id];if(ea){var pa=document.getElementById("apt-"+la.id),Aa=ea.getTooltip();pa=(0,Y.isElementInIframeVisible)(la.rect,ca,pa);Aa=!(!Aa||!Aa.state.isVisible)&&(0,Y.isElementInIframeVisible)(la.rect,ca,Aa.popper);Ca(ea,null,{rect:la.rect,isVisible:la.isVisible&&(pa||Aa),pageYOffset:window.pageYOffset})}});0===ta.badges.length&&r(N.iframeId)})}})},250))}function C(){(0,X.getRegisteredIframes)().forEach(function(N){r(N.iframeId)})}
function a(N){M.default.setBadgeObserver(N);e()}function H(N){ia[N]&&(ia[N].destroy(),delete ia[N])}function r(N){P.default.getBadgesOfIframe(N).forEach(function(U){H(U);P.default.removeBadgeFromIframe(U)});T.forEach(function(U){var Z=U.badgeSettings.id;ia[Z]||(U=fa(U.badgeSettings))&&(ia[Z]=U)})}function B(){(0,X.getRegisteredIframes)().forEach(M.default.setBadgeObserver);S.internalEventListener.addListener("IFRAME_REGISTERED",a)}function F(){(0,X.getRegisteredIframes)().forEach(M.default.unsetBadgeObserver);
S.internalEventListener.removeListener("IFRAME_REGISTERED",a)}Object.defineProperty(b,"__esModule",{value:!0});b.badgeIframeHelper=void 0;var I=function(){return function(N,U){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N)){var Z=[],ta=!0,ca=!1,la=void 0;try{for(var ea,pa=N[Symbol.iterator]();!(ta=(ea=pa.next()).done)&&(Z.push(ea.value),!U||Z.length!==U);ta=!0);}catch(Aa){ca=!0,la=Aa}finally{try{!ta&&pa.return&&pa.return()}finally{if(ca)throw la;}}return Z}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),Q=function(){function N(U,Z){for(var ta=0;ta<Z.length;ta++){var ca=Z[ta];ca.enumerable=ca.enumerable||!1;ca.configurable=!0;"value"in ca&&(ca.writable=!0);Object.defineProperty(U,ca.key,ca)}}return function(U,Z,ta){return Z&&N(U.prototype,Z),ta&&N(U,ta),U}}();b.removeBadgeObserver=function(){A.disconnect();S.internalEventListener.removeListener("pageview",v)};b.addBadgeObserver=n;b.drawBadges=f;b.removeBadge=h;b.setBadgeObserverForRegisteredIframes=B;b.unsetBadgeObserverForRegisteredIframes=
F;b.updateBadgesFromIframe=function(N,U){U.forEach(function(ca){var la=ca.id;ca=ca.isExist;(P.default.addBadgeToIframe(N,la),ca)?ia[la]||(ca=T.find(function(ea){return ea.badgeSettings.id===la}))&&(ca=fa(ca.badgeSettings))&&(ia[la]=ca):H(la)});var Z=P.default.getAllBadgesInIframes(),ta=0<P.default.getAllBadgesInIframes().length;0===U.length&&0<P.default.getBadgesOfIframe(N).length&&r(N);T.forEach(function(ca){var la=ca.badgeSettings.id;-1===Z.indexOf(la)&&(ia[la]?(ca=na(),!ia[la].target&&ca(ia[la])):
(ca=fa(ca.badgeSettings))&&(ia[la]=ca))});ta?z():(clearInterval(R),R=null,C())};E=c(82);var P=y(E),D=c(4),O=c(8),W=c(83),ba=c(2),ma=c(9),sa=c(1),za=c(13),S=c(11);E=c(20);var M=y(E);E=c(49);var V=y(E),X=c(5),Y=c(0),qa=c(67),xa=c(10),Ea=c(36),Ha=c(7),Ba=c(23),wa=c(42),Fa=c(84),ia={},A=void 0,T=[],K=void 0,da=void 0,fa=function(N,U,Z,ta){var ca=D.eventTrackData[O.cacheGet](D.sessionIdParam);U=U||new W.Badge(N);U.setIsDarkMode(N.isDarkTheme);var la=void 0,ea=P.default.getIsPreview();if(!ea){var pa=N.id;
if(!pa)return void ba.logger.log("renderBadge got wrong badge id: "+pa);if(!(la=P.default.fetchBadges(ca).filter(function(Aa){return Aa.badgeSettings.id===pa})[0]))return void ba.logger.log(Error("No badge found in store while expecting to get badge id "+pa))}if(ta&&U.updateTargetData(Z,ta),U.render(),!ea&&U.isRendered&&!la.wasViewed){la.wasViewed=!0;P.default.storeBadge(ca,la);try{t(la)}catch(Aa){ba.logger.logInternalError(Aa,"Error during tracking badge view "+U)}}return U},Ca=function(N,U,Z){if(!N)return void ba.logger.log("update badge was called with undefined "+
N);Z?N.isRendered?N.targetData.rect.top===Z.rect.top&&N.targetData.rect.bottom===Z.rect.bottom&&N.targetData.rect.left===Z.rect.left&&N.targetData.rect.right===Z.rect.right&&N.targetData.rect.height===Z.rect.height&&N.targetData.rect.width===Z.rect.width&&N.targetData.isVisible===Z.isVisible&&N.targetData.pageYOffset===Z.pageYOffset||(N.updateTargetData(U,Z),N.scheduleUpdatePopper()):fa(N.badgeAttr,N,U,Z):N.isRendered?N.scheduleUpdatePopper():q(N.badgeAttr,N)},oa=function(N){return N.forEach(function(U){return Ca(U)})},
na=function(){var N=w();return(0,Y.debounce)(function(U){Ca(U)},N)},G={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},J=function(){var N=w();return(0,Y.debounce)(e,N)};c=function(){function N(){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");}return Q(N,null,[{key:"init",value:function(){if((0,sa.getConfig)("enableBadge")&&!(0,sa.isIframe)()){setInterval(k,6E4*(0,sa.getConfig)("badgeRefreshInterval"));var U=D.eventTrackData[O.cacheGet](D.sessionIdParam);
U=P.default.fetchBadges(U);1>U.length||((0,Ha.addStyleTag)((0,sa.getBody)(),".apt-badge.apt-badge--hidden {\n\t\t\t\tdisplay: none;\n\t\t\t}"),T=U,n(oa),(0,ma.addDOMReadyListener)(f,U))}}},{key:"addBadges",value:function(U){try{!Array.isArray(U)||1>U.length||(0,wa.encryptBadgeListSelectors)(U).then(u).catch(function(Z){ba.logger.logInternalError(Z,"Error in addBadges with encryption");u(U)})}catch(Z){ba.logger.logInternalError(Z)}}},{key:"removeAllBadges",value:function(){var U=D.eventTrackData[O.cacheGet](D.sessionIdParam),
Z=P.default.fetchBadges(U);(0,Y.isNotEmptyArr)(Z)&&(0,xa.arrayFrom)(Z).forEach(function(ta){h(ta.badgeSettings.id,Z)});P.default.storeBadges(U,Z,!0);P.default.clearAll()}}]),N}();b.default=c;var R=void 0;b.badgeIframeHelper=new function(){var N={};this.removeBadgeFromBadgesList=function(U){delete ia[U];delete N[U];T=Object.values(N)};this.addBadgeToBadgesList=function(U){void 0!==ia[U.id]&&void 0!==N[U.id]||(ia[U.id]=U,N[U.id]=U,T=Object.values(N),p())};this.getRenderedBadges=function(){return ia};
this.getBadgesWithLocations=function(){return Object.values(ia).map(function(U){var Z=U.elementSelector,ta=Z.matchCssSelector,ca=Z.selector,la=Z.cssSelector,ea=Z.matchTextRule,pa=Z.textRule;Z=Z.htmlTextRule||JSON.parse(pa)||{};(ca=(0,Ha.findElementInWindow)({matchCssSelector:ta,cssSelector:ca||la,matchTextRule:ea,textRuleOperator:Z.operator,textRuleValues:Z.values},(0,sa.getBody)(),!1))?(ta=ca.getBoundingClientRect(),ca=(0,Y.isElementVisible)(ca,!0),U=Object.assign({},U,{rect:ta,isVisible:ca,isExist:!0})):
U=Object.assign({},U,{rect:{},isVisible:!1,isExist:!1});return U})}}},function(E,b,c){function y(h){return-1<["TOOLTIP","HOTSPOT"].indexOf(h)}function q(h){return y(h.type)&&h.elementSelector||"DIALOG"===h.type&&("BAR"===h.dialogViewType&&h.barPosition||h.positionHorizontal&&h.positionVertical)}function w(h,g){var k=void 0;if(h=h.guideBranching){var t=h.branchConditionList;t&&0<t.length&&(k=h.branchConditionList.find(g).nextStepId)}return k}function v(){return(0,l.getConfig)("useSessionStorageForRedirect")||
window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.useSessionStorageForRedirect}Object.defineProperty(b,"__esModule",{value:!0});b.GuideQueryParms=void 0;b.isMappedStepType=y;b.isStepLinked=q;b.getLinkedStepFromIndex=function(h,g){for(var k=h[g];g<h.length&&!q(k);)k=h[++g];return{step:k,index:g}};b.getPrevLinkedStepFromIndex=function(h,g){for(var k=h[g];-1<g&&!q(k);)k=h[--g];return{step:k,index:g}};b.getNextStepIdByCondition=w;b.getBranchNextStepIdForCustomButton=function(h,g,k){return w(h[g],
function(t){return t.elementId===k&&"CUSTOM_BUTTON"===t.type})};b.getNextStepForNavigation=function(h,g,k){k=(k=h[k])?k.id:"";return w(h[g],function(t){return"STANDARD_NAVIGATION"===t.type})||k};b.getBranchingSkipToStepId=function(h,g){return w(h[g],function(k){return"TOOLTIP_NOT_FOUND"===k.type})};b.hasGuideBranching=function(h){return h.guideBranching&&h.guideBranching.branchConditionList&&0<h.guideBranching.branchConditionList.length};b.isLastStep=function(h,g,k){if(h){h=k>=h.length||1===h.length;
k=g.navigation.nextButtonAction===x.END_GUIDE;var t=!1,u=!1;g.customAction&&0<g.customAction.length&&g.customAction.forEach(function(z){z.actionConfigs?z.actionConfigs.forEach(function(C){C.actionType===x.NAVIGATION&&(C.navigationType!==x.GO_TO_STEP&&C.navigationType!==x.NEXT||(u=!0),C.navigationType===x.END&&(t=!0))}):u=!0});g=g.navigation.showNavigation||void 0===g.navigation.showNavigation;return h||k||t||!g&&!u}return!1};b.addClickListener=function(h,g,k){(0,l.getConfig)("elementClickToPointer")?
((0,p.addEventListener)(h,"pointerdown",k),(0,p.addEventListener)(h,"pointerup",g)):(0,p.addEventListener)(h,"click",g)};b.removeClickListener=function(h,g,k){(0,l.getConfig)("elementClickToPointer")?((0,p.removeEventListener)(h,"pointerdown",k),(0,p.removeEventListener)(h,"pointerup",g)):(0,p.removeEventListener)(h,"click",g)};b.buildHotspotStyle=function(h){var g=h.hotspotSettings,k=e.eventTrackData[n.cacheGet](e.productIdParameter)&&e.eventTrackData[n.cacheGet](e.productIdParameter).startsWith("AP-WVMZ1DVKRDJD"),
t=".apt-hotspot-dynamic {",u=".apt-hotspot-dynamic:before {";h=h.zIndex||h.zindex;return k&&(h=9E3),h=isNaN(h)||null===h?2147483647:h,t+="z-index: "+h+";",u+="z-index: "+h+";",t+="background-color: "+g.spotColor+";",u+="box-shadow: 0px 0px 2px 2px "+g.animationColor+";",t+="height: "+g.spotSize+"px; width: "+g.spotSize+"px;",u+="height: "+g.spotSize+"px; width: "+g.spotSize+"px;",u+="animation:apt-hotspot-active "+g.animationDuration+"ms "+(g.animationCount?g.animationCount:"infinite")+" linear; animation-delay: "+
(g.animationDelay?g.animationDelay:"0")+"ms;",t+="}",u+="}",t+" "+u};b.canUseSessionStorageForRedirect=v;b.getAptShowGuideParam=function(){var h=(v()?m.get():{}).aptShowGuide;return(0,p.getQueryParam)("aptShowGuide")||h||f.getGuideStateValue("apt.guideId")};b.removeStyleAttributesFromHTML=function(h){return h.replace(/style\s*=\s*"[^"]*"/gi,"")};b.replaceStepIdPlaceholder=function(h,g){try{var k=document.createElement("div");k.innerHTML=g;var t=k.querySelector(".px-step-style-tag-csp");return t.textContent=
t.textContent.replace(/PX_STEP_ID_PLACEHOLDER/g,h),k.innerHTML}catch(u){return d.logger.log("replaceStepIdPlaceholder - Error while replacing step id placeholder in html",u),g}};b.canUseHistoryReplaceState=function(){var h=!!e.windowRef.angular||!!e.windowRef.getAngularTestability||!!e.windowRef.getAllAngularRootElements;return(0,l.getConfig)("queryParamsInHash")&&h};b.redirect=function(h,g,k,t){var u=(0,l.getConfig)("supportAutoHashChangeDetection")&&(0,p.isOnlyHashChanged)(e.windowRef.location.href,
h);k&&!u?(e.windowRef.history.replaceState({},e.documentRef.title,h),"function"==typeof g&&g()):t?window.open(h,"_blank"):(e.windowRef.location.href=h,u&&"function"==typeof g&&g())};var x=c(62),l=c(1),p=c(0),e=c(4),n=c(8),d=c(2),f=function(h){if(h&&h.__esModule)return h;var g={};if(null!=h)for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(g[k]=h[k]);return g.default=h,g}(c(31)),m=b.GuideQueryParms={clear:function(){window.sessionStorage.removeItem("px.guide.queryParams")},set:function(h){window.sessionStorage.setItem("px.guide.queryParams",
JSON.stringify(h))},get:function(){try{var h=window.sessionStorage.getItem("px.guide.queryParams");return h?JSON.parse(h):{}}catch(g){return{}}}}},function(E,b,c){function y(f){var m=(0,n.getConfig)("decryptionSelectorKey");if(!m)return Promise.resolve(f);var h=(0,e.getFromEncryptedSelectorCache)(m,f);return h?Promise.resolve(h):(0,e.decryptOrEncryptSelector)(f,e.encrypt).then(function(g){return(0,e.addToEncryptedSelectorCache)(m,g),g})}function q(f){try{if(!(f&&f.badgeSettings&&f.badgeSettings.elementSelector))return Promise.resolve(f);
var m=f.badgeSettings.elementSelector;return y(m.cssSelector).then(function(h){return Object.assign({},f,{badgeSettings:Object.assign({},f.badgeSettings,{elementSelector:Object.assign({},m,{cssSelector:h})})})}).catch(function(h){return d.logger.logInternalError(h,"Error encrypting selector for badge "+f.id),f})}catch(h){return d.logger.logInternalError(h,"Error encrypting badge selectors for badge "+f.id),Promise.resolve(f)}}function w(f){if(!Array.isArray(f))return Promise.resolve(f);f=f.map(function(m){return m.cssSelector?
y(m.cssSelector).then(function(h){return Object.assign({},m,{cssSelector:h})}).catch(function(h){return d.logger.log('Error encrypting selector "'+m.cssSelector+'": '+h.message),m}):Promise.resolve(m)});return Promise.all(f)}function v(f){if(!f.mappedElements||!Array.isArray(f.mappedElements))return Promise.resolve(f);var m=f.mappedElements.map(function(h){return h.textElementRules?w(h.textElementRules).then(function(g){return Object.assign({},h,{textElementRules:g})}):Promise.resolve(h)});return Promise.all(m).then(function(h){return Object.assign({},
f,{mappedElements:h})})}function x(f,m){return Object.entries(f.attributes).map(function(h){h=p(h,2);var g=h[0],k=h[1];return null==k||""===k?Promise.resolve([g,k]):(0,e.decrypt)(String(k),m).then(function(t){return[g,t]}).catch(function(t){return d.logger.log('Error decrypting attribute "'+g+'" with value "'+k+'": '+t.message),[g,k]})})}Object.defineProperty(b,"__esModule",{value:!0});b.getFromEncryptedCache=b.getFromDecryptedCache=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p=function(){return function(f,m){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f)){var h=[],g=!0,k=!1,t=void 0;try{for(var u,z=f[Symbol.iterator]();!(g=(u=z.next()).done)&&(h.push(u.value),!m||h.length!==m);g=!0);}catch(C){k=!0,t=C}finally{try{!g&&z.return&&z.return()}finally{if(k)throw t;}}return h}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),e=c(172);Object.defineProperty(b,"getFromDecryptedCache",{enumerable:!0,get:function(){return e.getFromDecryptedCache}});Object.defineProperty(b,"getFromEncryptedCache",{enumerable:!0,get:function(){return e.getFromEncryptedCache}});b.decryptSelector=function(f){var m=(0,n.getConfig)("decryptionSelectorKey");if(!m)return Promise.resolve(f);var h=(0,e.getFromDecryptedSelectorCache)(m,f);return h?Promise.resolve(h):(0,e.decryptOrEncryptSelector)(f,e.decrypt).then(function(g){return(0,e.addToDecryptedSelectorCache)(m,
g),g})};b.encryptSelector=y;b.encryptStepsSelectors=function(f){f=f.map(function(m){var h=Object.assign({},m,{elementSelector:{matchCssSelector:m.matchCssSelector,cssSelector:m.cssSelector,matchTextRule:m.matchTextRule,textRuleOperator:m.textRule&&m.textRule.operator,textRuleValues:m.textRule&&m.textRule.values}});return y(h.elementSelector.cssSelector).then(function(g){return h.cssSelector=g,h.elementSelector.cssSelector=g,h}).catch(function(g){return d.logger.logInternalError(g,"Error encrypting selector for step "+
h.id),h})});return Promise.all(f)};b.encryptBadgeSelectors=q;b.encryptBadgeListSelectors=function(f){return new Promise(function(m){try{var h=f.map(function(g){return q(g)});Promise.all(h).then(function(g){m(g)}).catch(function(g){d.logger.logInternalError(g,"Error encrypting badge list selectors");m(f)})}catch(g){d.logger.logInternalError(g,"Error encrypting badge list selectors"),m(f)}})};b.encryptFeatures=function(f){if(!(0,n.getConfig)("decryptionSelectorKey")||!Array.isArray(f))return Promise.resolve(f);
f=f.map(function(m){return v(m)});return Promise.all(f)};b.decryptElementTreeAttributes=function(f){var m=(0,n.getConfig)("decryptionSelectorKey");if(!m||!Array.isArray(f))return Promise.resolve(f);f=f.map(function(h){if(!h.attributes||"object"!==l(h.attributes)||0===Object.keys(h.attributes).length)return Promise.resolve(h);var g=x(h,m);return Promise.all(g).then(function(k){k=Object.fromEntries(k);return Object.assign({},h,{attributes:k})})});return Promise.all(f)};var n=c(1),d=c(2)},function(E,
b,c){function y(z){return z&&z.__esModule?z:{default:z}}function q(z){var C=z.unresolvedClickPropertyIds,a=z.id;z.iframeList.forEach(function(H){u.resolveClickProperties(H,C,a);(0,x.incrementState)(a)});(0,x.execute)(a,200)}Object.defineProperty(b,"__esModule",{value:!0});b.resolveUnresolvedClickProperties=void 0;var w=c(7),v=c(12),x=c(5);E=c(16);var l=y(E),p=c(14),e=c(0),n=c(1),d=c(29),f=c(19);E=c(69);var m=y(E);E=c(48);var h=y(E),g=c(47),k=c(2),t=c(22),u=new function(){function z(a,H,r){H=x.IframeRequest.getMasterRequst(d.TRACKING_EVENT_TYPES.GET_ELEMENT_TEXT,
{cssSelector:H},r);(0,v.postRequestDown)(H,a)}function C(){return!((0,n.isIframe)()||l.default.isEditorMode())}this.getElementText=function(a,H,r){if(C()){if(!a)return void r(void 0,H);var B=(0,w.getElementText)(a),F=void 0;if((0,e.isDefinedStr)(B))return void r([B],H);B=p.UUIDGenerator.generateV4Id();(0,x.subscribe)(B,function(Q,P){r(Q,P)},H);try{var I=(0,x.getRegisteredIframes)();if((0,e.isNotEmptyArr)(I))for(H=0;H<I.length;H++)F=I[H],z(F,a,B),(0,x.incrementState)(B);else r(void 0,H)}catch(Q){}}};
this.lead=function(a,H,r,B){C()&&(a=x.IframeRequest.getIframeRequest((0,v.getIframeId)(),"lead",{source:a,email:H,userData:r,formFields:B}),(0,v.postRequest)(a,(0,t.getTopWindow)(),!0))};this.syncFeatureRules=function(a){C()&&(a=x.IframeRequest.getMasterRequst(d.TRACKING_EVENT_TYPES.REGISTER_FEATURE_RULES,{rules:a}),(0,v.propagateDown)(a,(0,x.getRegisteredIframes)()))};this.resolveClickProperties=function(a,H,r){C()&&(H=x.IframeRequest.getMasterRequst("resolveClickProperties",{clickPropertyIds:H},
r,a.iframeId),(0,v.postRequestDown)(H,a))};this.syncTrackingPropertiesMetaData=function(){if(C()){var a=(0,f.getFullUrlMasked)(),H=m.default.getFeaturesForUrl(a,"click"),r=h.default.getAllTrackingProperties();a=x.IframeRequest.getMasterRequst("syncTrackingPropertiesMetaData",{pageUrl:a,clickTrackingFeatures:H,trackingPropertiesMetaData:r});(0,v.propagateDown)(a,(0,x.getRegisteredIframes)())}}};b.default=u;b.resolveUnresolvedClickProperties=function(z,C){var a=z.unresolvedClickPropertyIds,H=z.iframeIdWhereClickHappened;
if((0,e.isEmptyArr)(a))return void C({});z=(0,x.getRegisteredIframes)().filter(function(F){return F.iframeId!==H});var r=p.UUIDGenerator.generateV4Id(),B={};(0,x.subscribe)(r,function(F){F=F.filter(function(I){return!I.error});if((0,e.isEmptyArr)(F))return void C(B);B=(0,g.processUnresolvedProperties)(a,F);C(B)});try{(0,e.isNotEmptyArr)(z)?q({iframeList:z,unresolvedClickPropertyIds:a,id:r}):C(B)}catch(F){k.logger.log("Error resolving unresolved click properties",F)}}},function(E,b,c){Object.defineProperty(b,
"__esModule",{value:!0});b.showMessage=void 0;var y=c(0),q=c(1),w=c(54);w.registerPlugin(c(128));w.defaultOptions.className="vex-theme-os";b.showMessage=function(v,x,l,p,e){var n=p&&p.messageTime||3E3,d=(0,q.getConfig)("framesetMode")?"html":"body";switch(v){case "warning":w.dialog.alert({appendLocation:d,afterOpen:function(){(0,q.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var f=this;setTimeout(function(){f.close()},n);(0,y.addEventListener)(this.overlayEl,"click",function(m){m.stopImmediatePropagation()});
(0,y.addEventListener)(this.overlayEl,"mousedown",function(m){m.stopImmediatePropagation()});(0,y.addEventListener)(this.overlayEl,"mouseup",function(m){m.stopImmediatePropagation()})},afterClose:function(){(0,q.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-warning",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon warning" \x3e\x3c/div\x3e\x3cdiv\x3e'+
x+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "success":w.dialog.alert({appendLocation:d,afterOpen:function(){(0,q.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var f=this;setTimeout(function(){f.close()},n);(0,y.addEventListener)(this.overlayEl,"click",function(m){m.stopImmediatePropagation()});(0,y.addEventListener)(this.overlayEl,"mousedown",function(m){m.stopImmediatePropagation()});(0,y.addEventListener)(this.overlayEl,"mouseup",function(m){m.stopImmediatePropagation()})},
afterClose:function(){(0,q.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-success",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon success" \x3e\x3c/div\x3e\x3cdiv\x3e'+x+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "error":w.dialog.alert({appendLocation:d,afterOpen:function(){(0,q.getBody)().classList.add("apt-vex");
this.rootEl.classList.add("apt-vex");var f=this;p&&p.autoHideFalse||setTimeout(function(){f.close();l&&l()},n);(0,y.addEventListener)(this.overlayEl,"click",function(m){m.stopImmediatePropagation()});(0,y.addEventListener)(this.overlayEl,"mousedown",function(m){m.stopImmediatePropagation()});(0,y.addEventListener)(this.overlayEl,"mouseup",function(m){m.stopImmediatePropagation()})},afterClose:function(){(0,q.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-error",
contentClassName:"apt-wrapper",callback:function(f){f&&l&&l()},closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon alert" \x3e\x3c/div\x3e\x3cdiv\x3e'+x+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "confirm":v="apt-wrapper",p&&p.contentClass&&(v+=" "+p.contentClass),w.dialog.buttons.YES.text=p&&p.buttonText||"OK",w.dialog.buttons.NO.text=p&&p.buttonNoText||"Cancel",w.dialog.confirm({appendLocation:d,afterOpen:function(){(0,q.getBody)().classList.add("apt-vex");
this.rootEl.classList.add("apt-vex");p&&p.showCancel&&this.rootEl.classList.add("apt-confirm-show");this.contentEl.querySelectorAll(".vex-dialog-button").forEach(function(f){(0,y.addEventListener)(f,"mousedown",function(m){m.stopImmediatePropagation()});(0,y.addEventListener)(f,"mouseup",function(m){m.stopImmediatePropagation()})});(0,y.addEventListener)(this.overlayEl,"click",function(f){f.stopImmediatePropagation()});(0,y.addEventListener)(this.overlayEl,"mousedown",function(f){f.stopImmediatePropagation()});
(0,y.addEventListener)(this.overlayEl,"mouseup",function(f){f.stopImmediatePropagation()})},afterClose:function(){(0,q.getBody)().classList.remove("apt-vex")},callback:function(f){f&&"function"==typeof l?l():f||"function"!=typeof e||e()},overlayClassName:"apt-wrapper",contentClassName:v,closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon alert" src\x3d"images/alert.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"apt-message-text"\x3e'+
x+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",className:"vex-theme-default vex-content-confirm"})}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.validateComment=function(y,q,w){var v=q.value&&q.value.trim(),x=y.isCommentMandatory&&!v?{valid:!1,message:y.mandatoryValidationText||"Please insert your comment"}:{valid:!0,message:""};var l=v.length<y.minCommentLength?{valid:!1,message:y.minCharsValidationText?y.minCharsValidationText.replace("%minCommentLength%",y.minCommentLength):"Comment should be minimum "+
y.minCommentLength+" characters"}:{valid:!0,message:""};y=v.length>y.maxCommentLength?{valid:!1,message:y.maxCharsValidationText?y.maxCharsValidationText.replace("%maxCommentLength%",y.maxCommentLength):"Comment can be at most "+y.maxCommentLength+" characters"}:{valid:!0,message:""};return w.innerText=x.message||l.message||y.message,x.valid&&l.valid&&y.valid?(q.classList.remove("error"),w.style.display="none",!0):(q.classList.add("error"),w.style.display="inline-block",!1)}},function(E,b,c){function y(n,
d,f){f=Array.isArray(f)?f:[];var m=!1;m=f.every(function(h){return-1<d.findIndex(function(g){return h===g})});f=d.length===f.length&&m;switch(n){case p.IS:m=f;break;case p.IS_NOT:m=!f;break;case p.IN:break;case p.NOT_IN:m=!m;break;default:m=!0}return m}function q(n,d,f,m){var h=!1;if(m)if("multiValueSelector"===n)h=y(d,f,m);else if("number"===n){n=Number(f[0]);m=Number(m[0]);switch(d){case e.EQUALS:d=m===n;break;case e.GREATER_THAN:d=m>n;break;case e.SMALLER_THAN:d=m<n;break;case e.SMALLER_THAN_EQUALS:d=
m<=n;break;case e.GREATER_THAN_EQUALS:d=m>=n;break;case e.BETWEEN:d=m>=n&&m<=Number(f[1]);break;default:d=!1}h=d}return h}function w(n,d){var f=n.defaultConditionAction,m=void 0;return n.stepConditionSet.sort(function(h,g){return h.conditionIndex-g.conditionIndex}).forEach(function(h){var g=h.rules.reduce(function(k,t){return k[t.ruleGroupIndex]=d(t),k},{});g=(0,x.default)(h.logicalExpression,g);!m&&g&&(m=h.action)}),m||=f,m}Object.defineProperty(b,"__esModule",{value:!0});b.setEngagementSessionId=
b.getEngagementSessionId=void 0;b.evaluateSurveyAnswers=q;b.evaluateStepConditionFilter=w;b.evaluateStepConditionFilterForSurvey=function(n,d){return w(n,function(f){return q(f.type,f.operator,f.value,d[f.id])})};var v=c(26),x=(E=c(168))&&E.__esModule?E:{default:E},l=c(31),p={IS:"is",IN:"in",NOT_IN:"notIn",IS_NOT:"isNot"},e={SMALLER_THAN:"smallerThan",GREATER_THAN:"greaterThan",SMALLER_THAN_EQUALS:"smallerThanEquals",GREATER_THAN_EQUALS:"greaterThanEquals",EQUALS:"equals",BETWEEN:"between"};b.getEngagementSessionId=
function(){var n=(0,l.getGuideStateValue)("apt.engagementSessionId"),d=v.UserData.getSessionId();return n||d};b.setEngagementSessionId=function(n){(0,l.setGuideStateValue)("apt.engagementSessionId",n)}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.resolveUrlProperty=function(l,p){var e=l.urlIgnoreBefore,n=l.urlIgnoreAfter;l=p;if(e){var d=l.indexOf(e);-1!==d&&(l=l.substring(d+e.length))}n&&(e=l.indexOf(n),-1!==e&&(l=l.substring(0,e)));return l===p?"":l};b.resolveQueryParamProperty=
function(l,p){if((0,w.isObjectEmpty)(l)||(0,v.isBlank)(l.parameter))return"";p=(0,q.url2Location)(p);if((0,w.isObjectEmpty)(p)||(0,v.isBlank)(p.search))return"";p=p.search.startsWith("?")?p.search.substring(1):p.search;l=l.parameter;return(0,v.isBlank)(l)?"":(l=(0,w.getQueryParamFromString)(p,l),(0,v.isBlank)(l)?"":decodeURIComponent(l))};b.getUniqueTrackingPropertiesIds=function(l){var p=new Set;return l.forEach(function(e){e=e.trackingPropertiesId;(0,v.isNotEmptyArr)(e)&&e.forEach(function(n){return p.add(n)})}),
Array.from(p)};b.processUnresolvedProperties=function(l,p){return l.reduce(function(e,n){e[n]="";var d=p.find(function(f){f=f.resolvedProperties;return!(0,w.isNullOrUndefined)(f[n])&&""!==f[n]});return d&&(e[n]=d.resolvedProperties[n]),e},{})};b.isClickPropertyType=function(l){return l===y.TRACKING_PROPERTY_TYPES.CLICK};b.isOOBPropertyType=function(l){return l===y.TRACKING_PROPERTY_TYPES.OOB};b.getMatchedClickFeatures=function(l,p){return l.filter(function(e){return e.allMappedElements.some(function(n){return(0,x.elementMatchesForTrackingFeatureRule)(n,
p)})})};b.isServerSideOOBProperty=function(l){return y.SERVER_SIDE_OOB_PROPERTIES.has(l)};var y=c(6),q=c(9),w=c(0),v=c(15),x=c(99)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function n(d,f){for(var m=0;m<f.length;m++){var h=f[m];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(d,h.key,h)}}return function(d,f,m){return f&&n(d.prototype,f),m&&n(d,m),d}}(),q=c(7),w=c(47),v=c(25),x=c(15),l=c(0),p=c(6),e=c(119);E=
new (function(){function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.trackingProperties=[];this.trackingPropertiesMap={};this.oobDetails={}}return y(n,[{key:"setOOBDetails",value:function(d){this.oobDetails=d}},{key:"setTrackingPropertiesMetaData",value:function(d){var f=this;this.trackingProperties=d;d.forEach(function(m){f.trackingPropertiesMap[m.id]=m})}},{key:"resolveTrackingPropertiesByIds",value:function(d,f){var m=this;return d.reduce(function(h,
g){var k=m.trackingPropertiesMap[g],t=m.resolveProperty(k,f);return h.resolvedTrackingProperties[g]=t,!(0,l.isObjectEmpty)(k)&&(0,w.isClickPropertyType)(k.propertyType)&&!t&&h.unresolvedClickPropertyIds.push(g),h},{unresolvedClickPropertyIds:[],resolvedTrackingProperties:{}})}},{key:"resolveTrackingPropertyForPreview",value:function(d,f){var m=this;return new Promise(function(h){var g=m.resolveProperty(d,f),k=(0,w.isOOBPropertyType)(d.propertyType),t=(0,w.isClickPropertyType)(d.propertyType)&&""===
g;k&&(g="");t?(0,e.resolveClickPropertyFromIframes)({property:d}).then(function(u){h(String(u))}):h(String(g))})}},{key:"resolveProperty",value:function(d,f){if((0,l.isObjectEmpty)(d))return"";switch(d.propertyType){case p.TRACKING_PROPERTY_TYPES.PAGE:d=n.resolvePageProperty(d,f);break;case p.TRACKING_PROPERTY_TYPES.CLICK:d=n.resolveClickProperty(d);break;case p.TRACKING_PROPERTY_TYPES.JS_FUNC:d=n.resolveAdvancedJsProperty(d);break;case p.TRACKING_PROPERTY_TYPES.OOB:d=this.resolveOOBProperty(d);break;
default:d=""}return(0,l.cleanPropertyValue)(d)}},{key:"resolveOOBProperty",value:function(d){if((0,w.isServerSideOOBProperty)(d.name))return p.OOB_PROPERTY_VALUE;switch(d.name){case p.CLIENT_SIDE_OOB_PROPERTIES_MAP.SCREEN_HEIGHT:return this.oobDetails.screenHeight;case p.CLIENT_SIDE_OOB_PROPERTIES_MAP.SCREEN_WIDTH:return this.oobDetails.screenWidth;case p.CLIENT_SIDE_OOB_PROPERTIES_MAP.URL_PAGE_TITLE:return this.oobDetails.urlPageTitle;case p.CLIENT_SIDE_OOB_PROPERTIES_MAP.URL_SCHEMA:return this.oobDetails.urlSchema;
case p.CLIENT_SIDE_OOB_PROPERTIES_MAP.URL_REFERRER:return this.oobDetails.urlReferrer;default:return""}}},{key:"resolveClickProperties",value:function(d){var f=this,m={};return d.forEach(function(h){var g=f.trackingPropertiesMap[h];(0,w.isClickPropertyType)(g.propertyType)?m[h]=f.resolveProperty(g):m[h]=""}),m}},{key:"getAllTrackingProperties",value:function(){return this.trackingProperties}}],[{key:"resolveAdvancedJsProperty",value:function(d){if((0,l.isObjectEmpty)(d.jsFuncDetails))return"";d=d.jsFuncDetails;
if((0,x.isBlank)(d.javascriptObject))return"";var f=String(d.javascriptObject).trim();if(f.startsWith(p.WINDOW_BASE))d=window,f=f.slice(p.WINDOW_BASE.length);else{if(!f.startsWith(p.DOCUMENT_BASE))return"";d=document;f=f.slice(p.DOCUMENT_BASE.length)}if((0,x.isBlank)(f)||(0,l.isNullOrUndefined)(f))return"";d=(0,v.resolveNestedProperty)(d,f);return(0,l.isNullOrUndefined)(d)?"":d}},{key:"resolveClickProperty",value:function(d){if((0,l.isObjectEmpty)(d.clickDetails))return"";var f=d.clickDetails;if((0,x.isBlank)(f.selectorText)||
(0,x.isBlank)(f.selectorValue))return"";d=f.selectorValue;f=(0,q.findElementInWindow)({matchCssSelector:!0,cssSelector:f.selectorText},document,!1);if(!f)return"";d in f?(d=f[d],d=(0,l.isNullOrUndefined)(d)?"":d):d=f.getAttribute(d)||"";return d}},{key:"resolvePageProperty",value:function(d,f){if((0,l.isObjectEmpty)(d.pageDetails))return"";d=d.pageDetails;switch(d.pagePropertyType){case p.PAGE_TRACKING_PROPERTY_TYPES.URL:f=(0,w.resolveUrlProperty)(d,f);break;case p.PAGE_TRACKING_PROPERTY_TYPES.QUERY_PARAMETER:case p.PAGE_TRACKING_PROPERTY_TYPES.UTM_PARAMETER:f=
(0,w.resolveQueryParamProperty)(d,f);break;default:f=""}return f}}]),n}());b.default=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(1),q=c(12),w=c(5),v=c(14),x=c(29),l=c(0),p=c(22);E=new function(){(0,y.isIframe)()&&(this.associateParent=function(e){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"associateParent",null,e);(0,q.postRequest)(e,window.parent,!0)},this.guideElementSelected=function(e,n){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",
{type:"elementSelected",cssSelector:e,elementText:n});(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.guideElementSelectedForEditorV2=function(e,n){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"elementSelectedForEditorV2",cssSelector:e,elementText:n});(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.getGuide=function(){var e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"get"});(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.guideElementNotVisible=
function(){},this.selectElementInProductMapper=function(e){(0,q.postRequest)(w.IframeRequest.getIframeRequest({aptrinsicEventType:"element_selector_document_click",content:{selector:e},aptrinsicIframeId:(0,q.getIframeId)()}),(0,p.getTopWindow)())},this.showNextStep=function(e,n){e=w.IframeRequest.getIframeRequest({aptrinsicEventType:"apt_msg_show_next_step",content:{stepId:e,stepSelector:n},aptrinsicIframeId:(0,q.getIframeId)()});(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.updateContent=function(e){e=
w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"updateLastContent",content:e});(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.setSelectorState=function(e){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"updateSelectorState",state:e});(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.selectorIconClicked=function(e,n){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"iconClicked",state:e,extraData:n});(0,q.postRequest)(e,(0,p.getTopWindow)(),
!0)},this.broadcastElementRect=function(e,n){e=Object.assign({},e);var d=window.parent===(0,p.getTopWindow)()?x.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT_PARENT:x.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT;n=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),d,{elementRect:e},n);(0,q.postRequest)(n,window.parent,!0)},this.broadcastUpBadgesLocation=function(e,n){var d=window.parent===(0,p.getTopWindow)()?x.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_RESPONSE:x.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME;
e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),d,{prevIframeId:(0,q.getIframeId)(),badges:e},n);(0,q.postRequest)(e,window.parent,!0)},this.broadcastBadgesStatuses=function(e){var n=v.UUIDGenerator.generateV4Id();e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"apt_msg_badge_post_status",{badges:e},n);(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.sendElementResponse=function(e,n,d,f,m){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"elementExistResult",{exist:!!e,isVisible:n,
count:d,attributes:m},f);m=m?(0,l.getCircularReplacer)():void 0;(0,q.postRequest)(e,(0,p.getTopWindow)(),!0,m)},this.guideLinkedElementClicked=function(e){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"apt-msg-element-clicked",{},e);(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.guideExternalElementClicked=function(e){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"apt-msg-external-element-clicked",{},e);(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.isElementVisibleResponse=
function(e,n){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"isElementVisibleResponse",isVisible:n},e);(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.getMapperState=function(e){(0,q.iframeSubscribeCallback)("guide",{type:"getState"},e)},this.getMapperStateForEditorV2=function(e){(0,q.iframeSubscribeCallback)("guide",{type:"getMapperStateForEditorV2"},e)},this.getAlternateSelectorResponse=function(e,n){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"alternateSelectorResponse",
alternateSelector:n},e);(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)},this.postDifferentSelectorResponse=function(e,n){e=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"guide",{type:"differentSelectorResponse",selectors:n},e);(0,q.postRequest)(e,(0,p.getTopWindow)(),!0)})};b.default=E},function(E,b,c){function y(ta){return ta&&ta.__esModule?ta:{default:ta}}function q(ta,ca){if(!(ta instanceof ca))throw new TypeError("Cannot call a class as a function");}function w(){ma.internalEventListener.dispatchEvent(Ea.GLOBAL_CONTEXT_CHANGED,
(0,Ha.getGlobalContext)())}function v(){(0,O.getIsNewAPI)()?(0,za.removeWidget)():(0,S.removeWidget)()}function x(ta){var ca={};if((0,r.isObject)(ta)){var la={},ea;for(ea in ta)ta.hasOwnProperty(ea)&&(-1==na.indexOf(ea)?la[ea]=ta[ea]:ca[ea]=ta[ea]);ca.customAttributes=la}return ca}function l(){(0,g.isIframe)()||(f.UserData.ensureUserData(),h.eventTrackData[k.cacheSet](h.userIdParameter,f.UserData.getUserId()),h.eventTrackData[k.cacheSet](h.sessionIdParam,f.UserData.getSessionId()),h.eventTrackData[k.cacheSet]("ai",
f.UserData.getAptrinisId()),h.eventTrackData[k.cacheSet]("vt",f.UserData.getUserType()))}function p(ta){try{f.UserData.changeUserType(f.UserData.userType()),f.UserData.setAptrinsicId(ta.ai)?U.trackEvent("sessionInitialized",null,function(){(0,I.identifyFinished)()}):(0,I.identifyFinished)()}catch(ca){C.logger.logInternalError(ca,"failed to run identify call back for response")}}function e(ta,ca){if(ta){if(ca&&(0,z.setEngagementSessionId)(ca),!(0,Y.isExcluded)()&&!F.default.isEditorMode()&&(0,g.getConfig)("enableBadge")){ca=
ta.badgeData;try{ca&&W.default.addBadges(ca.badges)}catch(la){C.logger.logInternalError(la)}}ta=ta.engagement;((ca=Array.isArray(ta))&&0<ta.length||!ca&&ta)&&(J=!0,fa=!1);try{u.EngagementDrawer.draw(ta)}catch(la){C.logger.logInternalError(la)}}}Object.defineProperty(b,"__esModule",{value:!0});b.identifyCallback=b.startEngagementBatch=b.externalApi=b.api=void 0;var n=function(){return function(ta,ca){if(Array.isArray(ta))return ta;if(Symbol.iterator in Object(ta)){var la=[],ea=!0,pa=!1,Aa=void 0;try{for(var Ja,
Sa=ta[Symbol.iterator]();!(ea=(Ja=Sa.next()).done)&&(la.push(Ja.value),!ca||la.length!==ca);ea=!0);}catch(Va){pa=!0,Aa=Va}finally{try{!ea&&Sa.return&&Sa.return()}finally{if(pa)throw Aa;}}return la}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),d=function(){function ta(ca,la){for(var ea=0;ea<la.length;ea++){var pa=la[ea];pa.enumerable=pa.enumerable||!1;pa.configurable=!0;"value"in pa&&(pa.writable=!0);Object.defineProperty(ca,pa.key,pa)}}return function(ca,la,ea){return la&&
ta(ca.prototype,la),ea&&ta(ca,ea),ca}}(),f=c(26),m=c(102),h=c(4),g=c(1),k=c(8),t=c(13),u=c(52),z=c(46),C=c(2),a=c(9);E=c(116);var H=y(E),r=c(0),B=c(158);E=c(16);var F=y(E),I=c(27);E=c(51);var Q=y(E);E=c(109);var P=y(E),D=c(10),O=c(34);E=c(40);var W=y(E),ba=c(103),ma=c(11),sa=c(30),za=c(59),S=c(81),M=c(35),V=c(118),X=c(78),Y=c(19),qa=c(68),xa=c(21),Ea=c(6),Ha=c(23),Ba=c(33),wa=c(42),Fa=c(15);E=c(104);var ia=y(E),A=c(43),T=c(5),K=0,da=0,fa=!1,Ca=void 0,oa=["click","linkClick"],na="id name trackedSubscriptionId industry numberOfEmployees sicCode website naicsCode plan countryCode countryName stateCode stateName city street continent postalCode regionName timeZone latitude longitude sfdcId parentGroupId".split(" "),
G="identify linkClick LINK_CLICK ENGAGEMENT_DRAWN engagementDrawn engagementView engagementClosed engagementCompleted engagementViewedStep engagementPostRender surveyResponded SURVEY_CLOSED surveyClosed kcSearch articleView kcOpened kcClosed engagementLinkClick engagementResize customButtonClick CUSTOM_BUTTON_CLICK kcTriggered".split(" "),J=!1,R=function Aa(ca,la,ea,pa){var Ja=(pa||0)+1;try{if((0,g.getConfig)("enableTag")&&!J){la||(J=!1);var Sa=(new Date).getTime(),Va=(0,g.getConfig)("maxEngagementCalls");
if(ca>Va)return C.logger.log("sent "+Va+" engagement calls, not calling again"),fa=!1,Ca=void 0,void ma.internalEventListener.dispatchEvent("ENGAGEMENT_FETCH");var db=(0,g.getConfig)("engagementCallDelay");if(Sa-da<db||Sa-K<db||(0,I.isInIdentify)())return void setTimeout(function(){Aa(ca,!0,ea,Ja)},0===K?db:db-(Sa-K));Z.get("engagement",ea);K=Sa;Aa(ca+1,!0,ea,Ja)}}catch(Pa){C.logger.logInternalError(Pa)}},N=function ea(la){try{if((0,g.getConfig)("enableTag")&&!(0,sa.hasLiveEngagement)()){var pa=!(0,r.isObjectEmpty)(la)&&
la.s||void 0,Aa=(0,g.getConfig)("crossProductEngagement")&&!!h.windowRef.sessionStorage.getItem("apt.localCache");if(!(0,g.featureEnabled)("engagementPull")||fa||Aa)return pa&&Ca!==pa&&ma.internalEventListener.addListener("ENGAGEMENT_FETCH",ea,void 0,!1,!0),void C.logger.log("we have another engagement batch already running");fa=!0;pa&&(Ca=pa);J=!1;R(1,null,la,0)}}catch(Ja){C.logger.logInternalError(Ja)}},U=b.api=function(){function la(){q(this,la)}return d(la,null,[{key:"trackEvent",value:function(ea){var pa=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,Aa=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,Ja=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,Sa=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],Va=5<arguments.length&&void 0!==arguments[5]?arguments[5]:void 0,db=void 0;pa&&pa.targetElement&&(db=pa.targetElement,delete pa.targetElement);var Pa={};try{if((0,g.getConfig)("enableTag")&&(0,xa.getChannel)(h.eventTrackData[k.cacheGet](h.productIdParameter))!=
Ea.DESKTOP_CHANNEL&&!("identify"!==ea&&(0,Y.isExcluded)()||F.default.isEditorMode())){var hb="sessionInitialized"!==ea&&!(0,g.isIframe)();if(-1<oa.indexOf(ea)&&P.default.try2Match(),Sa&&l(),"signup"===ea&&2>arguments.length)throw Error("sign up event must contain event properties");!(0,g.isIframe)()&&Object.assign(Pa,h.eventTrackData[k.cacheGetAll]());(0,g.isIframe)()||0!==Pa[h.aptrinsicIdParam].indexOf("AP-")||Pa[h.aptrinsicIdParam]===Pa[h.userIdParameter]||C.logger.logInternalError(Error("visitor id does not match aptrinsic id for command"),
"current cookies: "+Ba.Cookie.getCookiesRaw());var Ya=(0,r.getWindowLocation)(),qb=Ya.protocol+"//",jb=Ya.host,va=Ya.pathname,Ga=Ya.search,Ma=h.documentRef.title,ja=Ya.hash,Da=h.documentRef.referrer;if("pageview"===ea&&pa){if(pa.url){var ra=(0,a.url2Location)(pa.url);qb=ra.protocol;jb=ra.host;va=ra.pathname;Ga=ra.search;ja=ra.hash}Ma=pa.title||Ma;Da=pa.referrer||Da;va=pa.path||va;!(0,g.isIframe)()&&(pa=void 0)}Sa=void 0;var La=(0,Y.maskUrl)(qb,jb,va,Ga,ja,Da,Ma),ya=n(La,7);qb=ya[0];jb=ya[1];va=ya[2];
Ga=ya[3];ja=ya[4];Sa=ya[5];Ma=ya[6];var Ra=(0,a.getPageHeight)(),Ta=(0,a.getPageWidth)(),ab=(0,ia.default)({properties:pa,eventType:ea,targetElement:db,oobDetails:{urlPageTitle:Ma,urlSchema:qb,urlReferrer:Sa,screenHeight:Ra,screenWidth:Ta}}),Ua=ab.iframeIdWhereClickHappened,Xa=ab.unresolvedClickPropertyIds,lb=ab.resolvedTrackingProperties;Object.assign(Pa,{et:ea,rf:Sa,sc:qb,ho:jb,pa:decodeURIComponent(va),q:decodeURIComponent(Ga),ha:decodeURIComponent(ja),sch:Ra,scw:Ta,pt:Ma});Ja&&Object.assign(Pa,
{cet:Ja});var Eb=(0,Ha.getGlobalContext)();if((Eb||Va)&&(pa||={}),Pa=(0,ba.addFullStoryInfo)(Pa),(0,r.isObject)(pa)&&!(0,g.isIframe)())"feature"==ea?pa=pa.featureMatches?{fmf:pa.featureMatches}:{fmf:[{id:pa.id,femr:!0}]}:"custom"===ea&&(pa={epr:pa}),db={},Va&&Object.assign(db,Va),Eb&&Object.assign(db,Eb),!(0,r.isObjectEmpty)(db)&&Object.assign(pa,{gco:db}),Object.assign(Pa,{ep:(0,D.jsonStringify)(pa)}),-1<["engagementCompletedClosed","engagementDroppedClosed"].indexOf(ea)&&Object.assign(Pa,{ei:pa.engagementId});
hb&&(da=(new Date).getTime());(0,g.isIframe)()?(lb&&(pa.resolvedTrackingProperties=lb,pa.iframeId=(0,Fa.getIframeId)()),Q.default.track(ea,pa,Ja,Eb)):(0,A.resolveUnresolvedClickProperties)({unresolvedClickPropertyIds:Xa,iframeIdWhereClickHappened:Ua},function(tb){var zb=lb;(zb=Object.assign({},zb,tb),(0,r.isObjectEmpty)(zb)||(pa.tpj=zb,Object.assign(Pa,{ep:(0,D.jsonStringify)(pa)})),(0,r.addCacheBuster)(Pa),(0,g.getConfig)("usePOST"))?(tb={},tb[h.productIdParameter]=Pa[h.productIdParameter],tb.et=
Pa.et,delete Pa.ep,tb=(0,r.convert2Parameters)((0,r.addParameters)(tb,[])),tb=g.commandEndPointV2+"?"+tb,zb={},(0,r.isObjectEmpty)(pa)||(zb.ep=pa),t.AjaxUtil.postData(tb,Object.assign({},Pa,zb),null,Aa)):(tb=g.commandEndpoint+"?"+(0,r.convert2Parameters)((0,r.addParameters)(Pa,[])),zb="identify"===Pa.et?(0,g.getConfig)("requestTimeoutCritical"):void 0,2083>=tb.length?t.AjaxUtil.getData(tb,Aa,void 0,void 0,void 0,void 0,zb):(delete Pa.ep,tb=g.commandEndpoint+"?"+(0,r.convert2Parameters)((0,r.addParameters)(Pa,
[])),t.AjaxUtil.postData(tb,pa,null,Aa,void 0,void 0,void 0,zb)))});hb&&N({s:f.UserData.getSessionId()});ma.internalEventListener.dispatchEvent(ea)}}catch(tb){C.logger.logInternalError(tb,"track: "+ea+":"+Pa)}}},{key:"feedback",value:function(ea){try{l();var pa=Object.assign({},h.eventTrackData[k.cacheGetAll]());Object.assign(pa,(0,Y.getWebContext)());pa.et="feedback";!(0,r.isBlank)(ea.category)&&(pa.category=ea.category);!(0,r.isBlank)(ea.subject)&&(pa.subject=ea.subject);!(0,r.isBlank)(ea.description)&&
(pa.description=ea.description);(0,r.isNotEmptyArr)(ea.labels)&&(pa.labels=(0,D.arrayFrom)(ea.labels,function(Ja){return Ja}));(0,r.addCacheBuster)(pa);var Aa=g.serverEndpoint+"/feedback?"+h.productIdParameter+"\x3d"+h.eventTrackData[k.cacheGet](h.productIdParameter);(0,r.isBlank)(ea.kcId)||(Aa+="\x26kcid\x3d"+ea.kcId);t.AjaxUtil.postData(Aa,pa,null,null,null,!0)}catch(Ja){C.logger.logInternalError(Ja,"failed to send feedback "+JSON.stringify(ea))}}}]),la}(),Z=b.externalApi=function(){function la(){q(this,
la)}return d(la,null,[{key:"getRegisteredIframesList",value:function(){var ea=(0,T.getRegisteredIframes)().map(function(pa){return pa.iframeId});C.logger.log("registered Iframes list of "+ea.length+" -- "+ea.join(", "))}},{key:"track",value:function(ea,pa){try{if((0,g.getConfig)("enableTag")){var Aa="";if(!ea||!(0,r.isString)(ea)||""===ea.trim())return void C.logger.logInternalError(Error("cannot send custom event without event name: "+ea+", properties: "+JSON.stringify(pa)));"feature"!==ea&&(Aa=
ea,ea="custom");(0,r.isObject)(pa)&&Object.entries(pa).forEach(function(Ja){var Sa=n(Ja,2);Ja=Sa[0];Sa=Sa[1];(0,r.isString)(Sa)&&Sa&&1024<Sa.length?pa[Ja]=Sa.substr(0,1024):(0,r.isObject)(Sa)&&1024<JSON.stringify(Sa).length&&(pa[Ja]=JSON.stringify(Sa).substr(0,1024))});I.internalApt.call(null,ea,pa,null,Aa)}}catch(Ja){C.logger.logInternalError(Ja,"custom event track: "+ea+", properties: "+pa)}}},{key:"get",value:function(ea){var pa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{if((0,g.getConfig)("enableTag")&&
!(0,Y.isExcluded)()&&!F.default.isEditorMode()){var Aa=null,Ja=void 0,Sa=void 0,Va={};switch(Object.assign(Va,h.eventTrackData[k.cacheGetAll](),pa||{}),Va=(0,ba.addFullStoryInfo)(Va),ea){case "engagement":l();Aa=g.getAllInAppEndpoint;var db=(0,r.getUrlParts)(),Pa=n(db,4),hb=Pa[0],Ya=Pa[1],qb=Pa[2],jb=Pa[3],va=(0,Y.maskUrl)((0,r.getWindowLocation)().protocol+"//",hb,Ya,qb,jb,null,null),Ga=n(va,5);Sa=Ga[0];hb=Ga[1];Ya=Ga[2];qb=Ga[3];jb=Ga[4];Object.assign(Va,{sc:Sa,ho:hb,pa:decodeURIComponent(Ya),q:decodeURIComponent(qb),
ha:decodeURIComponent(jb)});Va.u=""+hb+Va.pa+Va.q+Va.ha;var Ma=(0,Ha.getGlobalContext)();Ma&&Object.assign(Va,{gcx:JSON.stringify(Ma)});var ja=Va.s;Ja=function(Da){e(Da,ja)};break;default:return}(0,r.addCacheBuster)(Va);Aa+="?"+(0,r.convert2Parameters)((0,r.addParameters)(Va,[]));t.AjaxUtil.getData(Aa,function(Da){try{Ja.call(this,Da)}catch(ra){C.logger.logInternalError(ra)}})}}catch(Da){C.logger.logInternalError(Da)}}},{key:"identify",value:function(ea,pa,Aa){try{if((0,g.getConfig)("enableTag")&&
(0,g.featureEnabled)("identify")){if((0,r.isObject)(Aa)){var Ja=new B.IntegrationMapper(ea,pa,Aa);if(Ja.mapData()&&(ea=Ja.getUserObj(),pa=Ja.getAccountObj()),Ja.isSegmentGroupCall())return void la._waitForUserIdentify(ea,pa)}Aa={};if((0,r.isBlank)(ea.id&&ea.id.toString()))throw Error("cannot identify without user id. Current user data: "+JSON.stringify(ea));Aa={};Aa.usf=(0,m.copyUserFields)(ea,pa);(0,r.isObject)(pa)&&(Aa.acf=x(pa));(0,I.internalApt)("identify",Aa,p);(0,I.identifyStart)()}}catch(Sa){C.logger.logInternalError(Sa)}}},
{key:"initWithExternalState",value:function(ea,pa){f.UserData.setAptrinsicId(pa);f.UserData.setSessionId(ea);la.get("engagement")}},{key:"_waitForUserIdentify",value:function(ea,pa,Aa){Aa=Aa||0;var Ja=!1;try{Ja=f.UserData.isUser()}catch(Sa){}!Ja&&1500>Aa?setTimeout(function(){la._waitForUserIdentify(ea,pa,Aa+250)},250):la.identify(ea,pa)}},{key:"account",value:function(ea){try{if((0,g.getConfig)("enableTag")&&(C.logger.log("Using the account method is deprecated. Please use the identify method instead."),
!(0,Y.isExcluded)()&&!F.default.isEditorMode())){l();var pa={};(0,r.isObject)(ea)&&(pa=x(ea));var Aa=g.accountEndpoint+"?";ea=[];ea=(0,r.addParameters)(h.eventTrackData[k.cacheGetAll](),ea);ea=(0,r.addParameter)("acc",JSON.stringify(pa),ea);Aa+=(0,r.convert2Parameters)(ea);da=(new Date).getTime();t.AjaxUtil.getData(Aa)}}catch(Ja){C.logger.logInternalError(Ja)}}},{key:"set",value:function(ea,pa,Aa){try{if((0,g.getConfig)("enableTag")){switch(ea){case "notification":Aa=[];Aa=(0,r.addParameters)(h.eventTrackData[k.cacheGetAll](),
Aa);Aa=(0,r.addParameter)("ni",pa,Aa);Aa=(0,r.addParameter)("ns",1,Aa);var Ja=g.notificationStateEndpoint+"?"+(0,r.convert2Parameters)(Aa);try{var Sa=h.documentRef.createElement("img");Sa.width=1;Sa.hight=1;Sa.src=Ja}catch(Va){C.logger.logInternalError(Va)}break;case "user":(0,m.setUser)(pa);break;case "globalContext":h.globalContextCache[k.cacheMerge]("apt.gcx",pa);w();break;case "eventListener":-1!==["ENGAGEMENT_DRAWN","SURVEY_CLOSED","engagementDrawn","surveyClosed"].indexOf(pa)&&null!==Aa&&"function"==
typeof Aa&&(h.externalEventListeners[pa]=Aa)}ma.internalEventListener.dispatchEvent("set",ea)}}catch(Va){C.logger.logInternalError(Va)}}},{key:"setOnce",value:function(ea,pa){try{if((0,g.getConfig)("enableTag"))switch(ea){case "globalContext":h.globalContextCache[k.cacheMerge]("apt.gcx",pa,!0),w()}}catch(Aa){C.logger.logInternalError(Aa)}}},{key:"remove",value:function(ea,pa){try{if((0,g.getConfig)("enableTag"))switch(ea){case "globalContext":var Aa=(0,Ha.getGlobalContext)();(0,r.isNotEmptyArr)(pa)&&
(pa.forEach(function(Ja){Aa.hasOwnProperty(Ja)&&delete Aa[Ja]}),h.globalContextCache[k.cacheSet]("apt.gcx",Aa),w())}}catch(Ja){C.logger.logInternalError(Ja)}}},{key:"lead",value:function(ea,pa){if((0,g.getConfig)("enableTag")){var Aa={};(0,r.isObject)(pa)&&(Aa=(0,m.copyUserFields)(pa));H.default.trackLead(ea,Aa)}}},{key:"event",value:function(ea,pa){try{if((0,g.getConfig)("enableTag")){if(!ea)return void C.logger.logInternalError(Error("cannot track custom event from segment without event name: "+
ea+", event attributes: "+JSON.stringify(pa)));this.track(ea,pa)}}catch(Aa){C.logger.logInternalError(Aa,"SEGMENT_EVENT Unable to log "+ea)}}},{key:"checklog",value:function(){C.logger.debugMode&&C.logger.logInternalError(Error("Test log from web-sdk"))}},{key:"pageView",value:function(ea){(0,I.internalApt)("pageview",ea)}},{key:"send",value:function(ea){switch(ea){case "feedback":if(2>arguments.length||!(0,r.isObject)(arguments[1]))break;U.feedback(arguments[1]);break;case "click":if(!(2>arguments.length)&&
Array.isArray(arguments[1])){var pa=arguments[1];(0,wa.decryptElementTreeAttributes)(pa).then(function(Aa){(0,I.internalApt)("click",{elementTree:Aa})}).catch(function(Aa){C.logger.logInternalError(Aa,"Failed to decrypt element tree attributes");(0,I.internalApt)("click",{elementTree:pa})})}}}},{key:"bot",value:function(ea,pa){(0,O.setIsNewAPI)(!1);var Aa=(0,O.getIsNewAPI)(),Ja="API"===(0,g.getConfig)("fetchKcType"),Sa=pa;switch((0,r.isObject)(Sa)||(Sa={}),ea){case "search":if(!(0,r.isObject)(pa))break;
(0,g.setKcConfigByName)("labels",pa.labels);O.KnowledgeCenterManager.updateWidgetConfig();break;case "get":if(!1===Aa){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{(0,S.fetchKcByApi)(Sa,!1)}catch(Ya){C.logger.logInternalError(Error("Bot API - get - "+Ya))}}break;case "show":if(!1===Aa){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{var Va=Sa,db=Va.onError,
Pa=Va.onDone;Ja&&(0,S.toggleKcBot)(!0,Pa,db)}catch(Ya){C.logger.logInternalError(Error("Bot API - show - "+Ya))}}break;case "start":if(!1===Aa){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{(0,S.fetchKcByApi)(Sa,!0)}catch(Ya){C.logger.logInternalError(Error("Bot API - start - "+Ya))}}break;case "hide":if(!1===Aa){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");
try{db=Sa;Va=db.onError;var hb=db.onDone;Ja&&(0,S.toggleKcBot)(!1,hb,Va,!0)}catch(Ya){C.logger.logInternalError(Error("Bot API - hide - "+Ya))}}}}},{key:"kcb",value:function(ea,pa){if((0,O.setIsNewAPI)(!0),(0,O.getIsNewAPI)()){var Aa="API"===(0,g.getConfig)("fetchKcType");switch((0,r.isObject)(pa)||(pa={}),ea){case "open":ea=pa;var Ja=ea.onError,Sa=ea.onDone;try{Aa?(0,O.getKcIsShownViaAPI)()?O.KnowledgeCenterManager.checkIsInitialized()&&(0,za.toggleKcBot)(!0,Sa,Ja,!0):((0,M.addCommandToBotQueue)(function(){(0,za.toggleKcBot)(!0,
Sa,Ja,!0)}),(0,za.initWidgetForAPI)(!0,Ja),(0,O.setKcIsShownViaAPI)(!0)):(0,za.toggleKcBot)(!0,Sa,Ja,!0)}catch(Ya){(0,r.isFunction)(Ja)&&Ja({message:"Bot API - error occurred"}),C.logger.logInternalError(Error("Bot API - open - "+Ya))}break;case "close":ea=pa;Aa=ea.onError;ea=ea.onDone;try{(0,za.toggleKcBot)(!1,ea,Aa,!0)}catch(Ya){(0,r.isFunction)(Aa)&&Aa({message:"Bot API - error occurred"}),C.logger.logInternalError(Error("Bot API - close - "+Ya))}break;case "show":ea=pa;pa=ea.onError;var Va=ea.onDone;
try{Aa?((0,M.addCommandToBotQueue)(function(){(0,O.setKcIsShownViaAPI)(!0);(0,r.isFunction)(Va)&&Va()}),(0,za.initWidgetForAPI)(!1,pa)):((0,r.isFunction)(pa)&&pa({message:"Bot API - show is only supported in API mode"}),C.logger.log("Bot API - show is only supported in API mode"))}catch(Ya){(0,r.isFunction)(pa)&&pa("Bot API - error occurred"),C.logger.logInternalError(Error("Bot API - show - "+Ya))}break;case "hide":ea=pa;var db=ea.onError,Pa=ea.onDone;try{if(Aa){var hb=function(){var Ya=(0,g.getKcConfig)();
Ya&&(0,M.getIsEmbedded)(Ya)&&(0,za.removeEmbeddedHanldlers)();(0,za.removeWidget)();(0,O.setKcIsShownViaAPI)(!1)};(0,za.toggleKcBot)(!1,function(Ya){Ya=Ya.kcId;hb();(0,r.isFunction)(Pa)&&Pa({id:Ya})},function(){hb();(0,r.isFunction)(db)&&db({message:"An error occurred, could not hide the bot."})},!0)}else(0,r.isFunction)(db)&&db({message:"Bot API - hide is only supported in API mode"}),C.logger.log("Bot API - hide is only supported in API mode")}catch(Ya){(0,r.isFunction)(db)&&db({message:"Bot API - error occurred"}),
C.logger.logInternalError(Error("Bot API - hide - "+Ya))}break;case "showArticleById":ea=pa;Aa=ea.articleId;ea=ea.onError;try{O.KnowledgeCenterManager.openArticleById(Aa)}catch(Ya){(0,r.isFunction)(ea)&&ea({message:"Bot API - error occurred"}),C.logger.logInternalError(Error("Bot API - showArticleById - "+Ya))}}}}},{key:"reset",value:function(){(0,O.productNeedsExtraLogging)((0,xa.getProduct)(h.eventTrackData[k.cacheGet](h.productIdParameter)))&&C.logger.reportToServer("reset called");f.UserData.clearUserData();
u.EngagementDrawer.clearEngagements(!0);W.default.removeAllBadges();v()}},{key:"addListener",value:function(ea,pa){if(0>G.indexOf(ea))return void C.logger.log("trying to listen to event "+ea+" that is not allowed in the API");ma.internalEventListener.addListener(ea,pa,null,!0)}},{key:"config",value:function(ea,pa,Aa){void 0!==pa&&("tagKey"===ea?pa!==h.eventTrackData[k.cacheGet](h.productIdParameter)&&(ea={},Aa&&!(0,r.isObjectEmpty)(Aa.tagConfig)&&(ea=Aa.tagConfig),(0,g.setCachedConfig)(V.tagConfigKeyName,
ea),h.windowRef[h.aptrinsicGlobalObjName]=X.aptNotReady,(0,I.appNotReady)(),h.eventTrackData[k.cacheSet](h.productIdParameter,pa),f.UserData.clearUserData(),u.EngagementDrawer.clearEngagements(),W.default.removeAllBadges(),P.default.clearAll(),v(),(0,V.getServerConfiguration)(!1,pa,null,(0,g.getCachedConfig)(V.tagConfigKeyName),null,function(){(0,g.isIframe)()||(f.UserData.initializeUser(pa),h.eventTrackData[k.cacheSet](h.userIdParameter,f.UserData.getUserId()),h.eventTrackData[k.cacheSet]("vt",f.UserData.getUserType()),
h.eventTrackData[k.cacheSet]("ai",f.UserData.getAptrinisId()),h.eventTrackData[k.cacheSet](h.sessionIdParam,f.UserData.getSessionId()));(0,I.appReady)();(0,X.aptReady)()})):"enableTag"===ea&&((0,g.overrideConfig)({enableTag:pa},!1,!0,!0),!1===pa&&this.reset()))}},{key:"render",value:function(ea,pa,Aa){if("engagement"===ea)try{qa.eventCache.setdata("trackingPayload",Aa),e(pa,null)}catch(Ja){C.logger.logInternalError(Ja,"failed to draw engagement: "+JSON.stringify(pa))}}}]),la}();b.startEngagementBatch=
N;b.identifyCallback=p},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(1),q=c(12),w=c(5),v=(E=c(16))&&E.__esModule?E:{default:E},x=c(58),l=c(22);c=new function(){(0,y.isIframe)()&&!v.default.isEditorMode()&&((0,x.initIframeSetup)(!0),this.track=function(p,e,n,d){p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"track",{aptrinsicEventType:p,properties:e,customEventName:n,passedGlobalContext:d});(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)},this.lead=function(p,e,n,d){p=
w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"lead",{source:p,email:e,userData:n,formFields:d});(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)},this.textElementResponse=function(p,e){p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"fetchElementTextResponse",{text:p},e);(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)},this.textFeatureMatch=function(p){p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"textFeatureMatches",{featureMatchData:p});(0,q.postRequest)(p,(0,l.getTopWindow)(),
!0)},this.clickPropertiesResponse=function(p,e){p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),"resolvedClickPropertiesResponse",{resolvedProperties:p},e);(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)})};b.default=c},function(E,b,c){function y(K){return K&&K.__esModule?K:{default:K}}function q(K,da,fa,Ca){qa.setIsDarkMode((0,k.isDarkTheme)(fa.contentTheme));qa.playGuide(K,da,function(){(0,a.handleEngagementFinish)(fa.content.contentType)},Ca);p();ba.internalEventListener.dispatchEvent("engagementView",
(0,B.getExternalEvent)(fa,"Viewed"))}function w(K,da,fa,Ca,oa){try{var na=void 0,G=void 0;G=(0,B.getEngagementTrackPayload)(K,ia.CLICK,fa,Ca);G=(0,k.addParameters)({recId:oa||null},G);K=da;return(0,P.getConfig)("storageProxyDomain")&&(K=(0,B.replaceImagesSrcFromHtmlString)(da)),na=P.engagementTrackEndpoint+"?",(0,W.resolveUrlsWithPlaceholdersInHTML)(K,(0,ma.isDesktop)()?null:function(J){J=G.concat((0,k.addParameter)("ru",J));return na+(0,k.convert2Parameters)(J)})}catch(J){z.logger.logInternalError(J)}}
function v(K){return(0,a.isLocked)(K)?(z.logger.log("Not displaying engagement of type "+K+" because an engagement of this type already displayed"),!1):((0,a.lockEngagementType)(K),!0)}function x(K,da,fa,Ca,oa,na){return{errorType:K,errorSubTypes:oa,engagementErrorData:{engagementId:fa,engagementType:Ca,stepId:na},flowType:"ENGAGEMENT",exceptionDetails:da,aptrinsicId:u.eventTrackData.data[u.aptrinsicIdParam]||null,sessionId:u.eventTrackData.data[u.sessionIdParam]||null}}function l(K,da,fa,Ca){K=x("FAILED_HTML_SANITIZATION",
""+da,K.engagementId,K.content.contentType,Array.isArray(fa)?[].concat.apply([],fa):[],Ca);z.logger.logInternalMessage(K)}function p(){(0,za.toggleKcBot)(!1,void 0,void 0,!0)}function e(K,da){K.content.coreStyling=K.content.coreStyling.replace("https://storage.googleapis.com",da);K.content.engagementCoreStyling=K.content.engagementCoreStyling.replace("https://storage.googleapis.com",da);K.content.overrideStyling=K.content.overrideStyling.replace("https://storage.googleapis.com",da)}function n(K,da,
fa){var Ca=fa&&fa.recId?fa.recId:null;if(Array.isArray(K)&&(1<K.length&&(K=K.sort(function(N,U){return wa[N.content.contentType]-wa[U.content.contentType]})),K=K[0]),K){var oa={url:(0,k.getPageUrl)()};if(!(da||I.default.isPreview()||(0,k.isBlank)(K.rules)||(0,O.matchMultiTypeRules)(JSON.parse(K.rules),oa)))return void z.logger.log("did not have client side match for engagement rules "+K.rules+", current URL: "+oa);oa=(0,S.validateChecksum)(K.engagementId,K.content);if(!oa.valid)return Ca=x(oa.errorType,
oa.errorMessage,K.engagementId,K.content.contentType),void z.logger.logInternalMessage(Ca);K.content.contentTypeId=Fa[K.content.contentType];oa=(0,a.sanitizeEngagement)(K.content,null,!1);Ba||(document.addEventListener(V.SET_USER_ATTRIBUTE_EVENT_NAME,function(N){(0,M.setUser)(N.detail.userAttr)}),Ba=!0);var na=(0,P.getConfig)("storageProxyDomain");switch(na&&e(K,na),K.content.contentType){case "IN_APP_DIALOG":v(K.content.contentType)&&(oa[0].isValid?(K=A(K,Ca),Ca=qa.checkHasOverlayForCurrentStep()?
qa.getStepSettings().zIndex:K.content.settings.zIndex,oa=qa.isRunning()&&qa.checkHasOverlayForCurrentStep()?0:K.content.settings.overlayFill,Ca=Object.assign({},K,{content:Object.assign({},K.content,{settings:Object.assign({},K.content.settings,{zIndex:Ca,overlayFill:oa})})}),Ea.drawDialog(Ca,d,da,fa),p(),ba.internalEventListener.dispatchEvent("engagementView",(0,B.getExternalEvent)(K,"Viewed"))):l(K,oa[0].errors,oa[0].errorTypes),m(K.content.contentType,K.rules,da));break;case "IN_APP_GUIDE":if(v(K.content.contentType)){da=
!0;for(na=0;na<K.content.steps.length;na++){var G=K.content.steps[na];if(G.total=K.content.steps.length,!(0,k.isBlank)(G.content))if(oa[na].isValid&&da){var J=G.content;(0,P.getConfig)("strictCSP")&&(0,P.getConfig)("cssNonce")&&(J=(0,X.removeStyleAttributesFromHTML)(J),J=(0,X.replaceStepIdPlaceholder)(G.id,J));K.content.steps[na].content=w(K,J,G.id,G.sequenceNumber,Ca);G.titleHtml&&(K.content.steps[na].titleHtml=w(K,G.titleHtml,G.id,G.sequenceNumber,Ca))}else da=!1,l(K,oa[na].errors,oa[na].errorTypes,
G.id)}if(!oa.some(function(N){return!N.isValid})){var R=K.content;Object.assign(R,{engagementId:K.engagementId,contentId:K.content.id,matchEventId:K.matchEventId,accountId:K.accountId,executionId:K.executionId,executionTimestamp:K.executionTimestamp,coreStyling:K.content.coreStyling,engagementCoreStyling:K.content.engagementCoreStyling,overrideStyling:K.content.overrideStyling,activationType:K.activationType,contentLocale:K.contentLocale,ideId:K.ideId,engagementName:K.engagementName});(0,Y.encryptStepsSelectors)(K.content.steps).then(function(N){q(N,
R,K,fa)}).catch(function(N){z.logger.logInternalError(N,"Error encrypting selectors for guide "+K.engagementId);q(K.content.steps,R,K,fa)})}}break;case "IN_APP_CAROUSEL":if(v(K.content.contentType)){na=!0;for(G=0;G<K.content.carouselSlideList.length;G++)J=K.content.carouselSlideList[G],(0,k.isBlank)(J.html)||(na&&oa[G].isValid?K.content.carouselSlideList[G].html=w(K,J.html,J.id,J.sequence,Ca):(na=!1,l(K,oa[G].errors,oa[G].errorTypes,J.id)));na&&(xa.drawCarousel(K,d,fa),p(),ba.internalEventListener.dispatchEvent("engagementView",
(0,B.getExternalEvent)(K,"Viewed")),m(K.content.contentType,K.rules,da))}break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":v(K.content.contentType)&&(oa.forEach(function(N){N.isValid||l(K,N.errors,N.errorTypes,N.stepId)}),Ha.draw(K,d,fa).isValid&&(p(),ba.internalEventListener.dispatchEvent("engagementView",(0,B.getExternalEvent)(K,"Viewed")),m(K.content.contentType,K.rules,da)))}}}function d(K,da){["ENGAGEMENT_DRAWN",
"engagementDrawn"].forEach(function(fa){var Ca=da.getBoundingClientRect();Ca={width:Ca.width,height:Ca.height};if(u.externalEventListeners[fa])try{u.externalEventListeners[fa](K.content.contentType,K.engagementId,Ca)}catch(oa){z.logger.logInternalError(oa,"Error calling "+fa+" event listener")}ba.internalEventListener.dispatchEvent(fa,K.content.contentType,K.engagementId,Ca)})}function f(K,da){return function(){var fa={url:(0,k.getPageUrl)()};(0,O.matchMultiTypeRules)(JSON.parse(K),fa)||T.clearEngagement(da)}}
function m(K,da,fa){!(0,P.getConfig)("evaluateEngRuleOnNavigation")||fa||I.default.isPreview()||(0,k.isBlank)(da)||(da=f(da,K),(0,a.registerEngagementPageChangedHandler)(K,da))}Object.defineProperty(b,"__esModule",{value:!0});b.guideDrawer=b.EngagementDrawer=void 0;var h=function(){function K(da,fa){for(var Ca=0;Ca<fa.length;Ca++){var oa=fa[Ca];oa.enumerable=oa.enumerable||!1;oa.configurable=!0;"value"in oa&&(oa.writable=!0);Object.defineProperty(da,oa.key,oa)}}return function(da,fa,Ca){return fa&&
K(da.prototype,fa),Ca&&K(da,Ca),da}}();E=c(77);E=y(E);var g=c(140);g=y(g);var k=c(0),t=c(9),u=c(4),z=c(2),C=c(13),a=c(30),H=c(145);H=y(H);var r=c(152);r=y(r);var B=c(17),F=c(16),I=y(F),Q=c(44),P=c(1),D=c(34),O=c(67),W=c(32),ba=c(11),ma=c(21),sa=c(40),za=c(59),S=c(61),M=c(102),V=c(6),X=c(41),Y=c(42),qa=new E.default(null,!0),xa=new g.default,Ea=new H.default,Ha=new r.default,Ba=!1,wa={IN_APP_CAROUSEL:1,IN_APP_GUIDE:2,IN_APP_DIALOG:3,IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,
IN_APP_MULTIPLE_QUESTION_SURVEY:8},Fa={IN_APP_DIALOG:1,IN_APP_GUIDE:2,IN_APP_CAROUSEL:3,IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8},ia={CLICK:"ENGAGEMENT_CLICK"},A=function(K,da){try{var fa=void 0;if(K.content.htmlElements)if(Array.isArray(K.content.htmlElements))for(var Ca=0;Ca<K.content.htmlElements.length;Ca++)fa=K.content.htmlElements[Ca],K.content.htmlElements[Ca]=w(K,fa,null,null,da);else K.content.htmlElements=w(K,
K.content.htmlElements,null,null,da);return K}catch(oa){z.logger.logInternalError(oa)}},T=b.EngagementDrawer=function(){function K(){if(!(this instanceof K))throw new TypeError("Cannot call a class as a function");}return h(K,null,[{key:"draw",value:function(da,fa,Ca){(0,t.addDOMReadyListener)(n,da,fa,Ca)}},{key:"clearEngagements",value:function(da){(da=da||!(0,P.getConfig)("crossProductEngagement"))&&qa.close();xa.close();Ea.close();Ha.close();da&&qa.clearStepRedirectData()}},{key:"clearEngagement",
value:function(da){switch(da){case "IN_APP_DIALOG":Ea.close();break;case "IN_APP_CAROUSEL":xa.close();break;case "IN_APP_GUIDE":qa.close();qa.clearStepRedirectData();break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":Ha.close()}}}]),K}();if(b.guideDrawer=qa,!(0,P.isIframe)()&&I.default.isPreview())I.default.getAdditionalDetails().kcId?(0,t.addDOMReadyListener)(function(){C.AjaxUtil.getData("https://app-be.aptrinsic.com/api/knowledge/"+
I.default.getProductKey().split("-")[1],function(K){D.KnowledgeCenterManager.removeWidget();D.KnowledgeCenterManager.initWidget({apiKey:I.default.getProductKey(),initialConfig:Object.assign(K,{enabled:!0}),isPreview:!0},!0);history.replaceState("",document.title,I.default.cleanEngagementData())},{Authorization:"Bearer "+I.default.getToken()},function(K){try{403===K?((0,Q.showMessage)("error","Not authorized to preview this knowledge center"),I.default.exit()):401==K&&((0,Q.showMessage)("error","Token expired, try to preview again"),
I.default.exit())}catch(da){z.logger.logInternalError(da)}})}):(b=(0,k.parseApiKey)(I.default.getProductKey()).groupId,C.AjaxUtil.getData(I.default.getPreviewUrl(),function(K){(0,t.addDOMReadyListener)(function(){history.replaceState("",document.title,I.default.cleanEngagementData())});var da=K.badgeData;try{if(da&&(0,k.isNotEmptyArr)(da.badges)){var fa=da.badges[0].badgeSettings;Object.assign(fa,{isPreview:!0,clickCallback:function(){try{"ONCE"===fa.qualificationScopeType&&"ON_CLICK"===fa.engagementTrigger&&
(0,sa.removeBadge)(fa.id),n(K.engagement)}catch(Ca){z.logger.logInternalError(Ca)}}});(0,sa.drawBadges)(da.badges,null,!0)}else n(K.engagement)}catch(Ca){z.logger.logInternalError(Ca)}},{Authorization:"Bearer "+I.default.getToken(),"X-GROUP-ID":b},function(K){try{403===K?((0,Q.showMessage)("error","Not authorized to preview this engagement"),I.default.exit()):401==K&&((0,Q.showMessage)("error","Token expired, try to preview again"),I.default.exit())}catch(da){z.logger.logInternalError(da)}}))},function(E,
b,c){function y(x,l){var p={appendTo:(0,v.getBody)(),zIndex:2147483647,theme:"px-tooltip"};return(0,w.default)(x,Object.assign(p,l))}Object.defineProperty(b,"__esModule",{value:!0});var q=function(){return function(x,l){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x)){var p=[],e=!0,n=!1,d=void 0;try{for(var f,m=x[Symbol.iterator]();!(e=(f=m.next()).done)&&(p.push(f.value),!l||p.length!==l);e=!0);}catch(h){n=!0,d=h}finally{try{!e&&m.return&&m.return()}finally{if(n)throw d;}}return p}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();b.addTooltipToElement=y;b.addTooltipToElements=function(x){return x.map(function(l){l=q(l,2);return y(l[0],l[1])})};var w=(E=c(80))&&E.__esModule?E:{default:E},v=c(1)},function(E,b,c){var y,q,w,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};!function(x){"object"===v(b)&&void 0!==E?E.exports=x():(q=[],y=x,void 0!==(w="function"==typeof y?
y.apply(b,q):y)&&(E.exports=w))}(function(){return function n(l,p,e){function d(h,g){if(!p[h]){if(!l[h]){if(f)return f(h,!0);g=Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g;}g=p[h]={exports:{}};l[h][0].call(g.exports,function(k){return d(l[h][1][k]||k)},g,g.exports,n,l,p,e)}return p[h].exports}for(var f=!1,m=0;m<e.length;m++)d(e[m]);return d}({1:[function(l,p,e){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg",
"g"))?function(){var n=document.createElement("_");if(n.classList.add("c1","c2"),!n.classList.contains("c2")){var d=function(m){var h=DOMTokenList.prototype[m];DOMTokenList.prototype[m]=function(g){var k,t=arguments.length;for(k=0;k<t;k++)g=arguments[k],h.call(this,g)}};d("add");d("remove")}if(n.classList.toggle("c3",!1),n.classList.contains("c3")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(m,h){return 1 in arguments&&!this.contains(m)==!h?h:f.call(this,m)}}n=null}():
function(n){if("Element"in n){n=n.Element.prototype;var d=Object,f=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array.prototype.indexOf||function(z){for(var C=0,a=this.length;C<a;C++)if(C in this&&this[C]===z)return C;return-1},h=function(z,C){this.name=z;this.code=DOMException[z];this.message=C},g=function(z,C){if(""===C)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(C))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");
return m.call(z,C)},k=function(z){var C=f.call(z.getAttribute("class")||"");C=C?C.split(/\s+/):[];for(var a=0,H=C.length;a<H;a++)this.push(C[a]);this._updateClassName=function(){z.setAttribute("class",this.toString())}},t=k.prototype=[],u=function(){return new k(this)};if(h.prototype=Error.prototype,t.item=function(z){return this[z]||null},t.contains=function(z){return z+="",-1!==g(this,z)},t.add=function(){var z=arguments,C=0,a=z.length,H=!1;do{var r=z[C]+"";-1===g(this,r)&&(this.push(r),H=!0)}while(++C<
a);H&&this._updateClassName()},t.remove=function(){var z,C=arguments,a=0,H=C.length,r=!1;do{var B=C[a]+"";for(z=g(this,B);-1!==z;)this.splice(z,1),r=!0,z=g(this,B)}while(++a<H);r&&this._updateClassName()},t.toggle=function(z,C){z+="";var a=this.contains(z),H=a?!0!==C&&"remove":!1!==C&&"add";return H&&this[H](z),!0===C||!1===C?C:!a},t.toString=function(){return this.join(" ")},d.defineProperty){t={get:u,enumerable:!0,configurable:!0};try{d.defineProperty(n,"classList",t)}catch(z){-2146823252===z.number&&
(t.enumerable=!1,d.defineProperty(n,"classList",t))}}else d.prototype.__defineGetter__&&n.__defineGetter__("classList",u)}}(window.self))},{}],2:[function(l,p,e){p.exports=function(f,m){if("string"!=typeof f)throw new TypeError("String expected");m||=document;var h=/<([\w:]+)/.exec(f);if(!h)return m.createTextNode(f);f=f.replace(/^\s+|\s+$/g,"");h=h[1];if("body"==h)return h=m.createElement("html"),h.innerHTML=f,h.removeChild(h.lastChild);h=d[h]||d._default;var g=h[0],k=h[1],t=h[2];h=m.createElement("div");
for(h.innerHTML=k+f+t;g--;)h=h.lastChild;if(h.firstChild==h.lastChild)return h.removeChild(h.firstChild);for(f=m.createDocumentFragment();h.firstChild;)f.appendChild(h.removeChild(h.firstChild));return f};var n;l=!1;"undefined"!=typeof document&&(n=document.createElement("div"),n.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',l=!n.getElementsByTagName("link").length,n=void 0);var d={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],
tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:l?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};d.td=d.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];d.option=d.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];d.thead=d.tbody=d.colgroup=d.caption=d.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];d.polyline=d.ellipse=
d.polygon=d.circle=d.text=d.line=d.path=d.rect=d.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(l,p,e){function n(d,f){if(void 0===d||null===d)throw new TypeError("Cannot convert first argument to object");for(var m=Object(d),h=1;h<arguments.length;h++){var g=arguments[h];if(void 0!==g&&null!==g)for(var k=Object.keys(Object(g)),t=0,u=k.length;t<u;t++){var z=k[t],C=Object.getOwnPropertyDescriptor(g,z);void 0!==C&&C.enumerable&&(m[z]=g[z])}}return m}
p.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},{}],4:[function(l,p,e){l("classlist-polyfill");l("es6-object-assign").polyfill();var n=l("domify"),d=function(u){if(void 0!==u){var z=document.createElement("div");return z.appendChild(document.createTextNode(u)),z.innerHTML}return""},f=function(u,z){if("string"==typeof z&&0!==z.length){z=z.split(" ");for(var C=0;C<z.length;C++){var a=z[C];a.length&&
u.classList.add(a)}}},m=function(){var u=document.createElement("div"),z={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"},C;for(C in z)if(void 0!==u.style[C])return z[C];return!1}(),h={},g=1,k=!1,t={open:function(u){var z=function(B){console.warn('The "'+B+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};
u.css&&z("css");u.overlayCSS&&z("overlayCSS");u.contentCSS&&z("contentCSS");u.closeCSS&&z("closeCSS");var C={};C.id=g++;h[C.id]=C;C.isOpen=!0;C.close=function(){function B(D){return"none"!==I.getPropertyValue(D+"animation-name")&&"0s"!==I.getPropertyValue(D+"animation-duration")}if(!this.isOpen)return!0;var F=this.options;if(k&&!F.escapeButtonCloses||!1===(!F.beforeClose||F.beforeClose.call(this)))return!1;this.isOpen=!1;var I=window.getComputedStyle(this.contentEl),Q=B("")||B("-webkit-")||B("-moz-")||
B("-o-"),P=function O(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(m,O),delete h[this.id],this.rootEl.parentNode.removeChild(this.rootEl),F.afterClose&&F.afterClose.call(this),0===Object.keys(h).length&&document.body.classList.remove("vex-open"))}.bind(this);return m&&Q?(this.rootEl.addEventListener(m,P),this.rootEl.classList.add("vex-closing")):P(),!0};"string"==typeof u&&(u={content:u});u.unsafeContent&&!u.content?u.content=u.unsafeContent:u.content&&(u.content=d(u.content));u=C.options=
Object.assign({},t.defaultOptions,u);z=C.rootEl=document.createElement("div");z.classList.add("vex");f(z,u.className);var a=C.overlayEl=document.createElement("div");a.classList.add("vex-overlay");f(a,u.overlayClassName);u.overlayClosesOnClick&&a.addEventListener("click",function(B){B.target===a&&C.close()});z.appendChild(a);var H=C.contentEl=document.createElement("div");if(H.classList.add("vex-content"),f(H,u.contentClassName),H.appendChild(u.content instanceof window.Node?u.content:n(u.content)),
z.appendChild(H),u.showCloseButton){var r=C.closeEl=document.createElement("div");r.classList.add("vex-close");f(r,u.closeClassName);r.addEventListener("click",C.close.bind(C));H.appendChild(r)}return document.querySelector(u.appendLocation).appendChild(z),u.afterOpen&&u.afterOpen.call(C),document.body.classList.add("vex-open"),C},close:function(u){if(u.id)u=u.id;else if("string"!=typeof u)throw new TypeError("close requires a vex object or id string");return!!h[u]&&h[u].close()},closeTop:function(){var u=
Object.keys(h);return!!u.length&&h[u[u.length-1]].close()},closeAll:function(){for(var u in h)this.close(u);return!0},getAll:function(){return h},getById:function(u){return h[u]}};window.addEventListener("keyup",function(u){27===u.keyCode&&(k=!0,t.closeTop(),k=!1)});window.addEventListener("popstate",function(){t.defaultOptions.closeAllOnPopState&&t.closeAll()});t.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",
contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(t,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:d});t.registerPlugin=function(u,z){u=u(t);var C=z||u.name;if(t[C])throw Error("Plugin "+z+" is already registered.");t[C]=u};p.exports=t},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.TOP_WINDOW_ID=void 0;var y=function(){function w(v,x){for(var l=0;l<x.length;l++){var p=
x[l];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(v,p.key,p)}}return function(v,x,l){return x&&w(v.prototype,x),l&&w(v,l),v}}(),q=c(8);E=new (b.TOP_WINDOW_ID="top",function(){function w(){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.store=new q.LocalCache}return y(w,[{key:"setIframeId",value:function(v){this.store.setdata("IFRAME_ID",v)}},{key:"getIframeId",value:function(){return this.store.getKey("IFRAME_ID")}},
{key:"setBotConfig",value:function(v){this.store.setdata("KC_CONFIG",v)}},{key:"getBotConfig",value:function(){return this.store.getKey("KC_CONFIG")}}]),w}());b.default=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(1),q=c(12),w=c(5),v=c(24),x=c(14),l=c(22);E=new function(){(0,y.isIframe)()&&(this.postIframeClosed=function(){if((0,y.isIframe)()){var p=x.UUIDGenerator.generateV4Id();p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED},
p);(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)}},this.postBotFound=function(){if((0,y.isIframe)()){var p=x.UUIDGenerator.generateV4Id();p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.BOT_FOUND},p);(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)}},this.getBotContent=function(p,e,n,d){(0,q.iframeSubscribeCallback)(v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,botId:p,isBotV2:e},function(f,m){f&&n&&n(f);m&&d&&d(m)})},this.trackBotToggle=function(p,
e){if((0,y.isIframe)()){var n=x.UUIDGenerator.generateV4Id();p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,botId:p,isOpen:e},n);(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)}},this.checkMappedElementIsVisibleResponse=function(p,e){(0,y.isIframe)()&&(p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.IS_ELEMENT_VISIBLE_RESPONSE,isVisible:e,iframeId:(0,q.getIframeId)()},p),(0,q.postRequest)(p,
(0,l.getTopWindow)(),!0))},this.getAptrinsicId=function(p){(0,q.iframeSubscribeCallback)(v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.GET_APTRINSIC_ID},p)},this.postClickElement=function(){if((0,y.isIframe)()){var p=x.UUIDGenerator.generateV4Id();p=w.IframeRequest.getIframeRequest((0,q.getIframeId)(),v.EVENTS.BOT,{type:v.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK},p);(0,q.postRequest)(p,(0,l.getTopWindow)(),!0)}})};b.default=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(1),
q=c(12),w=c(5),v=c(14),x=c(24);E=new function(){function l(p,e,n){var d=v.UUIDGenerator.generateV4Id();return w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,botConfig:p,isInitial:e,shouldOpen:n},d)}this.postBotEvent=function(p,e){var n=v.UUIDGenerator.generateV4Id();e=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,data:e},n);(0,q.postRequestDown)(e,p)};this.sendBotFound=function(p){if(!(0,y.isIframe)()){var e=v.UUIDGenerator.generateV4Id();
p=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.BOT_FOUND,iframeId:p},e);(0,q.propagateDown)(p,(0,w.getRegisteredIframes)())}};this.removeWidgetFromAllIframes=function(){if(!(0,y.isIframe)()){var p=v.UUIDGenerator.generateV4Id();p=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.REMOVE_BOT},p);(0,q.propagateDown)(p,(0,w.getRegisteredIframes)())}};this.sendBotConfig=function(p,e){(0,y.isIframe)()||(p=l(p,e),(0,q.propagateDown)(p,(0,w.getRegisteredIframes)()))};
this.sendBotConfigToIframe=function(p,e,n,d){(0,y.isIframe)()||(e=l(e,n,d),(0,q.postRequestDown)(e,p))};this.removeBotFromIframe=function(p){if(!(0,y.isIframe)()){var e=v.UUIDGenerator.generateV4Id();e=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.REMOVE_BOT},e);(0,q.postRequestDown)(e,p)}};this.getBotContentResponse=function(p,e,n,d){(0,y.isIframe)()||(e=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.GET_BOT_CONTENT_RESPONSE,response:n,error:d},
e),(0,q.postRequestDown)(e,p))};this.setBotIsOpen=function(p,e){var n=v.UUIDGenerator.generateV4Id();p=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,isOpen:p},n,e);(0,q.postRequestDown)(p,(0,w.getIframeData)(e))};this.checkMappedElementIsVisible=function(p,e,n){(0,y.isIframe)()||(0,q.createSubscribeCallbackRequest)(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,cssSelector:e},p,n)};this.addElementClickListener=function(p,e){var n=v.UUIDGenerator.generateV4Id();
e=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,cssSelector:e},n);(0,q.postRequestDown)(e,p)};this.getAptrinsicIdResponse=function(p,e,n){(0,y.isIframe)()||(e=w.IframeRequest.getMasterRequst(x.EVENTS.BOT,{type:x.TOP_TO_IFRAME_EVENTS.GET_APTRINSIC_ID_RESPONSE,aptrinsicId:n},e),(0,q.postRequestDown)(e,p))}};b.default=E},function(E,b,c){function y(){var g=e.IframeRequest.getIframeRequest((0,n.getIframeId)(),p.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH,
{iframesPath:[(0,n.getIframeId)()]},l.UUIDGenerator.generateV4Id());return new Promise(function(k){(0,e.subscribe)(g.aptrinsicRequestId,function(t){t=w(t,1)[0].iframesPath.reduce(function(u){return u.parent},window);(0,d.setTopWindow)(t);k()});(0,x.retryFunction)(f,m,function(){(0,n.postRequest)(g,window.parent,!0)})})}function q(){var g=0<arguments.length&&void 0!==arguments[0]&&arguments[0],k=e.IframeRequest.getIframeRequest((0,n.getIframeId)(),p.EVENT_TYPES.REGISTER,null,l.UUIDGenerator.generateV4Id());
(0,x.retryFunction)(f,m,function(){(0,n.setupIframeUnregisterOnUnload)((0,d.getTopWindow)(),window.parent);(0,n.postRequest)(k,(0,d.getTopWindow)(),!0)});g&&(0,x.retryFunction)(f,m,function(){(0,n.postRequest)(k,window.parent,!0)})}Object.defineProperty(b,"__esModule",{value:!0});var w=function(){return function(g,k){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g)){var t=[],u=!0,z=!1,C=void 0;try{for(var a,H=g[Symbol.iterator]();!(u=(a=H.next()).done)&&(t.push(a.value),!k||t.length!==
k);u=!0);}catch(r){z=!0,C=r}finally{try{!u&&H.return&&H.return()}finally{if(z)throw C;}}return t}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.initIframeSetup=function(){var g=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return new Promise(function(k,t){(0,v.isIframe)()?(0,d.shouldDiscoverTopWindowPath)()?y().then(function(){q(g);k()}):(q(g),k()):t(Error("Not in an iframe"))})};b.setChildIframe=function(g,k,t){h[g]=new e.IframeData(k,t,g,null)};b.getChildIframeData=
function(g){return h[g]};var v=c(1),x=c(15),l=c(14),p=c(29),e=c(5),n=c(12),d=c(22),f=3,m=1E3,h={}},function(E,b,c){function y(oa){return oa&&oa.__esModule?oa:{default:oa}}function q(oa){var na=(0,Q.getKcConfig)();if(na){var G=na.kcId;Ha=G;x(function(){wa=!1;M.botEventEmmiter.dispatchEvent("WIDGET_LOADED",oa,{kcId:G})},function(J){wa=!1;M.botEventEmmiter.dispatchEvent("WIDGET_FAILED",oa,{kcId:G,code:500,message:J})})}}function w(oa,na,G){D.KnowledgeCenterManager.initWidget({apiKey:F.eventTrackData.data[F.productIdParameter],
aptId:oa,initialConfig:na},!1,Fa,G)}function v(oa,na,G,J,R){G=Ba!==na.kcId;var N=!1;(J||Ba)&&G&&(D.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,Q.setKcConfig)({}));Ba=na.kcId;(0,Q.setKcConfig)(na);oa||G?((0,Q.isIframe)()?Ea.default.getAptrinsicId(function(U){w(B(U,1)[0].aptrinsicId,na,R)}):w(F.eventTrackData.data[F.aptrinsicIdParam],na,R),Ha?(N=!0,q(R)):Ha!==Ba?(N=!1,D.KnowledgeCenterManager.registerAfterWidgetLoad(function(){q(R)})):wa=!1):G?(N=!0,wa=!1):(N=!0,x(function(){wa=!1;M.botEventEmmiter.dispatchEvent("WIDGET_LOADED",
R,{kcId:Ba})},function(U){wa=!1;M.botEventEmmiter.dispatchEvent("WIDGET_FAILED",R,{kcId:Ba,code:500,message:U})}));N&&D.KnowledgeCenterManager.updateWidgetConfig()}function x(oa,na){D.KnowledgeCenterManager.fetchEntriesAndSendToWidget(F.eventTrackData.data[F.productIdParameter],F.eventTrackData.data[F.aptrinsicIdParam],oa,na)}function l(){fa.removeAllHandler()}function p(){Ha="";D.KnowledgeCenterManager.removeWidget(Ba);(0,S.removeEmbeddedListeners)();Ba="";(0,Q.setKcConfig)({});wa=!1}function e(oa,
na,G,J){var R=J.shouldRemoveWidget,N=J.shouldJustClean,U=J.shouldDispatchEvent;J.shouldRemoveHandlers&&fa.removeAllHandler();R?p():N&&(Ba="",(0,Q.setKcConfig)({}),D.KnowledgeCenterManager.cleanWidget());wa=!1;U&&M.botEventEmmiter.dispatchEvent("WIDGET_FAILED",G,{kcId:oa,code:na,message:"Could not fetch knowledge center with provided id"})}function n(oa,na,G){oa?wa=!1:(O.internalEventListener.dispatchEvent(xa.BOT_IFRAME_INTERNAL_EVENTS.BOT_EMPTY_CONFIG),e(na,500,G,{shouldRemoveWidget:!0,shouldJustClean:!1,
shouldDispatchEvent:!0,shouldRemoveHandlers:!0}))}function d(oa){var na=oa.knowledgeCenterConfiguration,G=oa.isInitializeCall,J=oa.ignoreEmptyConfigError,R=oa.kcId,N=oa.isByApi,U=oa.onDone;oa=oa.currentListenerId;if(na){R=na.invalidate;J="V1"===na.type;if(ia=na.kcId,J&&!0===R)return void p();R=Object.assign({},na);if(J&&!(0,Y.validateConfigChecksum)(ia,R))return void e(ia,500,oa,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});H(na,G,N,oa)}else n(J,R,oa);
U&&U(na)}function f(oa,na,G){var J=3<arguments.length&&void 0!==arguments[3]&&arguments[3],R=arguments[4],N=I.UserData.isUser(),U=X.UUIDGenerator.generateV4Id();(J&&K&&da&&(M.botEventEmmiter.addListener("WIDGET_LOADED",K,U),M.botEventEmmiter.addListener("WIDGET_FAILED",da,U)),wa&&(W.logger.log(G+" is in progress"),e(Ba,500,U,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),!(0,Q.getConfig)("widgetEnabled")||!N||P.default.isPreview()&&P.default.getAdditionalDetails().kcId||
wa)||(wa=!0,(0,D.fetchKnowledgeCenterConfig)(F.eventTrackData.data[F.productIdParameter],G,function(Z){if(!Z)return n(na,G,U),void(R&&R(Z));var ta=Z.type,ca=Z.v1Config;Z=Z.v2Config;var la={isInitializeCall:oa,ignoreEmptyConfigError:na,kcId:G,isByApi:J,onDone:R,currentListenerId:U};switch(ta){case "V1":d(Object.assign(la,{knowledgeCenterConfiguration:Object.assign({type:ta},ca)}));break;case "V2":d(Object.assign(la,{knowledgeCenterConfiguration:Object.assign({type:ta},Z)}));break;default:throw Error("Unknown knowledge center type");
}},function(Z){e(G,404,U,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})}))}function m(oa,na,G,J){try{var R=(0,Q.getKcConfig)()||{},N=R.kcId;0<Object.keys(R).length&&N?(oa?D.KnowledgeCenterManager.open():D.KnowledgeCenterManager.close(J),(0,ba.isFunction)(na)&&na({kcId:N})):(0,ba.isFunction)(G)&&G({kcId:N,code:404,message:"Not bot was found with id provided"})}catch(U){(0,ba.isFunction)(G)&&G({kcId,code:404,message:"An error occurred"}),W.logger.logInternalError(Error("toggleKcBot - "+
U))}}function h(){var oa=document.querySelector("#apt-widget");return oa?oa&&!oa.classList.contains("apt-hidden"):null}function g(oa){var na=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},G=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};try{var J=document.querySelector("#apt-widget"),R=h();J?(oa!==R&&(oa?J.classList.remove("apt-hidden"):J.classList.add("apt-hidden")),na()):G()}catch(N){G(),W.logger.log("error in togglerBotContainer "+N)}}function k(){var oa=
document.querySelector("#apt-widget");return oa?!oa.querySelector(".apt-widget.apt-widget-window"):!1}function t(){clearInterval(A);A=null;clearTimeout(T);T=null}function u(oa,na){try{t(),k()?(na(),t()):(A=setInterval(function(){k()&&(na(),t())},200),T=setTimeout(function(){t();e(Ba,500,oa,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});W.logger.logInternalError(Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3E3))}catch(G){t(),e(Ba,500,
oa,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),W.logger.log("onWidgetClosed - error"+G)}}function z(oa,na){m(!1,function(){g(!1,oa,na)},na)}function C(oa){return"apt-widget"===oa.id||1===oa.nodeType&&oa.querySelector("#apt-widget")}function a(oa){var na=!1,G=!1;return oa.some(function(J){return J.addedNodes.forEach(function(R){var N=3===R.nodeType;G||N||(G=C(R))}),G||J.removedNodes.forEach(function(R){var N=3===R.nodeType;na||N||(na=C(R))}),!G&&na})}function H(oa,na,G,
J){function R(){v(na,oa,null,G,J)}if((0,M.getIsEmbedded)(oa)){var N=(0,M.getElementSelector)(oa),U=function(ta,ca){(ta=a(ta))&&p();(ta||ca)&&Ca(na,oa,N,G,J)};(0,Q.isIframe)()||O.internalEventListener.dispatchEvent(xa.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,oa);var Z=(0,M.getEmbeddedPositionType)(oa);Z=(0,M.getIsInline)(Z);Ba!==oa.kcId&&(wa=!1,D.KnowledgeCenterManager.cleanWidget(),Z&&(Ha="",D.KnowledgeCenterManager.removeWidget()));Z=D.KnowledgeCenterManager.checkIsInitialized();D.KnowledgeCenterManager.checkIsInitialized()||
D.KnowledgeCenterManager.checkIsInProgress()?Z&&(G?(fa.removeAllHandler(),(0,S.removeEmbeddedListeners)(),r(N,R,function(){fa.addHandlers(U,J,oa)})):R()):((0,S.removeEmbeddedListeners)(),fa.removeAllHandler(),r(N,R,function(){fa.addHandlers(U,J,oa)}))}else R()}function r(oa,na,G){(0,V.addDOMReadyListener)(function(){(0,sa.findInAll)(oa,(0,za.getRegisteredIframes)(),function(J){J&&na(J);G&&G(J)})})}Object.defineProperty(b,"__esModule",{value:!0});var B=function(){return function(oa,na){if(Array.isArray(oa))return oa;
if(Symbol.iterator in Object(oa)){var G=[],J=!0,R=!1,N=void 0;try{for(var U,Z=oa[Symbol.iterator]();!(J=(U=Z.next()).done)&&(G.push(U.value),!na||G.length!==na);J=!0);}catch(ta){R=!0,N=ta}finally{try{!J&&Z.return&&Z.return()}finally{if(R)throw N;}}return G}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.removeEmbeddedHanldlers=l;b.removeWidget=p;b.initKnowledgeCenter=f;b.toggleKcBot=m;b.toggleBotContainer=g;b.closeAndHideBot=z;b.initWidgetForAPI=function(oa,na){oa&&
D.KnowledgeCenterManager.checkIsInitialized()&&(0,M.runBotCommands)();K=function(){(0,M.runBotCommands)();wa=!1};da=function(){wa=!1;(0,ba.isFunction)(na)&&na();fa.removeAllHandler()};f(!0,!1,null,!0)};var F=c(4),I=c(26),Q=c(1);E=c(16);var P=y(E),D=c(34),O=c(11),W=c(2),ba=c(0);E=c(36);var ma=y(E),sa=c(20),za=c(5),S=c(65),M=c(35),V=c(9),X=c(14),Y=c(66),qa=c(18),xa=c(24);E=c(129);E=y(E);c=c(56);var Ea=y(c),Ha=void 0,Ba=void 0,wa=!1,Fa=!1,ia="",A=void 0,T=void 0,K=void 0,da=void 0,fa=new function(){var oa=
void 0,na=void 0;this.removeAllHandler=function(){na&&(ma.default.removeObserver(na),na=null);oa&&O.internalEventListener.removeListener("pageview",oa)};this.addHandlers=function(G,J,R){oa=function(){(0,M.clearBotCommands)();var N=(0,M.getEmbeddedPositionType)(R);if((0,M.getIsInline)(N)){N=(D.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null}).element;try{!N||N&&!(0,qa.elementContainsChild)((0,Q.getBody)(),N)?p():g(!1)}catch(U){p()}}else z();G([],!0)};O.internalEventListener.addListener("pageview",
oa);na&&this.removeAllHandler();na=ma.default.addObserver(function(){return!0},G,function(N,U){return a(N)||U})}},Ca=(0,ba.debounce)(function(oa,na,G,J,R){try{var N=(0,M.getEmbeddedPositionType)(na);(0,S.findWidgetContainer)(G.cssSelector,R,{isNewAPI:!0,positionType:N,fetchKcType:(0,Q.getConfig)("fetchKcType"),kcId:na.kcId},{onClick:D.KnowledgeCenterManager.toggleBot,onDone:function(U){ia===na.kcId&&(D.KnowledgeCenterManager.updateEmbeddedMappedElement(U),D.KnowledgeCenterManager.checkIsInitialized()||
D.KnowledgeCenterManager.checkIsInProgress()?D.KnowledgeCenterManager.checkIsInitialized()&&!1===h()&&(m(!1),u(R,function(){g(!0)})):v(oa,na,U,J,R))},onFailed:function(){ia===na.kcId&&(J?p():(z(),O.internalEventListener.dispatchEvent("BOT_NOT_FOUND")))}})}catch(U){clearInterval(A),A=null,W.logger.log("error in updateWidget "+U)}},500);(0,E.default)(function(){l();p()},function(oa,na){ia=oa.kcId;H(oa,na)},D.KnowledgeCenterManager)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.ENGAGEMENT_CHECKSUM_KEY=
"engagementChecksum";b.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY="engFieldMappingEnabled";b.ENGAGEMENT_CHECKSUM_URL_CONFIG="engagementChecksumFileUrl";b.BOT_CHECKSUM_KEY="botChecksum";b.CHECKSUM_VERSION="checksumVersion"},function(E,b,c){function y(z,C){var a=(0,w.getCachedConfig)(v.CHECKSUM_VERSION);return void 0===a||2>=a?(0,x.filterAndSortEngagementFieldsV1)(z,C):3===a?(0,l.filterAndSortEngagementFieldsV3)(z,C):4===a?(0,p.filterAndSortEngagementFieldsV4)(z,C):5===a?(0,e.filterAndSortEngagementFieldsV5)(z,
C):(0,x.filterAndSortEngagementFieldsV1)(z,C)}function q(z){return function(C){var a={},H={},r=C.engagementChecksums;(0,d.isNotEmptyArr)(r)&&r.forEach(function(F){a[F.engagementId]=F.validChecksums});r=C.checksumVersion;var B=C.botChecksums;(0,d.isNotEmptyArr)(B)&&B.forEach(function(F){H[F.botId]=F.validContentChecksums.concat(F.validConfigChecksums)});C=C.engFieldMappingEnabled;(0,w.setCachedConfig)(v.ENGAGEMENT_CHECKSUM_KEY,a);(0,w.setCachedConfig)(v.CHECKSUM_VERSION,r);(0,w.setCachedConfig)(v.BOT_CHECKSUM_KEY,
H);(0,w.setCachedConfig)(v.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY,!!C);(0,d.isFunction)(z)&&z({engagementChecksumMapping:a,checksumVersion:r,botChecksumsMapping:H,engagementFieldMappingEnabled:C||!1})}}Object.defineProperty(b,"__esModule",{value:!0});b.validateChecksum=b.loadChecksumFile=b.filterAndSortEngagementFields=void 0;var w=c(1),v=c(60),x=c(141),l=c(142),p=c(143),e=c(144),n=c(13),d=c(0),f=c(21),m=c(4),h=c(8),g=c(2),k=c(6),t=c(25),u=c(95);b.filterAndSortEngagementFields=y;b.loadChecksumFile=
function(z,C){z?n.AjaxUtil.getData(z,q(C),null,function(){(0,d.isFunction)(C)&&C(void 0)}):(0,d.isFunction)(C)&&C(void 0)};b.validateChecksum=function(z,C,a){var H=(0,f.getEnvironment)(m.eventTrackData[h.cacheGet](m.productIdParameter)),r=(0,w.getConfig)("skipChecksumForEngagementIds");r=r&&-1!==r.indexOf(z);if(g.logger.debugMode&&H!==k.PROD_ENVIRONMENT||r)return{valid:!0};r=a?a.engagementChecksumMapping:(0,w.getCachedConfig)(v.ENGAGEMENT_CHECKSUM_KEY);H=a?a.engagementFieldMappingEnabled:(0,w.getCachedConfig)(v.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY);
var B=(0,w.getConfig)(v.ENGAGEMENT_CHECKSUM_URL_CONFIG);if(!B&&!a)return{valid:!0};if(!r&&B)return{valid:!1,errorType:"MISSING_CHECKSUM_FOR_ENGAGEMENT",errorMessage:"Engagement checksum is invalid since there is URL configured but no checksum to validated against"};z=r[z];if(!z&&!Array.isArray(z)||(0,d.isEmptyArr)(z))return{valid:!1,errorType:"MISSING_CHECKSUM_FOR_ENGAGEMENT",errorMessage:"Engagement checksum is invalid since there is URL configured but no checksum to validated against, array is empty"};
C=Object.assign({},C);C=y(C,H);C=(0,t.orderAlphabetically)(C);C=(0,t.removeNullFields)(C);a=JSON.stringify(C);a=a.replaceAll(/(\d+)\.0/g,"$1");a=(0,u.sha256)(a);return(H=-1<z.indexOf(a))?{valid:H}:{valid:!1,errorType:"CHECKSUM_MISMATCH",errorMessage:"the engagement checksum is invalid, js checksum:"+a+". engagement checksums: "+JSON.stringify(z)+" the engagement checksum was done on: "+JSON.stringify(C)}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.CUSTOM_BUTTON_PREFIX_END_INDEX=
15;b.URL_REDIRECTION="URL_REDIRECTION";b.NAVIGATION="NAVIGATION";b.NEXT="NEXT";b.END="END";b.GO_TO_STEP="GO_TO_STEP";b.END_GUIDE="END_GUIDE"},function(E,b,c){function y(w,v){var x=w.fromScore,l=w.toScore,p=w.labels.map(function(e){return new q.default(Object.assign({},v,{id:e.id,text:e.text}))});this.render=function(){return p.map(function(e){return e.render()})};this.getSelected=function(){return p.map(function(e){return e.isSelected()?e.getId():null}).filter(function(e){return null!==e})};this.isInRange=
function(e){return x<=e&&l>=e};this.setTabIndexes=function(e){var n=e;return p.forEach(function(d){d.setTabIndex(n);n+=1}),n}}Object.defineProperty(b,"__esModule",{value:!0});var q=(E=c(153))&&E.__esModule?E:{default:E};b.default=function(w,v){var x=null,l=w.map(function(p){return new y(p,v)});v.singleList&&(x=l[0]);this.setTabIndexes=function(p){var e=p;return l.forEach(function(n){e=n.setTabIndexes(e)}),e};this.getLabelElements=function(p){if(v.singleList)return l[0].render();for(var e=0;e<l.length;e++)if(l[e].isInRange(p))return x=
l[e],l[e].render()};this.getSelectedLabels=function(){return x?x.getSelected():[]}}},function(E,b,c){(function(y){function q(G){var J=!1;return function(){J||(J=!0,window.Promise.resolve().then(function(){J=!1;G()}))}}function w(G){var J=!1;return function(){J||(J=!0,setTimeout(function(){J=!1;G()},wa))}}function v(G){var J={};return G&&"[object Function]"===J.toString.call(G)}function x(G,J){if(1!==G.nodeType)return[];G=G.ownerDocument.defaultView.getComputedStyle(G,null);return J?G[J]:G}function l(G){return"HTML"===
G.nodeName?G:G.parentNode||G.host}function p(G){if(!G)return document.body;switch(G.nodeName){case "HTML":return document.documentElement;case "BODY":return G.ownerDocument.body;case "#document":return G.body}var J=x(G);return/(auto|scroll|overlay)/.test(J.overflow+J.overflowY+J.overflowX)?G:p(l(G))}function e(G){return 11===G?ia:10===G?A:ia||A}function n(G){if(!G)return document.documentElement;for(var J=e(10)?document.body:null,R=G.offsetParent||null;R===J&&G.nextElementSibling;)R=(G=G.nextElementSibling).offsetParent;
return(J=R&&R.nodeName)&&"BODY"!==J&&"HTML"!==J?-1!==["TH","TD","TABLE"].indexOf(R.nodeName)&&"static"===x(R,"position")?n(R):R:G?G.ownerDocument.documentElement:document.documentElement}function d(G){return null!==G.parentNode?d(G.parentNode):G}function f(G,J){if(!(G&&G.nodeType&&J&&J.nodeType))return document.documentElement;var R=G.compareDocumentPosition(J)&Node.DOCUMENT_POSITION_FOLLOWING,N=R?G:J;R=R?J:G;var U=document.createRange();U.setStart(N,0);U.setEnd(R,0);U=U.commonAncestorContainer;if(G!==
U&&J!==U||N.contains(R))return G=U.nodeName,"BODY"===G||"HTML"!==G&&n(U.firstElementChild)!==U?n(U):U;N=d(G);return N.host?f(N.host,J):f(G,d(J).host)}function m(G){var J="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",R=G.nodeName;return"BODY"===R||"HTML"===R?(R=G.ownerDocument.documentElement,(G.ownerDocument.scrollingElement||R)[J]):G[J]}function h(G,J){var R=2<arguments.length&&void 0!==arguments[2]&&arguments[2],N=m(J,"top"),U=m(J,"left");R=R?-1:
1;return G.top+=N*R,G.bottom+=N*R,G.left+=U*R,G.right+=U*R,G}function g(G,J){J="x"===J?"Left":"Top";var R="Left"===J?"Right":"Bottom";return parseFloat(G["border"+J+"Width"],10)+parseFloat(G["border"+R+"Width"],10)}function k(G,J,R,N){return Math.max(J["offset"+G],J["scroll"+G],R["client"+G],R["offset"+G],R["scroll"+G],e(10)?parseInt(R["offset"+G])+parseInt(N["margin"+("Height"===G?"Top":"Left")])+parseInt(N["margin"+("Height"===G?"Bottom":"Right")]):0)}function t(G){var J=G.body;G=G.documentElement;
var R=e(10)&&getComputedStyle(G);return{height:k("Height",J,G,R),width:k("Width",J,G,R)}}function u(G){return da({},G,{right:G.left+G.width,bottom:G.top+G.height})}function z(G){var J={};try{if(e(10)){J=G.getBoundingClientRect();var R=m(G,"top"),N=m(G,"left");J.top+=R;J.left+=N;J.bottom+=R;J.right+=N}else J=G.getBoundingClientRect()}catch(U){}J={left:J.left,top:J.top,width:J.right-J.left,height:J.bottom-J.top};N="HTML"===G.nodeName?t(G.ownerDocument):{};R=G.offsetWidth-(N.width||G.clientWidth||J.width);
N=G.offsetHeight-(N.height||G.clientHeight||J.height);if(R||N)G=x(G),R-=g(G,"x"),N-=g(G,"y"),J.width-=R,J.height-=N;return u(J)}function C(G,J){var R=2<arguments.length&&void 0!==arguments[2]&&arguments[2],N=e(10),U="HTML"===J.nodeName,Z=z(G),ta=z(J),ca=p(G),la=x(J),ea=parseFloat(la.borderTopWidth,10),pa=parseFloat(la.borderLeftWidth,10);R&&U&&(ta.top=Math.max(ta.top,0),ta.left=Math.max(ta.left,0));Z=u({top:Z.top-ta.top-ea,left:Z.left-ta.left-pa,width:Z.width,height:Z.height});if(Z.marginTop=0,Z.marginLeft=
0,!N&&U)U=parseFloat(la.marginTop,10),la=parseFloat(la.marginLeft,10),Z.top-=ea-U,Z.bottom-=ea-U,Z.left-=pa-la,Z.right-=pa-la,Z.marginTop=U,Z.marginLeft=la;return(N&&!R?J.contains(ca):J===ca&&"BODY"!==ca.nodeName)&&(Z=h(Z,J)),Z}function a(G){var J=1<arguments.length&&void 0!==arguments[1]&&arguments[1],R=G.ownerDocument.documentElement,N=C(G,R),U=Math.max(R.clientWidth,window.innerWidth||0),Z=Math.max(R.clientHeight,window.innerHeight||0),ta=J?0:m(R);J=J?0:m(R,"left");return u({top:ta-N.top+N.marginTop,
left:J-N.left+N.marginLeft,width:U,height:Z})}function H(G){var J=G.nodeName;if("BODY"===J||"HTML"===J)return!1;if("fixed"===x(G,"position"))return!0;G=l(G);return!!G&&H(G)}function r(G){if(!G||!G.parentElement||e())return document.documentElement;for(G=G.parentElement;G&&"none"===x(G,"transform");)G=G.parentElement;return G||document.documentElement}function B(G,J,R,N){var U=4<arguments.length&&void 0!==arguments[4]&&arguments[4],Z={top:0,left:0},ta=U?r(G):f(G,J&&J.referenceNode?J.referenceNode:
J);if("viewport"===N)Z=a(ta,U);else{var ca=void 0;"scrollParent"===N?(ca=p(l(J)),"BODY"===ca.nodeName&&(ca=G.ownerDocument.documentElement)):ca="window"===N?G.ownerDocument.documentElement:N;U=C(ca,ta,U);"HTML"!==ca.nodeName||H(ta)?Z=U:(ca=t(G.ownerDocument),ta=ca.height,ca=ca.width,Z.top+=U.top-U.marginTop,Z.bottom=ta+U.top,Z.left+=U.left-U.marginLeft,Z.right=ca+U.left)}R=R||0;U="number"==typeof R;return Z.left+=U?R:R.left||0,Z.top+=U?R:R.top||0,Z.right-=U?R:R.right||0,Z.bottom-=U?R:R.bottom||0,
Z}function F(G,J,R,N,U){var Z=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===G.indexOf("auto"))return G;Z=B(R,N,Z,U);var ta={top:{width:Z.width,height:J.top-Z.top},right:{width:Z.right-J.right,height:Z.height},bottom:{width:Z.width,height:Z.bottom-J.bottom},left:{width:J.left-Z.left,height:Z.height}};Z=Object.keys(ta).map(function(la){var ea=ta[la];return da({key:la},ta[la],{area:ea.width*ea.height})}).sort(function(la,ea){return ea.area-la.area});var ca=Z.filter(function(la){var ea=
la.height;return la.width>=R.clientWidth&&ea>=R.clientHeight});Z=0<ca.length?ca[0].key:Z[0].key;ca=G.split("-")[1];return Z+(ca?"-"+ca:"")}function I(G,J,R){var N=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return C(R,N?r(J):f(J,R&&R.referenceNode?R.referenceNode:R),N)}function Q(G){var J=G.ownerDocument.defaultView.getComputedStyle(G),R=parseFloat(J.marginTop||0)+parseFloat(J.marginBottom||0);J=parseFloat(J.marginLeft||0)+parseFloat(J.marginRight||0);return{width:G.offsetWidth+J,
height:G.offsetHeight+R}}function P(G){var J={left:"right",right:"left",bottom:"top",top:"bottom"};return G.replace(/left|right|bottom|top/g,function(R){return J[R]})}function D(G,J,R){R=R.split("-")[0];G=Q(G);var N={width:G.width,height:G.height},U=-1!==["right","left"].indexOf(R),Z=U?"top":"left",ta=U?"left":"top",ca=U?"height":"width";return N[Z]=J[Z]+J[ca]/2-G[ca]/2,N[ta]=R===ta?J[ta]-G[U?"width":"height"]:J[P(ta)],N}function O(G,J){return Array.prototype.find?G.find(J):G.filter(J)[0]}function W(G,
J,R){if(Array.prototype.findIndex)return G.findIndex(function(U){return U[J]===R});var N=O(G,function(U){return U[J]===R});return G.indexOf(N)}function ba(G,J,R){return(void 0===R?G:G.slice(0,W(G,"name",R))).forEach(function(N){N.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var U=N.function||N.fn;N.enabled&&v(U)&&(J.offsets.popper=u(J.offsets.popper),J.offsets.reference=u(J.offsets.reference),J=U(J,N))}),J}function ma(G,J){return G.some(function(R){var N=R.name;
return R.enabled&&N===J})}function sa(G){for(var J=[!1,"ms","Webkit","Moz","O"],R=G.charAt(0).toUpperCase()+G.slice(1),N=0;N<J.length;N++){var U=J[N];U=U?""+U+R:G;if(void 0!==document.body.style[U])return U}return null}function za(G){return(G=G.ownerDocument)?G.defaultView:window}function S(G,J,R,N){var U="BODY"===G.nodeName||"HTML"===G.nodeName;G=U?G.ownerDocument.defaultView:G;G.addEventListener(J,R,{passive:!0});U||S(p(G.parentNode),J,R,N);N.push(G)}function M(G,J){return za(G).removeEventListener("resize",
J.updateBound),J.scrollParents.forEach(function(R){R.removeEventListener("scroll",J.updateBound)}),J.updateBound=null,J.scrollParents=[],J.scrollElement=null,J.eventsEnabled=!1,J}function V(G){return""!==G&&!isNaN(parseFloat(G))&&isFinite(G)}function X(G,J){Object.keys(J).forEach(function(R){var N="";-1!=="width height top right bottom left".split(" ").indexOf(R)&&V(J[R])&&(N="px");G.style[R]=J[R]+N})}function Y(G,J){Object.keys(J).forEach(function(R){!1!==J[R]?G.setAttribute(R,J[R]):G.removeAttribute(R)})}
function qa(G,J){var R=G.offsets,N=R.popper,U=Math.round,Z=Math.floor,ta=function(ea){return ea};R=U(R.reference.width);var ca=U(N.width),la=-1!==["left","right"].indexOf(G.placement);G=-1!==G.placement.indexOf("-");Z=J?la||G||R%2==ca%2?U:Z:ta;U=J?U:ta;return{left:Z(1==R%2&&1==ca%2&&!G&&J?N.left-1:N.left),top:U(N.top),bottom:U(N.bottom),right:Z(N.right)}}function xa(G,J,R){var N=O(G,function(Z){return Z.name===J});G=!!N&&G.some(function(Z){return Z.name===R&&Z.enabled&&Z.order<N.order});if(!G){var U=
"`"+J+"`";console.warn("`"+R+"` modifier is required by "+U+" modifier in order to work, be sure to include it before "+U+"!")}return G}function Ea(G){var J=1<arguments.length&&void 0!==arguments[1]&&arguments[1],R=oa.indexOf(G);R=oa.slice(R+1).concat(oa.slice(0,R));return J?R.reverse():R}function Ha(G,J,R,N){var U=[0,0],Z=-1!==["right","left"].indexOf(N);G=G.split(/(\+|\-)/).map(function(ca){return ca.trim()});N=G.indexOf(O(G,function(ca){return-1!==ca.search(/,|\s/)}));G[N]&&-1===G[N].indexOf(",")&&
console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var ta=/\s*,\s*|\s+/;G=-1!==N?[G.slice(0,N).concat([G[N].split(ta)[0]]),[G[N].split(ta)[1]].concat(G.slice(N+1))]:[G];return G=G.map(function(ca,la){var ea=(1===la?!Z:Z)?"height":"width",pa=!1;return ca.reduce(function(Aa,Ja){return""===Aa[Aa.length-1]&&-1!==["+","-"].indexOf(Ja)?(Aa[Aa.length-1]=Ja,pa=!0,Aa):pa?(Aa[Aa.length-1]+=Ja,pa=!1,Aa):Aa.concat(Ja)},[]).map(function(Aa){var Ja=Aa.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);
var Sa=+Ja[1];Ja=Ja[2];if(Sa)if(0===Ja.indexOf("%")){switch(Ja){case "%p":Aa=J;break;default:Aa=R}Sa*=u(Aa)[ea]/100}else Sa="vh"===Ja||"vw"===Ja?("vh"===Ja?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Sa:Sa;else Sa=Aa;return Sa})}),G.forEach(function(ca,la){ca.forEach(function(ea,pa){V(ea)&&(U[la]+=ea*("-"===ca[pa-1]?-1:1))})}),U}Object.defineProperty(b,"__esModule",{value:!0});var Ba="undefined"!=typeof window&&
"undefined"!=typeof document&&"undefined"!=typeof navigator,wa=function(){for(var G=["Edge","Trident","Firefox"],J=0;J<G.length;J+=1)if(Ba&&0<=navigator.userAgent.indexOf(G[J]))return 1;return 0}(),Fa=Ba&&window.Promise?q:w,ia=Ba&&!(!window.MSInputMethodContext||!document.documentMode),A=Ba&&/MSIE 10/.test(navigator.userAgent),T=function(){function G(J,R){for(var N=0;N<R.length;N++){var U=R[N];U.enumerable=U.enumerable||!1;U.configurable=!0;"value"in U&&(U.writable=!0);Object.defineProperty(J,U.key,
U)}}return function(J,R,N){return R&&G(J.prototype,R),N&&G(J,N),J}}(),K=function(G,J,R){return J in G?Object.defineProperty(G,J,{value:R,enumerable:!0,configurable:!0,writable:!0}):G[J]=R,G},da=Object.assign||function(G){for(var J=1;J<arguments.length;J++){var R=arguments[J],N;for(N in R)Object.prototype.hasOwnProperty.call(R,N)&&(G[N]=R[N])}return G},fa=Ba&&/Firefox/i.test(navigator.userAgent),Ca="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),
oa=Ca.slice(3),na=function(){function G(J,R){var N=this,U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof G))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(N.update)};this.update=Fa(this.update.bind(this));this.options=da({},G.Defaults,U);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=J&&J.jquery?J[0]:J;this.popper=R&&R.jquery?R[0]:R;this.options.modifiers={};Object.keys(da({},
G.Defaults.modifiers,U.modifiers)).forEach(function(ta){N.options.modifiers[ta]=da({},G.Defaults.modifiers[ta]||{},U.modifiers?U.modifiers[ta]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(ta){return da({name:ta},N.options.modifiers[ta])}).sort(function(ta,ca){return ta.order-ca.order});this.modifiers.forEach(function(ta){ta.enabled&&v(ta.onLoad)&&ta.onLoad(N.reference,N.popper,N.options,ta,N.state)});this.update();var Z=this.options.eventsEnabled;Z&&this.enableEventListeners();
this.state.eventsEnabled=Z}return T(G,[{key:"update",value:function(){if(!this.state.isDestroyed){var J={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};J.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed);J.placement=F(this.options.placement,J.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);J.originalPlacement=J.placement;J.positionFixed=this.options.positionFixed;
J.offsets.popper=D(this.popper,J.offsets.reference,J.placement);J.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";J=ba(this.modifiers,J);this.state.isCreated?this.options.onUpdate(J):(this.state.isCreated=!0,this.options.onCreate(J))}}},{key:"destroy",value:function(){return this.state.isDestroyed=!0,ma(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right=
"",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[sa("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var J=this.reference,R=this.state;R.updateBound=this.scheduleUpdate;za(J).addEventListener("resize",R.updateBound,{passive:!0});J=p(J);this.state=(S(J,"scroll",R.updateBound,R.scrollParents),R.scrollElement=J,R.eventsEnabled=
!0,R)}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=M(this.reference,this.state))}}]),G}();na.Utils=("undefined"!=typeof window?window:y).PopperUtils;na.placements=Ca;na.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(G){var J=G.placement,R=J.split("-")[0];if(J=J.split("-")[1]){var N=G.offsets,
U=N.reference;N=N.popper;var Z=-1!==["bottom","top"].indexOf(R);R=Z?"left":"top";Z=Z?"width":"height";U={start:K({},R,U[R]),end:K({},R,U[R]+U[Z]-N[Z])};G.offsets.popper=da({},N,U[J])}return G}},offset:{order:200,enabled:!0,fn:function(G,J){J=J.offset;var R=G.offsets,N=R.popper;R=R.reference;var U=G.placement.split("-")[0],Z=void 0;return Z=V(+J)?[+J,0]:Ha(J,N,R,U),"left"===U?(N.top+=Z[0],N.left-=Z[1]):"right"===U?(N.top+=Z[0],N.left+=Z[1]):"top"===U?(N.left+=Z[0],N.top-=Z[1]):"bottom"===U&&(N.left+=
Z[0],N.top+=Z[1]),G.popper=N,G},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(G,J){var R=J.boundariesElement||n(G.instance.popper);G.instance.reference===R&&(R=n(R));var N=sa("transform"),U=G.instance.popper.style,Z=U.top,ta=U.left,ca=U[N];U.top="";U.left="";U[N]="";var la=B(G.instance.popper,G.instance.reference,J.padding,R,G.positionFixed);U.top=Z;U.left=ta;U[N]=ca;J.boundaries=la;var ea=G.offsets.popper,pa={primary:function(Aa){var Ja=ea[Aa];return ea[Aa]<la[Aa]&&!J.escapeWithReference&&
(Ja=Math.max(ea[Aa],la[Aa])),K({},Aa,Ja)},secondary:function(Aa){var Ja="right"===Aa?"left":"top",Sa=ea[Ja];return ea[Aa]>la[Aa]&&!J.escapeWithReference&&(Sa=Math.min(ea[Ja],la[Aa]-("right"===Aa?ea.width:ea.height))),K({},Ja,Sa)}};return J.priority.forEach(function(Aa){var Ja=-1!==["left","top"].indexOf(Aa)?"primary":"secondary";ea=da({},ea,pa[Ja](Aa))}),G.offsets.popper=ea,G},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(G){var J=
G.offsets,R=J.popper;J=J.reference;var N=G.placement.split("-")[0],U=Math.floor,Z=-1!==["top","bottom"].indexOf(N);N=Z?"right":"bottom";var ta=Z?"left":"top";Z=Z?"width":"height";return R[N]<U(J[ta])&&(G.offsets.popper[ta]=U(J[ta])-R[Z]),R[ta]>U(J[N])&&(G.offsets.popper[ta]=U(J[N])),G}},arrow:{order:500,enabled:!0,fn:function(G,J){var R=void 0;if(!xa(G.instance.modifiers,"arrow","keepTogether"))return G;J=J.element;if("string"==typeof J){if(!(J=G.instance.popper.querySelector(J)))return G}else if(!G.instance.popper.contains(J))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),
G;var N=G.placement.split("-")[0],U=G.offsets,Z=U.popper,ta=U.reference,ca=-1!==["left","right"].indexOf(N);N=ca?"height":"width";var la=ca?"Top":"Left";U=la.toLowerCase();var ea=ca?"left":"top",pa=ca?"bottom":"right";ca=Q(J)[N];ta[pa]-ca<Z[U]&&(G.offsets.popper[U]-=Z[U]-(ta[pa]-ca));ta[U]+ca>Z[pa]&&(G.offsets.popper[U]+=ta[U]+ca-Z[pa]);G.offsets.popper=u(G.offsets.popper);ta=ta[U]+ta[N]/2-ca/2;var Aa=x(G.instance.popper);pa=parseFloat(Aa["margin"+la],10);la=parseFloat(Aa["border"+la+"Width"],10);
la=ta-G.offsets.popper[U]-pa-la;return la=Math.max(Math.min(Z[N]-ca,la),0),G.arrowElement=J,G.offsets.arrow=(R={},K(R,U,Math.round(la)),K(R,ea,""),R),G},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(G,J){if(ma(G.instance.modifiers,"inner")||G.flipped&&G.placement===G.originalPlacement)return G;var R=B(G.instance.popper,G.instance.reference,J.padding,J.boundariesElement,G.positionFixed),N=G.placement.split("-")[0],U=P(N),Z=G.placement.split("-")[1]||"",ta=[];switch(J.behavior){case "flip":ta=
[N,U];break;case "clockwise":ta=Ea(N);break;case "counterclockwise":ta=Ea(N,!0);break;default:ta=J.behavior}return ta.forEach(function(ca,la){if(N!==ca||ta.length===la+1)return G;N=G.placement.split("-")[0];U=P(N);var ea=G.offsets.popper;ca=G.offsets.reference;var pa=Math.floor;ca="left"===N&&pa(ea.right)>pa(ca.left)||"right"===N&&pa(ea.left)<pa(ca.right)||"top"===N&&pa(ea.bottom)>pa(ca.top)||"bottom"===N&&pa(ea.top)<pa(ca.bottom);var Aa=pa(ea.left)<pa(R.left),Ja=pa(ea.right)>pa(R.right),Sa=pa(ea.top)<
pa(R.top);pa=pa(ea.bottom)>pa(R.bottom);ea="left"===N&&Aa||"right"===N&&Ja||"top"===N&&Sa||"bottom"===N&&pa;var Va=-1!==["top","bottom"].indexOf(N),db=!!J.flipVariationsByContent&&(Va&&"start"===Z&&Ja||Va&&"end"===Z&&Aa||!Va&&"start"===Z&&pa||!Va&&"end"===Z&&Sa);Aa=!!J.flipVariations&&(Va&&"start"===Z&&Aa||Va&&"end"===Z&&Ja||!Va&&"start"===Z&&Sa||!Va&&"end"===Z&&pa)||db;(ca||ea||Aa)&&(G.flipped=!0,(ca||ea)&&(N=ta[la+1]),Aa&&(Z="end"===Z?"start":"start"===Z?"end":Z),G.placement=N+(Z?"-"+Z:""),G.offsets.popper=
da({},G.offsets.popper,D(G.instance.popper,G.offsets.reference,G.placement)),G=ba(G.instance.modifiers,G,"flip"))}),G},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(G){var J=G.placement,R=J.split("-")[0],N=G.offsets,U=N.popper;N=N.reference;var Z=-1!==["left","right"].indexOf(R),ta=-1===["top","left"].indexOf(R);return U[Z?"left":"top"]=N[R]-(ta?U[Z?"width":"height"]:0),G.placement=P(J),G.offsets.popper=
u(U),G}},hide:{order:800,enabled:!0,fn:function(G){if(!xa(G.instance.modifiers,"hide","preventOverflow"))return G;var J=G.offsets.reference,R=O(G.instance.modifiers,function(N){return"preventOverflow"===N.name}).boundaries;if(J.bottom<R.top||J.left>R.right||J.top>R.bottom||J.right<R.left){if(!0===G.hide)return G;G.hide=!0;G.attributes["x-out-of-boundaries"]=""}else{if(!1===G.hide)return G;G.hide=!1;G.attributes["x-out-of-boundaries"]=!1}return G}},computeStyle:{order:850,enabled:!0,fn:function(G,
J){var R=J.x,N=J.y,U=G.offsets.popper,Z=O(G.instance.modifiers,function(Aa){return"applyStyle"===Aa.name}).gpuAcceleration;void 0!==Z&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");J=void 0!==Z?Z:J.gpuAcceleration;Z=n(G.instance.popper);var ta=z(Z);U={position:U.position};var ca=qa(G,2>window.devicePixelRatio||!fa);R="bottom"===R?"top":"bottom";N="right"===N?"left":"right";var la=sa("transform"),ea=void 0,
pa=void 0;(pa="bottom"===R?"HTML"===Z.nodeName?-Z.clientHeight+ca.bottom:-ta.height+ca.bottom:ca.top,ea="right"===N?"HTML"===Z.nodeName?-Z.clientWidth+ca.right:-ta.width+ca.right:ca.left,J&&la)?(U[la]="translate3d("+ea+"px, "+pa+"px, 0)",U[R]=0,U[N]=0,U.willChange="transform"):(U[R]=pa*("bottom"===R?-1:1),U[N]=ea*("right"===N?-1:1),U.willChange=R+", "+N);return G.attributes=da({},{"x-placement":G.placement},G.attributes),G.styles=da({},U,G.styles),G.arrowStyles=da({},G.offsets.arrow,G.arrowStyles),
G},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(G){return X(G.instance.popper,G.styles),Y(G.instance.popper,G.attributes),G.arrowElement&&Object.keys(G.arrowStyles).length&&X(G.arrowElement,G.arrowStyles),G},onLoad:function(G,J,R,N,U){N=I(U,J,G,R.positionFixed);G=F(R.placement,N,J,G,R.modifiers.flip.boundariesElement,R.modifiers.flip.padding);return J.setAttribute("x-placement",G),X(J,{position:R.positionFixed?"fixed":"absolute"}),R},gpuAcceleration:void 0}}};
b.default=na}).call(b,c(157))},function(E,b,c){function y(D,O,W,ba){var ma=ba.onDone,sa=ba.onFailed,za=ba.onClick;try{var S=W.positionType;(0,p.findInAll)({matchCssSelector:!0,cssSelector:D,matchTextRule:!1,textRuleOperator:null,textRuleValues:null},null,function(M){if(M&&M.element){var V=!("fixed"===S||"absolute"===S),X=M.element;r=X;!V&&(0,n.isElementVisible)(X)||V?(x(W,O,za),ma&&ma(M)):(w(),sa&&sa())}else sa&&sa()})}catch(M){d.logger.logInternalError(Error("findWidgetContainer - error "+M)),sa&&
sa()}}function q(D){if((0,a.getEventTarget)(D)===r)return D.preventDefault(),D.stopImmediatePropagation(),!1}function w(){I.forEach(function(D){(0,n.removeEventListener)(document,D,q)})}function v(){I.forEach(function(D){(0,n.removeEventListener)(document,D,q);(0,n.addEventListener)(document,D,q)})}function x(D,O,W){var ba="API"===D.fetchKcType,ma=!0===D.isNewAPI,sa=!("fixed"===D.positionType||"absolute"===D.positionType);!ba||ma?(Q=function(za){za=za.kcId;za===D.kcId&&(F=za,l(W,ba,ma),ma?((0,m.runBotCommands)(),
m.botEventEmmiter.removeListener("WIDGET_LOADED")):f.botEventEmmiter.removeListener("WIDGET_LOADED"))},ma?m.botEventEmmiter.addListener("WIDGET_LOADED",Q,O):f.botEventEmmiter.addListener("WIDGET_LOADED",Q,O),F!==D.kcId||sa?F===D.kcId&&sa||w():l(W,ba,ma)):w()}function l(D,O,W){try{(0,n.removeEventListener)(document,"click",B),B=function(ba){try{var ma=(0,a.getEventTarget)(ba);if(ma===r||(0,a.elementContainsChild)(r,ma)){ba.preventDefault();ba.stopImmediatePropagation();var sa=(0,u.isIframe)()?(0,z.getIframeId)():
C.TOP_WINDOW_ID;e.internalEventListener.dispatchEvent(t.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,sa);D()}else{try{var za=-1<["TUUD4GR54UIT","FR6WJFXU3UWQ"].indexOf((0,h.getProduct)(g.eventTrackData[k.cacheGet](g.productIdParameter)))}catch(S){za=(d.logger.log("isTrimble "+S),!1)}za&&e.internalEventListener.dispatchEvent(t.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE)}return!1}catch(S){d.logger.log("Embedded bot click event "+S)}},O&&!W||(v(),(0,n.addEventListener)(document,"click",B))}catch(ba){d.logger.logInternalError(Error("addClickListenerToMappedElement - error "+
ba))}}Object.defineProperty(b,"__esModule",{value:!0});b.findWidgetContainer=y;b.removeEmbeddedListeners=w;b.injectWidgetToTargetElement=function(D,O,W,ba){var ma=ba.onDone,sa=ba.onFound,za=ba.onClick;ba=ba.onFailed;try{"string"!=typeof D&&d.logger.logInternalError(Error("injectWidgetToTargetElement - cssSelector should be a string "+D)),W.isNewAPI?m.botEventEmmiter.removeListener("WIDGET_FAILED"):f.botEventEmmiter.removeListener("WIDGET_FAILED"),P=function(S){S.kcId===W.kcId&&(F="",w())},W.isNewAPI?
m.botEventEmmiter.addListener("WIDGET_FAILED",P,O):f.botEventEmmiter.addListener("WIDGET_FAILED",P,O),y(D,O,W,{onClick:za,onDone:function(S){sa&&sa(S);var M={onDone:ma};try{var V=M.onDone,X=M.onFound,Y=(M.onClick,M.onFailed,W.positionType);M=!("fixed"===Y||"absolute"===Y);var qa=S.element;X&&X(S);var xa=document.querySelector("#apt-widget");if(xa&&V){xa.classList.remove("apt-hidden");xa.style.position=M?"relative":"absolute";xa.style.width="0px";xa.style.height="0px";xa.style.left="0px";xa.style.top=
"0px";var Ea=W.zIndex;if(xa.style.zIndex="number"!=typeof Ea?H:Ea,M){if(M){var Ha=qa.tagName.toLowerCase();/br|input|img|select|textarea/.test(Ha)?xa.parentNode===qa.parentNode||qa.parentNode.appendChild(xa):qa!==xa.parentNode&&qa.appendChild(xa)}}else xa.parentNode!==(0,u.getBody)()&&(0,u.getBody)().appendChild(xa);V&&V(S)}}catch(Ba){d.logger.logInternalError(Error("injectWidget - "+Ba))}},onFailed:ba})}catch(S){d.logger.logInternalError(Error("injectWidgetToTargetElement - error "+S))}};b.addClickListenerToMappedElement=
l;var p=c(20),e=c(11),n=c(0),d=c(2),f=c(96),m=c(35),h=c(21),g=c(4),k=c(8),t=c(24),u=c(1),z=c(12),C=c(55),a=c(18),H="99998",r=null,B=null,F="",I=["dblclick","mousedown","mouseover"],Q=void 0,P=void 0},function(E,b,c){function y(z,C){if((0,l.isBlank)(z)||!C)return!0;var a=(0,n.getEnvironment)(d.eventTrackData[f.cacheGet](d.productIdParameter));if(x.logger.debugMode&&a!==m.PROD_ENVIRONMENT)return!0;a=(0,w.getCachedConfig)(v.BOT_CHECKSUM_KEY);var H=(0,w.getConfig)(v.ENGAGEMENT_CHECKSUM_URL_CONFIG);if(!H)return!0;
if(!a&&H)return x.logger.logInternalError(Error("the bot checksum is invalid since there is URL configured but no checksum to validated against")),!1;z=a[z];if(!z&&!Array.isArray(z)||(0,l.isEmptyArr)(z))return x.logger.logInternalError(Error("the bot checksum is invalid since there is URL configured but no checksum to validated against, array is empty")),!1;C=(0,p.orderAlphabetically)(C);a=(0,e.sha256)(JSON.stringify(C));H=-1<z.indexOf(a);return H||(x.logger.logInternalError(Error("the bot checksum is invalid, js checksum: "+
a+". engagement checksums:\n         "+JSON.stringify(z))),x.logger.logInternalError(Error("the bot checksum was done on: "+JSON.stringify(C)))),H}function q(z,C,a){for(var H=0;H<a.length;H++)if(!0===y(z,a[H](C)))return!0;return!1}Object.defineProperty(b,"__esModule",{value:!0});b.validateContentChecksum=b.validateConfigChecksum=void 0;var w=c(1),v=c(60),x=c(2),l=c(0),p=c(25),e=c(95),n=c(21),d=c(4),f=c(8),m=c(6),h=c(161);E=c(159);var g=E.filterKcConfigV1,k=E.filterKcContentV1;c=c(160);var t=c.filterKcConfigV2,
u=c.filterKcContentV2;b.validateConfigChecksum=function(z,C){var a=(0,w.getCachedConfig)(v.CHECKSUM_VERSION),H=void 0;return H=void 0===a||2>=a?[t,g]:3===a?[h.filterKcConfigV3]:[t,g],q(z,C,H)};b.validateContentChecksum=function(z,C){var a=(0,w.getCachedConfig)(v.CHECKSUM_VERSION),H=void 0;return H=void 0===a||2>=a?[u,k]:3===a?[h.filterKcContentV3]:[u,k],q(z,C,H)}},function(E,b,c){function y(v,x){var l=w[v.type];return l.matchRules(v.rules,v.operator,x[l.getAttribute()])}Object.defineProperty(b,"__esModule",
{value:!0});b.matchMultiTypeRules=void 0;E=(E=c(163))&&E.__esModule?E:{default:E};var q=c(0),w={URL:E.default};b.matchMultiTypeRules=function(v,x){var l=v.rules;return!!(0,q.isEmptyArr)(l)||("all"===v.operator?l.every(function(p){return y(p,x)}):l.some(function(p){return y(p,x)}))}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.eventCache=void 0;E=c(8);b.eventCache=new E.LocalCache},function(E,b,c){function y(f){return f&&f.__esModule?f:{default:f}}function q(f){if(Array.isArray(f)){for(var m=
0,h=Array(f.length);m<f.length;m++)h[m]=f[m];return h}return Array.from(f)}Object.defineProperty(b,"__esModule",{value:!0});E=c(164);var w=y(E);E=c(165);var v=y(E),x=c(100);E=c(166);var l=y(E),p=c(6),e=c(2),n=c(15);c=c(43);var d=y(c);c=function(f){function m(H){var r=H.compiledRules,B=H.mappedElementId,F=!1,I=!1;return(H.scopeRules||[]).forEach(function(){var Q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Q.urlScope){var P=(0,x.compileUrlRule)(Q.urlScope,Q.urlCondition);r.push(P);
if(P.cond===p.URL_CONDITION_IS)if(F=!0,Q={regex:P.regex,suffix:P.suffix,mappedElementId:B},P.prefix&&P.prefix.length){var D="/"===P.prefix.charAt(P.prefix.length-1);if(k.insert(P.prefix,Q),D)P=P.prefix.substring(0,P.prefix.length-1),0<P.length&&k.insert(P,Q)}else t.push(Q);else I=!0}}),{hasPositive:F,hasNegative:I}}function h(H){(H.allMappedElements||[]).forEach(function(r,B){var F=H.featureId,I=r||{};B=I.id||F+"::"+B;r=I.urlLogicalOperator===p.URL_SCOPES_CONDITION_OR||!I.urlLogicalOperator;var Q=
[],P=m({compiledRules:Q,scopeRules:I.scopeRules||[],mappedElementId:B});I=P.hasPositive;P=P.hasNegative;r=(u[B]={featureId:F,isOr:r,rules:Q},{isOr:r,hasPositive:I,hasNegative:P});F=r.hasPositive;(r=r.hasNegative)&&z.push(B);!F&&r&&C.push(B)})}var g=new w.default((f||{}).cacheCapacity),k=new v.default,t=[],u={},z=[],C=[],a={};return{buildFeatureTree:function(){var H=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];try{g=new w.default(g.capacity),k=new v.default,t=[],u={},z=[],C=[],a={},H.forEach(function(r){r&&
r.featureId&&(a[r.featureId]=r,h(r))}),d.default.syncTrackingPropertiesMetaData()}catch(r){e.logger.log("Build feature tree error: "+r)}},getFeaturesForUrl:function(H){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"pageview";try{var B=(0,x.normalizeUrlToKey)(H),F=(0,x.getCacheKey)(B,r),I=g.get(F);if(void 0!==I)return I;var Q=[].concat(q(k.collectByPrefix(B)),q(t)),P=(0,l.default)(Q,B),D=new Set([].concat(q(P),q(z))),O=(0,x.buildMatchedFeaturesMap)({mappedElementsToEvaluate:D,urlKey:B,
positiveMappedElementHits:P,mappedElementRulesById:u}),W=(0,x.splitFeaturesByType)(O,a),ba=W.pageViewFeatures,ma=W.clickEventFeatures;return g.set((0,x.getCacheKey)(B,"pageview"),ba),g.set((0,x.getCacheKey)(B,"click"),ma),(0,n.isPageViewEvent)(r)?ba:ma}catch(sa){return e.logger.log("Get features for url error: "+sa),[]}},getFeaturesMetadata:function(H){return H.map(function(r){return a[r]}).filter(Boolean)}}}({cacheCapacity:1E4});b.default=c},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});
b.matchExpression=function(q,w,v){switch(w){case "is":q=q===v;break;case "isNot":q=q!==v;break;case "isEmpty":q=(0,y.isBlank)(q);break;case "isNotEmpty":q=!(0,y.isBlank)(q);break;case "startsWith":q=0===q.indexOf(v);break;case "notStartsWith":v=q.indexOf(v);q=(0,y.isBlank)(q)||0>v||0<v;break;case "endsWith":q=q.indexOf(v)===q.length-v.length;break;case "contains":q=-1<q.indexOf(v);break;case "notEndsWith":w=q.indexOf(v);q=(0,y.isBlank)(q)||0>w||w+v.length<q.length;break;case "notContains":q=(0,y.isBlank)(q)||
0>q.indexOf(v);break;default:throw Error("unsupported operator type "+w);}return q};var y=c(0)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.LocalStorageCookie=void 0;var y=function(){function w(v,x){for(var l=0;l<x.length;l++){var p=x[l];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(v,p.key,p)}}return function(v,x,l){return x&&w(v.prototype,x),l&&w(v,l),v}}(),q=c(10);b.LocalStorageCookie=function(){function w(){if(!(this instanceof
w))throw new TypeError("Cannot call a class as a function");}return y(w,null,[{key:"setCookie",value:function(v,x,l){var p=void 0;l&&(p=Date.now()+l);x={value:encodeURIComponent(x),expires:p};localStorage.setItem(v,(0,q.jsonStringify)(x))}},{key:"getCookie",value:function(v){var x=localStorage.getItem(v);if(!x)return null;x=JSON.parse(x);return x.expires&&Date.now()>x.expires?(localStorage.removeItem(v),null):decodeURIComponent(x.value)}},{key:"getAllCookieVal",value:function(v){return(v=w.getCookie(v))?
[v]:null}},{key:"deleteCookie",value:function(v){localStorage.removeItem(v)}},{key:"getCookiesRaw",value:function(){return""}}]),w}()},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.NativeCookie=void 0;var y=function(){function p(e,n){for(var d=0;d<n.length;d++){var f=n[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(e,f.key,f)}}return function(e,n,d){return n&&p(e.prototype,n),d&&p(e,d),e}}(),q=c(4),w=c(1),v=c(9),x=encodeURIComponent,
l=decodeURIComponent;b.NativeCookie=function(){function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");}return y(p,null,[{key:"setCookie",value:function(e,n,d,f,m){if(!(0,w.isIframe)()){var h=void 0;f=f||((0,w.getConfig)("fullDomainCookie")?window.location.hostname:(0,v.getDomain)());if(d){var g=Date.now();h=new Date;h.setTime(g+d)}m||(d=(0,w.getConfig)("fullDomainCookie")?(0,v.getDomain)():window.location.hostname,this.deleteCookie(e,d));q.documentRef.cookie=
e+"\x3d"+x(n)+(h?"; expires\x3d"+h.toUTCString():"")+"; path\x3d/"+(f&&0<f.trim().length?"; domain\x3d"+f:"")+(0,v.getSameSiteCookieSuffix)()}}},{key:"getCookieValues",value:function(e){for(var n=q.documentRef.cookie.split(";"),d,f=[],m=0;m<n.length;m++)d=n[m],d=d.trim(),d=d.split("\x3d"),2===d.length&&d[0]===e&&f.push(d[1]);return f}},{key:"getCookie",value:function(e,n){var d=p.getCookieValues(e);return 0<d.length&&n&&d.every(function(f){return f===d[0]})?l(d[0].trim()):1===d.length?l(d[0].trim()):
null}},{key:"getAllCookieVal",value:function(e){e=p.getCookieValues(e);if(0<e.length)for(var n=0;n<e.length;n++)e[n]=l(e[n].trim());return 0<e.length?e:null}},{key:"deleteCookie",value:function(e,n){p.setCookie(e,null,-1,n,!0)}},{key:"getCookiesRaw",value:function(){return q.documentRef.cookie}}]),p}()},,,function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.MAPPER_NAMESPACE="mapper";b.RESOLVED_CLICK_PROPERTY_RESPONSE="resolvedClickPropertyResponse";b.IFRAME_TO_MASTER_MESSAGES={GET_MAPPER_STATE:"getMapperState",
KEYBOARD_MAPPING_TOGGLED:"keyboardMappingToggled"};b.MASTER_TO_IFRAME_MESSAGES={SET_MAPPER_STATE:"setMapperState",MAPPER_STATE_RESPONSE:"mapperStateResponse"}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL="PRODUCT_MAPPER_V2_HIGHLIGHT_ALL";b.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE="PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE";b.PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED="PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED";b.PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED=
"PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED";b.PRODUCT_MAPPER_V2_RESOLVE_CLICK_PROPERTY="PRODUCT_MAPPER_V2_RESOLVE_CLICK_PROPERTY";b.INTERNAL_IFRAME_EVENTS={HIGHLIGHT_ALL:"PRODUCT_MAPPER_V2_HIGHLIGHT_ALL",HIGHLIGHT_ALL_FOR_FEATURE:"PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE",REMOVE_ALL_HIGHLIGHTED:"PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED",REMOVE_HIGHLIGHTED:"PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED"};b.INTERNAL_MASTER_EVENTS={POST_ICON_CLICKED:"PRODUCT_MAPPER_V2_POST_ICON_CLICKED",KEYBOARD_MAPPING_TOGGLED:"PRODUCT_MAPPER_V2_KEYBOARD_MAPPING_TOGGLED"}},
function(E,b,c){function y(Ba){return Ba&&Ba.__esModule?Ba:{default:Ba}}function q(Ba,wa,Fa){return wa in Ba?Object.defineProperty(Ba,wa,{value:Fa,enumerable:!0,configurable:!0,writable:!0}):Ba[wa]=Fa,Ba}function w(Ba){(0,l.removeFromQueryParam)(Ea);var wa=(0,l.removeFromQueryParam)(Ha);(0,S.canUseSessionStorageForRedirect)()&&Ba&&S.GuideQueryParms.clear();wa!==n.windowRef.location.href&&history.replaceState("",document.title,wa)}function v(Ba){var wa=Ba.querySelector(".apt-guide-content-wrapper");
(Ba=Ba.querySelector((0,B.getSelectorByVersion)(document,"apt-step-footer")))?(Ba=Ba.getBoundingClientRect(),wa.style.maxHeight="calc(90vh - "+Ba.height+"px)"):wa.style.maxHeight="90vh";wa.style.overflowY="auto"}Object.defineProperty(b,"__esModule",{value:!0});b.getSelectorByVersion=b.GuideDrawerIframe=void 0;var x=function(){return function(Ba,wa){if(Array.isArray(Ba))return Ba;if(Symbol.iterator in Object(Ba)){var Fa=[],ia=!0,A=!1,T=void 0;try{for(var K,da=Ba[Symbol.iterator]();!(ia=(K=da.next()).done)&&
(Fa.push(K.value),!wa||Fa.length!==wa);ia=!0);}catch(fa){A=!0,T=fa}finally{try{!ia&&da.return&&da.return()}finally{if(A)throw T;}}return Fa}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),l=c(0);E=c(38);var p=y(E),e=c(13),n=c(4),d=c(8),f=c(2),m=c(9),h=c(110),g=c(11),k=c(5),t=c(20),u=y(t);E=c(16);var z=y(E),C=c(7),a=c(32);E=c(101);var H=y(E),r=c(1),B=c(148),F=y(B),I=c(146),Q=c(62);E=c(86);var P=y(E),D=c(17),O=c(6),W=c(149),ba=c(18),ma=c(23),sa=c(19),za=c(120),S=c(41),
M=c(147),V=c(31),X=c(105),Y=c(37);Y.defaultOptions.className="vex-theme-os";Y.defaultOptions.closeAllOnPopState=!1;var qa=O.TAB_INDEX_START,xa=void 0,Ea="aptGuideId",Ha="aptActivationType";c=new function(){this.getElementBoundingRect=function(Ba){try{var wa=(0,C.findElementInWindow)(Ba,document),Fa=wa.getBoundingClientRect(),ia=(0,l.isElementVisible)(wa,!0);return{top:Fa.top,right:Fa.right,bottom:Fa.bottom,left:Fa.left,width:Fa.width,height:Fa.height,x:Fa.x,y:Fa.y,isVisible:ia}}catch(A){return f.logger.logInternalError(A),
null}}};b.default=function(Ba,wa,Fa,ia){function A(){return!(0,r.getConfig)("tooltipDynamicReposition")&&rb}function T(){return Tb||(0,r.getBody)()}function K(L){-1!==[Fb,Gb,Hb,Ib].indexOf(L.target)&&L.stopImmediatePropagation()}function da(){["click","mousedown","mouseup","touchstart"].forEach(function(L){(0,l.addEventListener)(n.documentRef,L,K)})}function fa(){["click","mousedown","mouseup","touchstart"].forEach(function(L){(0,l.removeEventListener)(n.documentRef,L,K)})}function Ca(){var L=n.eventTrackData[d.cacheGetAll](),
aa=JSON.parse((0,V.getGuideStateValue)("apt.localCache"));return(0,r.getConfig)("crossProductEngagement")&&aa&&(L=aa),L}function oa(L){var aa=r.trackMultiStepEndpoint;if(rb&&!0!==H.default.wasCompletedTracked(eb.executionId)){2===L&&H.default.markCompletedTracked(eb.executionId);var ha=[];ha=(0,l.addParameters)(Ca(),ha);(0,l.addParameters)({ei:eb.engagementId||null,ecoi:eb.contentId||null,ems:L||null,evi:eb.matchEventId||null,ent:2,acci:eb.accountId,exi:eb.executionId,ext:eb.executionTimestamp,cl:eb.contentLocale,
at:eb.activationType||"a"},ha);Dc&&"kc"===eb.activationType&&(0,l.addParameters)(Dc,ha);(L=(0,ma.getGlobalContext)())&&(0,l.addParameters)({gcx:JSON.stringify(L)},ha);ha=(0,l.addParameters)((0,sa.getWebContext)(),ha);aa+="?"+(0,l.convert2Parameters)(ha);e.AjaxUtil.getData(aa)}}function na(){rb&&H.default.wasCompletedTracked(eb.executionId)&&(0,X.trackEngagementCompletedClosed)({engagementId:eb.engagementId})}function G(){na()}function J(L,aa){if(rb&&!H.default.wasStepTracked(eb.executionId,L)){H.default.markStepTracked(eb.executionId,
L);(0,r.getConfig)("clientSideEngagementTracking")&&0===aa&&oa(1);var ha=r.trackStepEndpoint,ua=[];ua=(0,l.addParameters)(Ca(),ua);(0,l.addParameters)({ei:eb.engagementId,ecoi:eb.contentId,cosi:L,evi:eb.matchEventId,cossn:aa,ent:2,acci:eb.accountId,exi:eb.executionId,ext:eb.executionTimestamp,cl:eb.contentLocale,at:eb.activationType||"a"},ua);(L=(0,ma.getGlobalContext)())&&(0,l.addParameters)({gcx:JSON.stringify(L)},ua);ua=(0,l.addParameters)((0,sa.getWebContext)(),ua);ha+="?"+(0,l.convert2Parameters)(ua);
e.AjaxUtil.getData(ha);ha=(0,D.toExternalEventGuide)(eb,"Viewed Step");ha.stepNumber=aa+1;g.internalEventListener.dispatchEvent("engagementViewedStep",ha)}}function R(L){return-1<["TOOLTIP","HOTSPOT"].indexOf(L.type)&&L.elementSelector||"DIALOG"===L.type&&("BAR"===L.dialogViewType&&L.barPosition||L.positionHorizontal&&L.positionVertical)}function N(L){Object.keys(Qa).forEach(function(aa){var ha=Qa[aa];(0,l.removeEventListener)(ha.element,ha.event,ha.handler);delete Qa[aa]})}function U(L){N();L&&L.isDom&&
Vb&&L&&L.isDom&&((0,S.removeClickListener)(L.element,Vb),(0,l.removeEventListener)(L.element,"contextmenu",Vb),(0,l.removeEventListener)(L.element,"mouseenter",Vb),ib(L),zc&&(0,l.removeEventListener)(L.element,"keydown",zc));!(0,r.isIframe)()&&L&&!L.isDom&&L.iframeSource&&u.default.removeElementHandlers(L.iframeSource);W.hotspotEventHandler.removeListener()}function Z(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;L||=T().querySelector(".apt-hotspot-element");L&&L.parentNode&&
T().removeChild(L)}function ta(){gb[0]&&gb.pop().close();U();Z();ub&&ub()}function ca(L,aa){db(L.elementSelector,L.type,function(ha,ua){if((0,S.isMappedStepType)(ua)&&null===ha)return void(L.skippable?(0,S.hasGuideBranching)(L)?Ja(aa):ea(aa):(ac(),ub&&ub(L.elementSelector)));Da(ha,eb.footer,L.content,eb,L)},void 0,L.autoScroll,L.searchTimeout,L.skippable)}function la(L,aa){try{aa&&0<aa||(0,S.isMappedStepType)(L.type)?setTimeout(function(){ca(L,aa)},aa||0):Da(null,eb.footer,L.content,eb,L)}catch(ha){throw hb(),
Pa(),ha;}}function ea(L){var aa=vb;sb=vb=Cb;Z();fc=!1;0<gb.length&&gb.pop().close();fc=!0;U();for(var ha=Wa[sb];sb<Wa.length&&!R(ha);)ha=Wa[++sb];if(void 0===ha)return gb[0]&&gb.pop().close(),U(),Z(),void(ub&&ub());Cb=sb+1;for(var ua=Wa[Cb];Cb<Wa.length&&!R(ua);)ua=Wa[++Cb];try{L&&0<L?setTimeout(function(){db(ha.elementSelector,ha.type,function(ka,Oa){"TOOLTIP"!==Oa&&"HOTSPOT"!==Oa||null!==ka?Da(ka,eb.footer,ha.content,eb,ha):ha.skippable?(0,S.hasGuideBranching)(ha)?(vb=aa,Ja(L)):ea(L):(ac(),ub&&
ub(ha.elementSelector))},void 0,ha.autoScroll,ha.searchTimeout,ha.skippable)},L):-1<["TOOLTIP","HOTSPOT"].indexOf(ha.type)?setTimeout(function(){db(ha.elementSelector,ha.type,function(ka,Oa){-1<["TOOLTIP","HOTSPOT"].indexOf(Oa)&&null===ka?ha.skippable?(0,S.hasGuideBranching)(ha)?(vb=aa,Ja(L)):ea(L):(ac(),ub&&ub(ha.elementSelector)):Da(ka,eb.footer,ha.content,eb,ha)},void 0,ha.autoScroll,ha.searchTimeout,ha.skippable)},0):Da(null,eb.footer,ha.content,eb,ha)}catch(ka){throw hb(),Pa(),ka;}}function pa(L){var aa=
L.timeout,ha=L.nextStepId;L=L.wasSkippedBefore;Z();fc=!1;0<gb.length&&gb.pop().close();fc=!0;U();L||(vb=sb);Cb=Wa.findIndex(function(ka){return ka.id===ha});L=(0,S.getLinkedStepFromIndex)(Wa,Cb);var ua=L.step;if(sb=L.index,void 0===ua)return void ta();Cb=sb+1;Cb=(0,S.getLinkedStepFromIndex)(Wa,Cb).index;la(ua,aa)}function Aa(L){var aa=JSON.parse((0,V.getGuideStateValue)("apt.prevStepMap"));aa||={};aa[Wa[sb].id]={id:Wa[vb].id,url:n.windowRef.location.href};(0,V.setGuideStateValue)("apt.prevStepMap",
JSON.stringify(aa));if(L){L=Wa[sb];aa=Wa[vb];var ha=JSON.parse((0,V.getGuideStateValue)("apt.prevStepMapBranching"));ha||={};ha[L.id]={id:aa.id,url:n.windowRef.location.href};(0,V.setGuideStateValue)("apt.prevStepMapBranching",JSON.stringify(ha))}}function Ja(L){var aa=(0,S.getBranchingSkipToStepId)(Wa,sb);aa?(pa({timeout:L,nextStepId:aa,wasSkippedBefore:!0}),Aa(!0)):ea(L)}function Sa(L){if((0,S.hasGuideBranching)(Wa[sb])){var aa=(0,S.getNextStepForNavigation)(Wa,sb,Cb);aa&&(pa({timeout:L,nextStepId:aa}),
Aa(!0))}else ea(L)}function Va(L,aa){try{var ha=eb.engagementId,ua=L?L.cssSelector:"MISSING";L=ha+"_"+ua;nb[L]||(nb[L]=!0,f.logger.logInternalMessage({entityId:ha,errorType:"ENGAGEMENT_MISSING_ELEMENT",engagementErrorData:{mappedElementId:ua,engagementId:ha,engagementType:"IN_APP_GUIDE",stepId:Wa[sb]&&Wa[sb].id||""},flowType:"ENGAGEMENT",exceptionDetails:"element is not found after: "+aa,aptrinsicId:n.eventTrackData.data[n.aptrinsicIdParam]||null,sessionId:n.eventTrackData.data[n.sessionIdParam]||
null}))}catch(ka){f.logger.log("error sending element not found log.\n"+ka.message),Pa()}}function db(L,aa,ha,ua,ka,Oa,$a){var cb=0<Oa?Oa:Ub;if(-1===["TOOLTIP","HOTSPOT"].indexOf(aa))return void ha(null,aa);var ob=(new Date).getTime(),pb=void 0;(0,t.findInAll)(L,(0,k.getRegisteredIframes)(),function(mb){ua=ua||ob;var yb=ob-ua;if(yb>cb)return rb&&!$a&&Va(L,yb),void ha(null,aa);if(mb||setTimeout(function(){db(L,aa,ha,ua,ka,Oa,$a)},500),mb&&mb.element){if(pb=mb.element,(0,l.isElementVisible)(pb,!1,null)&&
yb<=cb)return void ha({isDom:!0,element:pb,isVisible:mb.isVisible},aa);setTimeout(function(){db(L,aa,ha,ua,ka,Oa,$a)},500)}else mb&&mb.iframeData&&setTimeout(function(){u.default.getElementLocation(mb.iframeData,L,function(wb){ha({isDom:!1,elementRect:wb[0],iframeSource:mb.iframeData,isVisible:mb.isVisible,iframeOrigin:k.IframeData.iframeOrigin},aa)})},ka?800:0)},!1,!1,ka)}function Pa(){try{Ac&&clearInterval(Ac)}catch(L){}}function hb(){Fb&&(Fb.style.display="none",Fb.style.visibility="hidden");Gb&&
(Gb.style.display="none",Gb.style.visibility="hidden");Hb&&(Hb.style.display="none",Hb.style.visibility="hidden");Ib&&(Ib.style.display="none",Ib.style.visibility="hidden")}function Ya(L,aa){sb=Wa.findIndex(function(ua){return ua.id===aa});L&&(vb=Wa.findIndex(function(ua){return ua.id===L}));Cb=vb+1;sb=(0,S.getPrevLinkedStepFromIndex)(Wa,vb).index;var ha=Wa[sb];db(ha.elementSelector,ha.type,function(ua){if(null===ua&&"DIALOG"!==ha.type)return void Ya(L,aa);var ka=(0,V.getGuideStateValue)("apt.prevStepMapBranching");
ka=JSON.parse(ka);delete ka[aa];(0,V.setGuideStateValue)("apt.prevStepMapBranching",JSON.stringify(ka));try{Da(ua,eb.footer,ha.content,eb,ha)}catch(Oa){throw hb(),Pa(),Oa;}},void 0,ha.autoScroll,ha.searchTimeout,ha.skippable)}function qb(){var L=(0,V.getGuideStateValue)("apt.prevStepMapBranching");L=JSON.parse(L);var aa=Wa[sb].id;(L=(L=L&&L[aa])?L.id:"")?Ya(L,Wa[sb].id):jb()}function jb(){Cb=sb;for(var L=Wa[--sb];!R(L);)L=Wa[--sb];vb=sb-1;for(var aa=Wa[vb];-1<vb&&!R(aa);)aa=Wa[--vb];db(L.elementSelector,
L.type,function(ha){if(null===ha&&"DIALOG"!==L.type)return void qb();try{Da(ha,eb.footer,L.content,eb,L)}catch(ua){throw hb(),Pa(),ua;}},void 0,L.autoScroll,L.searchTimeout,L.skippable)}function va(L,aa,ha){aa.classList.contains("apt-guide-arrow-bottom")&&aa.classList.remove("apt-guide-arrow-bottom");aa.classList.contains("apt-guide-arrow-top")&&aa.classList.remove("apt-guide-arrow-top");aa.classList.contains("apt-guide-arrow-right")&&aa.classList.remove("apt-guide-arrow-right");aa.classList.contains("apt-guide-arrow-left")&&
aa.classList.remove("apt-guide-arrow-left");aa.classList.remove("apt-guide-arrow-top-left");aa.classList.remove("apt-guide-arrow-top-right");aa.classList.remove("apt-guide-arrow-bottom-right");aa.classList.remove("apt-guide-arrow-bottom-left");aa.classList.remove("apt-guide-arrow-top-center");aa.classList.remove("apt-guide-arrow-center");if((0,l.isNotEmptyArr)(L)){var ua="",ka="",Oa="";"top"===L[1]?(ua="apt-guide-arrow-bottom",ha&&(ka=ha+" transparent transparent transparent"),"right"===L[0]?(aa.style.borderBottomLeftRadius=
"0",Oa="apt-guide-arrow-bottom-left"):"left"===L[0]?(aa.style.borderBottomRightRadius="0",Oa="apt-guide-arrow-bottom-right"):Oa="apt-guide-arrow-center"):"bottom"===L[1]?(ua="apt-guide-arrow-top",ha&&(ka="transparent transparent "+ha+" transparent"),"right"===L[0]?(aa.style.borderTopLeftRadius="0",Oa="apt-guide-arrow-top-left"):"left"===L[0]?(aa.style.borderTopRightRadius="0",Oa="apt-guide-arrow-top-right"):Oa="apt-guide-arrow-center"):"left"===L[0]?(ua="apt-guide-arrow-right",ha&&(ka="transparent transparent transparent "+
ha)):(ua="apt-guide-arrow-left",ha&&(ka="transparent "+ha+" transparent transparent"));aa.classList.add(ua);""!==Oa&&aa.classList.add(Oa);""!==ka&&(L="."+ua+"::after{border-color:"+ka+";}",aa=document.getElementById("apt-guide-arrow-style"),null===aa?aa=(0,l.createStyle)(L,"apt-guide-arrow-style"):aa.styleSheet?aa.styleSheet.cssText=L:(aa.innerHTML="",aa.appendChild(document.createTextNode(L))),T().appendChild(aa))}}function Ga(L,aa,ha,ua,ka,Oa,$a){ua||=0;var cb=(0,m.detectIE)(),ob=cb&&79>cb,pb=L.isDom?
L.element.getBoundingClientRect():L.elementRect,mb=(0,m.getPageWidth)(),yb=(0,m.getPageHeight)();L=ob?Math.floor(pb.height):pb.height;cb=ob?Math.floor(pb.width):pb.width;var wb=ob?Math.floor(pb.left):pb.left,Mb=ob?Math.floor(pb.top):pb.top,Kb=ob?Math.ceil(pb.bottom):pb.bottom;ob=ob?Math.ceil(pb.right):pb.right;pb=0<=wb-ua?wb-ua:0;Fb.style.left=pb+"px";Fb.style.top="0px";Fb.style.height=(0===Mb?0:0<Mb-ua?Mb-ua:0)+"px";aa&&(Fb.style.background=(0,l.hexToRgba)(aa,ha?ha/100:0));Gb.style.top=Mb+ua+L+"px";
Gb.style.height=(0===Kb?0:yb-parseInt(Gb.style.top))+"px";aa&&(Gb.style.background=(0,l.hexToRgba)(aa,ha?ha/100:0));Hb.style.left="0px";Hb.style.top="0px";Hb.style.height=yb+"px";Kb=0===wb?0:pb;Hb.style.width=Kb+"px";aa&&(Hb.style.background=(0,l.hexToRgba)(aa,ha?ha/100:0));pb=wb+cb+ua;if(Ib.style.left=pb+"px",Ib.style.top="0px",Ib.style.height=yb+"px",Ib.style.width=(0===ob?0:mb-pb)+"px",aa&&(Ib.style.background=(0,l.hexToRgba)(aa,ha?ha/100:0)),Fb.style.width=pb-Kb+"px",Gb.style.width=pb-Kb+"px",
Fb.style.left=Kb+"px",Gb.style.left=Kb+"px",Fb.style.display="block",Fb.style.visibility="visible",Gb.style.display="block",Gb.style.visibility="visible",Hb.style.display="block",Hb.style.visibility="visible",Ib.style.display="block",Ib.style.visibility="visible",0<$a?(Fb.style.setProperty("z-index",$a),Gb.style.setProperty("z-index",$a),Hb.style.setProperty("z-index",$a),Ib.style.setProperty("z-index",$a)):(Fb.style.removeProperty("z-index"),Gb.style.removeProperty("z-index"),Hb.style.removeProperty("z-index"),
Ib.style.removeProperty("z-index")),Oa)aa=(0,l.createElement)("div","apt-guide-target-block"),aa.style.left=wb-ua+"px",aa.style.width=cb+2*ua+"px",aa.style.height=L+2*ua+"px",aa.style.top=Mb-ua+"px",ka.appendChild(aa)}function Ma(L,aa){var ha=void 0;if(ha=JSON.parse((0,V.getGuideStateValue)("apt.prevStepMap")),ha||={},ha[aa.id]={id:L.id,url:n.windowRef.location.href},(0,V.setGuideStateValue)("apt.prevStepMap",JSON.stringify(ha)),(0,V.setGuideStateValue)("apt.stepId",aa.id),(eb.engagementId||!1===
rb)&&(0,V.setGuideStateValue)("apt.guideId",eb.engagementId),(0,r.getConfig)("crossProductEngagement"))(0,V.getGuideStateValue)("apt.localCache")||(0,V.setGuideStateValue)("apt.localCache",JSON.stringify(n.eventTrackData[d.cacheGetAll]()))}function ja(){(0,V.deleteGuideStateValue)("apt.currentGuideId");(0,V.deleteGuideStateValue)("apt.stepId");(0,V.deleteGuideStateValue)("apt.guideId")}function Da(L,aa,ha,ua,ka,Oa,$a,cb){!0!==Oa&&(Z(),fc=!1,0<gb.length&&gb.pop().close(),U(L),P.default.removeAllHandlers(),
fc=!0,Bc=L);switch(ka.type){case "TOOLTIP":case "DIALOG":return gc(L,aa,ha,ua,ka,Oa,$a,cb);case "HOTSPOT":return Ua(L,ua,ka,Oa,$a,cb);case "BADGE":break;default:f.logger.logInternalError(Error("Unsupported step type "+ka.type))}}function ra(L){L=(0,S.buildHotspotStyle)(L);var aa=document.getElementById("apt-hotspot-style");aa?aa.styleSheet?aa.styleSheet.cssText=L:(aa.innerHTML="",aa.appendChild(document.createTextNode(L))):aa=(0,l.createStyle)(L,"apt-hotspot-style");T().appendChild(aa)}function La(L,
aa,ha,ua,ka){L.setAttribute("tabindex",qa);ua=function(){clearInterval(Cc);Z(L);Pa();Ka(aa,ha);na()};(0,l.addEventListener)(L,"click",ua);(0,C.disableFocusOnClick)(L);(0,l.addEnterKeyDownListener)(L,ua);aa.hotspotSettings.elementClickTrigger&&W.hotspotEventHandler.addListener(ka,aa.elementSelector,ua)}function ya(L,aa,ha){g.internalEventListener.addListener("pageview",function ka(){setTimeout(function(){(0,t.findInAll)(L.elementSelector,(0,k.getRegisteredIframes)(),function(Oa){Oa&&(Oa.element||Oa.iframeData)&&
!1!==Oa.isVisible||((0,ba.elementContainsChild)(T(),aa)&&Z(aa),!ha.preview&&ub&&ub());g.internalEventListener.removeListener("pageview",ka);Pa()})},500)});Cc=setInterval(function(){try{(0,t.findInAll)(L.elementSelector,(0,k.getRegisteredIframes)(),function(ka){ka&&(ka.element||ka.iframeData)&&aa.parentElement&&!1!==ka.isVisible||(aa.parentElement&&Z(aa),clearInterval(Cc),Pa(),!ha.preview&&ub&&ub())})}catch(ka){clearInterval(Cc),Pa(),f.logger.logInternalError(ka)}},500)}function Ra(L,aa,ha,ua){ha=
"TOOLTIP"===ua.type&&Xa(ha,ua);aa?(L.style.display="block",ha&&(Fb.style.display="block",Fb.style.visibility="visible",Gb.style.display="block",Gb.style.visibility="visible",Hb.style.display="block",Hb.style.visibility="visible",Ib.style.display="block",Ib.style.visibility="visible")):(L.style.display="none",ha&&hb())}function Ta(L,aa,ha,ua,ka,Oa,$a,cb){var ob=Lb.getElementPosition(ha),pb=L[0]!==aa[0]||L[1]!==aa[1]||L[2]!==aa[2]||L[3]!==aa[3];cb=ob[0]!==cb[0]||ob[1]!==cb[1]||ob[2]!==cb[2]||ob[3]!==
cb[3];pb=pb||!pb&&cb;cb=!1;return cb=ua.isDom?(0,l.isElementVisible)(ua.element,!0,!0):ua.elementRect.isVisible?(0,l.isElementInIframeVisible)(ua.elementRect,ua.iframeSource.domElement):void 0===ua.elementRect.isVisible&&ua.isVisible,Ra(ha,cb,$a,ka),pb&&(aa=L,Lb.positionElement(ha,ua,ka.positionHorizontal,ka.positionVertical,ka.positionTopDelta,ka.positionLeftDelta,"HOTSPOT"===ka.type,A()),"TOOLTIP"===ka.type&&lb(Oa,$a,ka,ua)),aa}function ab(L,aa,ha,ua,ka,Oa){var $a=!0,cb=Lb.getElementPosition(ha);
if(Oa.preview||rb){var ob=function(mb){if(mb)if(mb.element){var yb=Lb.getElementPosition(mb.element);mb.isDom=!0;aa=Ta(yb,aa,ha,mb,L,ka,Oa,cb);cb=Lb.getElementPosition(ha)}else yb=function(wb){wb={isDom:!1,elementRect:Array.isArray(wb)?wb[0]:wb,isVisible:mb.isVisible,iframeSource:mb.iframeData,iframeOrigin:k.IframeData.iframeOrigin};var Mb=Lb.getElementDataPosition(wb);aa=Ta(Mb,aa,ha,wb,L,ka,Oa,cb);cb=Lb.getElementPosition(ha)},mb.elementRect?yb(mb.elementRect):u.default.getElementLocation(mb.iframeData,
L.elementSelector,yb)},pb=setInterval(function(){try{if(ua&&ua.isDom&&ua.element&&!(0,ba.elementContainsChild)(T(),ua.element)){var mb=JSON.stringify(L.elementSelector);f.logger.logInternalError(Error("Guide "+Oa.id+" on step "+L.id+" with selector "+mb+" was closed, mapped element was there and then removed"));Wb(L,Oa)}else(0,t.findInAll)(L.elementSelector,(0,k.getRegisteredIframes)(),ob,!1,!1,$a&&L.autoScroll),$a=!1}catch(yb){clearInterval(pb),Pa(),f.logger.logInternalError(yb)}},0<L.repositionInterval?
L.repositionInterval:1E3);return pb}return null}function Ua(L,aa,ha,ua,ka,Oa){(ua=ha.autoScroll&&L&&L.element&&(0,l.needToScroll)(L.element))&&(0,l.scrollElementToCenter)(L.element,function(ob){return f.logger.logInternalError(ob)});ra(ha);var $a=(0,l.createElement)("span",["apt-hotspot-element","apt-hotspot-dynamic"]);$a.setAttribute("data-apt-disable-selector",!0);$a.style.display=L.isVisible?"block":"none";(0,l.appendElements)(T(),[$a]);var cb=function(){var ob=null;if(ha&&ha.positionHorizontal&&
ha.positionVertical){ob=Lb.positionElement($a,L,ha.positionHorizontal,ha.positionVertical,ha.positionTopDelta,ha.positionLeftDelta,!0,A());var pb=Lb.getElementDataPosition(L);Ac=ab(ha,pb,$a,L,null,aa)}(null===ob&&(ob=hc($a,L,ha.positionTopDelta,ha.positionLeftDelta,!0)),Oa)||(La($a,ha,aa,ka,L),ya(ha,$a,aa),pb=(0,S.isLastStep)(Wa,ha,Cb),Wa&&(pb||1===Wa.length)&&oa(O.COMPLETED_TRACKED),ha&&J(ha.id,ha.sequenceNumber));oc&&oc(ob);rb&&(0,S.isLastStep)(Wa,ha,Cb)&&g.internalEventListener.dispatchEvent("engagementCompleted",
(0,D.toExternalEventGuide)(eb,"Completed"))};ua?setTimeout(cb,800):cb()}function Xa(L,aa){var ha=aa.overlay&&1>aa.overlay.fill&&!aa.showOverlay;return(aa.overlay&&aa.overlay.modal||L.modal)&&!ha}function lb(L,aa,ha,ua,ka){var Oa=L.querySelector(".apt-vex.apt-popup-disable-overlay .vex-overlay"),$a=void 0,cb=void 0,ob=void 0,pb=0,mb=ha.overlay&&ha.overlay.modal||aa.modal;if(!(ha.overlay&&1>ha.overlay.fill)||ha.showOverlay){mb&&($a=T(),$a.classList.contains("apt-non-scroll")||document.documentElement.classList.contains("apt-non-scroll")||
(cb=(0,m.detectIE)(),(cb&&cb<=O.LAST_IE_VERSION?document.documentElement:(0,r.getBody)()).classList.add("apt-non-scroll"),(0,r.getConfig)("enableModalBodyScroll")&&$a.classList.add("apt-non-scroll")),$a=ha.overlay&&ha.overlay.modal&&ha.overlay.color||aa.overlayColor,cb=ha.overlay&&ha.overlay.modal&&!isNaN(ha.overlay.fill)?ha.overlay.fill:aa.overlayFill,ob=ha.overlay&&ha.overlay.modal&&(ha.overlay.padding||0===ha.overlay.padding)?ha.overlay.padding:aa.overlayPadding,pb=ha.zIndex||ha.zindex);if(aa&&
"TOOLTIP"===ha.type){var yb=ha.overlay&&ha.overlay.modal&&ha.overlay.blockElement&&!Ia(ha.navigation.nextStepTrigger);ka||Ga(ua,$a,cb,ob,L,yb,pb);mb||hb()}aa&&"DIALOG"===ha.type&&(mb?(Oa.style.background=(0,l.hexToRgba)($a,cb?cb/100:0),Oa.style.display="block"):Oa.style.display="none")}}function Eb(L,aa){var ha=(0,a.resolveUrlWithPlaceholders)(n.windowRef.location.href,L);if(!((0,S.canUseHistoryReplaceState)()||(0,r.getConfig)("supportAutoHashChangeDetection")&&(0,l.isOnlyHashChanged)(n.windowRef.location.href,
ha))){L={aptShowGuide:"1"};var ua=q({},Ea,aa.engagementId);rb&&(ua[Ha]=aa.activationType);(0,S.canUseSessionStorageForRedirect)()?aa.preview?S.GuideQueryParms.set(L):S.GuideQueryParms.set(ua):Object.entries(vc?L:ua).forEach(function(ka){ka=x(ka,2);ha=(0,l.addParameterToUrl)(ha,ka[0],ka[1])})}return ha}function tb(L,aa){return{closeCallback:function(){pc(aa.activationType,aa.snoozeButton,aa.activationTypes)&&oa(O.COMPLETED_TRACKED);Wb(L,aa)},startOverGuideCallback:function(ha){return wc(aa,ha)},customButtonNextCallback:function(ha){var ua=
rb;ha.onNavigationNextAction===Q.URL_REDIRECTION&&(0,a.resolveUrlWithPlaceholders)(window.location.href,ha.url)!==n.windowRef.location.href?(w(ua),ua=Eb(ha.url,aa),ua!==n.windowRef.location.href&&L.sequenceNumber<L.total-1&&(Ma(L,Wa[sb+1]),ha.actionType===Q.NAVIGATION&&ha.onNavigationNextAction===Q.URL_REDIRECTION&&ha.navigationType===Q.NEXT&&ha.openNewTab&&zb()),(0,S.redirect)(ua,void 0,!1,ha.openNewTab)):ea(null);Pa()},customButtonGoToStepCallback:function(ha){(ha=(0,S.getBranchNextStepIdForCustomButton)(Wa,
sb,ha))?(pa({timeout:null,nextStepId:ha}),Aa(!0)):ea(null)},showPreviousStepCallback:function(ha){return Lc(L,aa,L&&ha)}}}function zb(){(0,za.copySessionStorageToLocalStorageGuideKeys)();Wb()}function Ka(L,aa){"REDIRECT"===L.navigation.nextButtonAction&&L.navigation.nextStepUrl&&(0,a.resolveUrlWithPlaceholders)(window.location.href,L.navigation.nextStepUrl)!==n.windowRef.location.href?(w(rb),aa=Eb(L.navigation.nextStepUrl,aa),aa!==n.windowRef.location.href&&L.sequenceNumber<L.total-1&&(Ma(L,Wa[sb+
1]),L.navigation.openInNewTab&&zb()),(0,S.redirect)(aa,function(){ea(null)},(0,S.canUseHistoryReplaceState)(),L.navigation.openInNewTab)):L.navigation.nextButtonAction===Q.GO_TO_STEP?Sa(null):L.navigation.nextButtonAction===Q.END_GUIDE?ta():ea(null)}function Ia(L){return-1<["ELEMENT_CLICK","ELEMENT_HOVER","INPUT_TEXT_COMPLETION"].indexOf(L)}function Za(L,aa){L=L.total-1;sb>=L&&-1!==["REDIRECT","REPLACE"].indexOf(aa.completionClosingAction)&&aa.completionClosingRedirectUrl?(L=(0,a.resolveUrlWithPlaceholders)(n.windowRef.location.href,
aa.completionClosingRedirectUrl),L!==n.windowRef.location.href&&(0,S.redirect)(L,void 0,"REPLACE"===aa.completionClosingAction,!1)):sb<L&&"REDIRECT"===aa.interruptClosingAction&&aa.interruptClosingRedirectUrl&&(aa=(0,a.resolveUrlWithPlaceholders)(n.windowRef.location.href,aa.interruptClosingRedirectUrl),aa!==n.windowRef.location.href&&(0,S.redirect)(aa,void 0,(0,S.canUseHistoryReplaceState)(),!1))}function kb(L){(0,r.getConfig)("guideAdvanceOnHover")&&((0,l.addEventListener)(L.element,"mouseleave",
ic,!1),(0,l.addEventListener)(L.element,"mouseout",ic,!1),L.element.nextElementSibling&&((0,l.addEventListener)(L.element.nextElementSibling,"mouseleave",ic,!1),(0,l.addEventListener)(L.element.nextElementSibling,"mouseout",ic,!1)))}function ib(L){(0,r.getConfig)("guideAdvanceOnHover")&&((0,l.removeEventListener)(L.element,"mouseleave",ic),(0,l.removeEventListener)(L.element,"mouseout",ic),L.element.nextElementSibling&&((0,l.removeEventListener)(L.element.nextElementSibling,"mouseleave",ic,!1),(0,l.removeEventListener)(L.element.nextElementSibling,
"mouseout",ic,!1)))}function Ab(L,aa){aa=xb(aa);return L.sequenceNumber===aa}function Bb(L){return L&&L.reduce(function(aa,ha){return Math.max(aa,ha.sequenceNumber)},L[0].sequenceNumber)}function xb(L){return L&&L.reduce(function(aa,ha){return Math.min(aa,ha.sequenceNumber)},L[0].sequenceNumber)}function Zb(L){var aa=Wa&&Wa.filter(function(ha){return"DIALOG"===ha.type});return aa&&aa.length&&Ab(L,aa)}function lc(L){var aa=Wa&&Wa.filter(function(ha){return"DIALOG"===ha.type});return aa&&0<aa.length?
(aa=Bb(aa),L.sequenceNumber===aa):!1}function qc(L,aa,ha,ua,ka){var Oa=this.contentEl.querySelector(".apt-step-new-index")||this.contentEl.querySelector(".px-step-new-index");Oa&&1<L.total&&(Oa.classList.add("px-step-numbers"),L=(0,l.createElement)("div",null,{text:aa+1+(ha?" "+ha+" ":" of ")+L.total}),ua&&(L.style.color=ua),ka&&(L.style.fontSize=ka+"px"),Oa.appendChild(L))}function wc(L,aa){var ha=(0,V.getGuideStateValue)("aptCurrentGuideUrl");if(n.windowRef.location.href===ha)Cb=0,vb=-1,sb=0,ea(0);
else{var ua=(0,r.getConfig)("supportAutoHashChangeDetection")&&(0,l.isOnlyHashChanged)(n.windowRef.location.href,ha);(0,S.redirect)(Eb(ha,L),function(){ua&&(Cb=0,vb=-1,sb=0);ea(0)},aa,!1)}}function Wb(L,aa,ha){(0,V.deleteGuideStateValue)("aptCurrentGuideUrl");ja();(0,V.deleteGuideStateValue)("apt.localCache");Pa();(0,V.deleteGuideStateValue)("apt.prevStepMap");(0,V.deleteGuideStateValue)("apt.prevStepMapBranching");!ha&&ub&&ub();0<gb.length&&gb.pop().close();U();L&&aa&&Za(L,aa);P.default.removeAllHandlers();
fa();Z();(0,D.removeTabbableEnterListener)();clearTimeout(Ec);clearTimeout(Fc);Fc=Ec=null}function rc(L,aa,ha){L.style&&((0,C.addStyleTag)(ha,L.style,"px-engagement-wrapper-guide #step-"+aa.id,".apt-vex.vex.vex-theme-os"),(L=L.style.match(/.px-close-button\s*{[^}]*}/))&&(0,C.addStyleTag)(ha,".aptr-step-close-button-"+aa.id+L[0],"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"))}function pc(L,aa,ha){L=(0,D.isSingleStepWithSnooze)(Wa.length,L,aa,ha);return Wa&&L&&(Cb>=Wa.length||1===Wa.length)}
function gc(L,aa,ha,ua,ka,Oa,$a,cb){var ob=function(){try{pc(ua.activationType,ua.snoozeButton,ua.activationTypes)&&oa(O.COMPLETED_TRACKED),hb(),(0,V.deleteGuideStateValue)("aptCurrentGuideUrl"),ja(),(0,V.deleteGuideStateValue)("apt.prevStepMapBranching"),(0,V.deleteGuideStateValue)("apt.prevStepMap"),Pa(),U(L),ub&&ub(),Za(ka,ua)}catch(Ob){f.logger.logInternalError(Ob,"Error on closing guide")}},pb=(0,l.getEscHandlerCallback)(ob);(Sb=ka,(0,C.isElement)(ha))||(Oa=document.createElement("div"),Oa.innerHTML=
(0,C.addNonceToDomString)(ha),ha=Oa,ha.classList.add("apt-step-wrapper"));var mb=0<ha.querySelectorAll("#px-editor-v2-content").length;(sc=(0,D.setTabIndexes)(ha,Gc),Hc=sc,Mc=sc+1,Nc=sc+2,Ic=sc+3,sc+=4,mb||!Sb.titleHtml||(0,C.isElement)(Sb.titleHtml))||(Oa=document.createElement("div"),Oa.innerHTML=(0,C.addNonceToDomString)(Sb.titleHtml),Sb.titleHtml=Oa);(0,C.isElement)(aa)||(Oa=document.createElement("div"),Oa.innerHTML=(0,C.addNonceToDomString)(aa),aa=Oa.firstChild);Oa=(0,l.createElement)("div",
["apt-step-content","apt-sdk"]);var yb=(0,l.createElement)("div",["apt-guide-content-wrapper"]);Oa.setAttribute("id","step-"+Sb.id);Oa.classList.toggle("px-dialog-container","DIALOG"===ka.type);Oa.classList.toggle("px-tooltip-container","TOOLTIP"===ka.type);Oa.classList.toggle("px-start-guide-dialog",Zb(ka));Oa.classList.toggle("px-end-guide-dialog",lc(ka));Oa.classList.toggle("px-first-step",Ab(ka,Wa));Oa.classList.toggle("px-last-step",(0,S.isLastStep)(Wa,ka,Cb));!mb&&Sb.titleHtml&&Sb.showTitle&&
yb.insertBefore(Sb.titleHtml,yb.firstChild);"TOOLTIP"!==ka.type||Sb.titleHtml||mb||(Sb.navigation.useElementListener&&Ia(Sb.navigation.nextStepTrigger)?yb.classList.add("apt-guide-tooltip-content"):yb.classList.add("apt-guide-tooltip-content-navigation"));ha&&aa&&(yb.appendChild(ha),(0,l.appendElements)(Oa,[yb,aa]));var wb=null;(aa=ka.autoScroll&&L&&L.element&&(0,l.needToScroll)(L.element))&&(0,l.scrollElementToCenter)(L.element,function(Ob){return f.logger.logInternalError(Ob)});var Mb=void 0,Kb=
L&&L.isDom?L.element:null,$b=T();ha=$b.id;var Vc={appendLocation:(0,r.getConfig)("framesetMode")?"html":ha?"#"+ha:"body",enableModalBodyScroll:(0,r.getConfig)("enableModalBodyScroll"),disableTransitionEffect:ka.disableTransitionEffect,closeClassName:"aptr-engagement-close-btn px-close-button aptr-step-close-button-"+ka.id,unsafeContent:Oa.outerHTML,overlayClosesOnClick:!1,closeAllOnPopState:!1,showCloseButton:!0,disableAutoFocus:Fa||z.default.isEngagementEditorV2(),afterOpen:function(){function Ob(Db){-1!==
[13,9].indexOf(Db.keyCode)&&Db.currentTarget===Kb&&(Ka(ka,ua),(0,l.removeEventListener)(Kb,"keydown",Ob))}var xc=this,Nb=function(Db){return(0,C.disableFocusOnClick)(Db,xc.contentEl)};this.rootEl.style.display="none";(0,r.getConfig)("enableModalBodyScroll")&&$b.classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.rootEl.setAttribute("data-apt-ignore-visible",!0);this.contentEl.setAttribute("data-apt-disable-selector",!0);fb=this.contentEl;Oc=this.rootEl;Pc=this.overlayEl;this.rootEl.classList.add("apt-popup-disable-overlay");
this.contentEl.classList.add("apt-guide-popup");this.contentEl.classList.add("guide-initial-position");this.contentEl.classList.add("apt-popup-content-disable-overlay");this.contentEl.classList.add("px-engagement-wrapper-guide");this.contentEl.classList.add("px-engagement-wrapper");var bc=ka.zindex||ka.zIndex||ua.zIndex||Na;this.rootEl.style.zIndex=bc;this.contentEl.style.zIndex=bc;(ka.zindex||ka.zIndex||0===bc)&&(this.overlayEl.style.zIndex=bc);(0,C.addStyleTag)(this.contentEl,ua.cssLibraryStyle,
"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");(0,C.addStyleTag)(this.contentEl,ua.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,C.addStyleTag)(this.contentEl,ua.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");(0,D.addGlobalSettings)(this.contentEl,ua.engagementCoreStyling,Sb.id,ka.paddingSettings);(0,C.addStyleTag)(this.contentEl,ua.overrideStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");(0,C.addStyleTag)(this.contentEl,
bb?ua.darkThemeStyle:ua.lightThemeStyle,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");var Xb=-1<$a?$a:sb;bc=Wa[Xb];rc(bc,ka,this.contentEl);ua.showStepCounter&&ka.showStepCounter&&qc.call(this,ka,Xb,ua.stepCounterLabelText,ua.stepCounterFontColor,ua.stepCounterFontSize);cb&&!ua.preview||(P.default.removeAllHandlers(),P.default.addNavigationHandler(L,ka,ua,function(Db,jc){Wb(Db,jc)}));ka&&(ka.backgroundImage&&tc(this.contentEl,ka.backgroundImage),ka.backgroundColor&&(this.contentEl.style.backgroundColor=
ka.backgroundColor,ka.backgroundFill&&(this.contentEl.style.backgroundColor=(0,l.hexToRgba)(ka.backgroundColor,ka.backgroundFill/100),(0,l.checkDarkColor)(ka.backgroundColor)&&this.contentEl.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"))));ka.autoHeight||(ka&&ka.height&&(this.contentEl.style.height=ka.height+"px"),ka&&ka.height&&(this.contentEl.querySelector(".apt-step-content").style.height=ka.height+"px"));ka&&ka.width&&(this.contentEl.style.width=
ka.width+"px");ua&&ua.borderRadius&&(this.contentEl.style.borderRadius=ua.borderRadius+"px");Xb=this.contentEl.querySelectorAll((0,B.getSelectorByVersion)(this.contentEl,"apt-step-footer-buttons"));Xb=Xb[Xb.length-1];var cc=this.closeEl;(0,l.isNullOrUndefined)(ka.navigation.showNavigation)||F.default.setButtonsVisibility(this.contentEl,ka.navigation.showNavigation);(0,l.addEventListener)(cc,"click",ob);(0,l.addEventListener)(document,"keydown",pb);ka.shadow&&(0,D.setShadow)(this.contentEl,ka.shadowSettings);
var Rb=this.contentEl.querySelector((0,B.getSelectorByVersion)(this.contentEl,"apt-step-footer-next")),Qb=this.contentEl.querySelector((0,B.getSelectorByVersion)(this.contentEl,"apt-step-footer-button")),mc=this.contentEl.querySelector((0,B.getSelectorByVersion)(this.contentEl,"apt-step-footer"));ka.isFirstStepNonHotspot&&(F.default.addSkipButton(mc,ua.skipButton,ka.navigation.backgroundRadius,!cb,function(Db,jc){return function(){Wb(Db,jc)}}(ka,ua),ua.skipButtonText,Nb,Ic),(0,D.isSnoozeButtonEnabled)(ua.activationType,
ua.snoozeButton,ua.activationTypes)&&F.default.addSnoozeButton(mc,ua.snoozeButton,!cb,function(Db,jc){return function(){(0,D.trackSnooze)(eb,Db.id,Db.sequenceNumber);Wb(Db,jc)}}(ka,ua),ua.snoozeButtonText,Nb,Hc,mb));var dc=cc=null,yc=null,Pb=null;ua.navigationV2&&ka.backButton&&(cc=ka.backButton.text,dc=ka.backButton.className,yc=ka.nextButton.text,Pb=ka.nextButton.className);Qb.innerText=cc||ua.backButtonText||"Previous";dc=dc||ua.backButton.className||"";Qb.setAttribute("tabindex",Mc);Qb.setAttribute("role",
"button");dc&&Qb.classList.add(dc);Rb.innerText=yc||ua.nextButtonText||"Next";Pb=Pb||ua.nextButton.className||"";Rb.setAttribute("tabindex",Nc);Rb.setAttribute("role","button");Pb&&Rb.classList.add(Pb);Qb.classList.add("apt-step-footer-prev");"TOOLTIP"===ka.type&&(L&&L.isDom?(0,l.isEnterAllowedElement)(Kb)&&(Qa[ka.id]={element:Kb,event:"keydown",handler:Ob},(0,l.addEventListener)(Kb,"keydown",Ob)):L&&!L.isDom&&L.iframeSource&&u.default.addElementHandler(L.iframeSource,ka.elementSelector,ka.navigation.nextStepTrigger,
function(){Ka(ka,ua)}));cc=(0,S.isLastStep)(Wa,ka,Cb);dc=ka.nextButton;yc=ka.backButton;if(ka&&!ka.navigation.useElementListener||cb||!Ia(ka.navigation.nextStepTrigger)){if(0===ka.sequenceNumber&&("DIALOG"!==ka.type&&"TOOLTIP"!==ka.type||(Rb.innerText=ua.getStartedButtonText||ua.startButton&&ua.startButton.text||"Get Started",dc=ua.startButton,Rb.style.width="")),0!==ka.sequenceNumber&&ka.showPreviousButton||(cb?Qb.style.display="none":Qb.parentNode===Xb&&Xb.removeChild(Qb)),cc&&(Rb.innerText=ua.endButtonText||
"End Tour",dc=ua.endButton,1<ka.total&&(Qb.innerText=ua.restartButtonText||"Start Over",yc=ua.restartButton)),!cb&&ua)if(cc){Pb=function(){Qc||(Qc=!0,pc(ua.activationType,ua.snoozeButton,ua.activationTypes)&&oa(O.COMPLETED_TRACKED),Wb(ka,ua))};var Qc=!1;(0,l.addEventListener)(Rb,"click",Pb);(0,l.addEnterKeyDownListener)(Rb,Pb);Nb(Rb);Pb=function(){return wc(ua,(0,S.canUseHistoryReplaceState)())};(0,l.addEventListener)(Qb,"click",Pb);(0,l.addEnterKeyDownListener)(Qb,Pb);Nb(Qb)}else{var Rc=!1;Pb=function(){if(Rc)return void f.logger.log("next already clicked");
Rc=!0;Ka(ka,ua);Pa()};(0,l.addEventListener)(Rb,"click",Pb);(0,l.addEnterKeyDownListener)(Rb,Pb);Nb(Rb);Pb=function(){return Lc(ka,ua,ka&&ka.navigation&&"HISTORY_BACK"==ka.navigation.previousButtonAction)};(0,l.addEnterKeyDownListener)(Qb,Pb);Nb(Qb);(0,l.addEventListener)(Qb,"click",Pb)}Nb=tb(ka,ua);(0,I.setCustomButtonEventListener)(this.contentEl,ka.customAction,Nb,eb,ka.id);Nb=mc.querySelector(".px-step-navigation-skip");Pb=mc.querySelector(".px-step-navigation-snooze");F.default.setStepNavigationV2Style({guideSettings:ua,
stepSettings:ka,nextButton:Rb,prevButton:Qb,skipButtonDom:Nb,snoozeButtonDom:Pb,footerElement:mc,stepPrevButtonStyleSettings:yc,stepNextButtonStyleSettings:dc,navigation:ka.navigation});(cb&&ka.navigation.useElementListener||Ia(ka.navigation.nextStepTrigger))&&(ua.showStepCounter&&ka.showStepCounter||(mc.style.display="none"),Xb.style.display="none",Rb.style.display="none",Qb.style.display="none")}else ua.showStepCounter&&ka.showStepCounter||(mc.style.display="none"),Xb.style.display=Rb.style.display=
Qb.style.display="none";if((Ia(ka.navigation.nextStepTrigger)||ka.navigation.useElementListener)&&!cb&&L){var Tc=function(){ka.navigation.nextButtonAction===Q.GO_TO_STEP?Sa(1E3):ka.navigation.nextButtonAction===Q.END_GUIDE?ta():ea(1E3);L.isDom&&("ELEMENT_CLICK"===ka.navigation.nextStepTrigger&&((0,l.removeEventListener)(L.element,"keydown",zc),(0,S.removeClickListener)(L.element,Vb,Jc),(0,l.removeEventListener)(L.element,"contextmenu",Vb)),"ELEMENT_HOVER"===ka.nextStepTrigger&&((0,l.removeEventListener)(L.element,
"mouseenter",Vb),ib(L)));Sc=!1},Sc=!0;Jc=function(Db){Uc=Db.target};Vb=function(Db){if(!(0,l.isEnterAllowedElement)(L.element)&&("pointerup"!==Db.type||(0,C.checkIfSameElement)(Uc,Db.target))&&Sc)if(P.default.removeAllHandlers(),-1<["ELEMENT_CLICK","INPUT_TEXT_COMPLETION"].indexOf(ka.navigation.nextStepTrigger)&&ka.navigation.nextStepUrl&&("REDIRECT"===ka.navigation.nextButtonAction&&n.windowRef.location.href!==ka.navigation.nextStepUrl||"SHOW_ON_NEXT_PAGE"===ka.navigation.nextButtonAction)){if(Db=
-1<$a?$a:sb,Db<ka.total-1&&(Ma(ka,Wa[sb+1]),ka.navigation.openInNewTab&&zb()),"REDIRECT"===ka.navigation.nextButtonAction){var jc=(0,a.resolveUrlWithPlaceholders)(n.windowRef.location.href,ka.navigation.nextStepUrl);Db=Db<ka.total-1?Eb(jc,ua):jc;(0,S.redirect)(Db,Tc,(0,S.canUseHistoryReplaceState)(),ka.navigation.openInNewTab)}}else Tc()};L.isDom?("ELEMENT_CLICK"===ka.navigation.nextStepTrigger&&((0,S.addClickListener)(L.element,Vb,Jc),(0,l.addEventListener)(L.element,"contextmenu",Vb)),"ELEMENT_HOVER"===
ka.navigation.nextStepTrigger&&((0,l.addEventListener)(L.element,"mouseenter",Vb,!1),kb(L)),"ELEMENT_CLICK"!==ka.navigation.nextStepTrigger&&"ELEMENT_HOVER"!==ka.navigation.nextStepTrigger||(zc=(0,l.addEnterKeyDownListener)(L.element,function(Db){Vb(Db);L.element.blur()}))):u.default.addElementHandler(L.iframeSource,ka.elementSelector,ka.navigation.nextStepTrigger,Vb)}("DIALOG"===ka.type&&"BAR"===ka.dialogViewType&&(this.contentEl.style.position="absolute",this.contentEl.classList.add("apt-dialog-bar"),
this.contentEl.style.width="100%"),this.rootEl.style.display="block","DIALOG"!==ka.type&&L&&(Ra(this.contentEl,L.isVisible,ua,ka),void 0===L.isVisible&&f.logger.log("showContentStep - get isVisible undefined")),!nc&&ka.autoHeight&&"DIALOG"===ka.type&&v(this.contentEl),"DIALOG"===ka.type&&"BAR"===ka.dialogViewType)?(Nb="bottom",Xb=0,"TOP"===ka.barPosition&&(Nb="top",Xb=ka.barOffset||0),wb=Lb.positionElement(this.contentEl,L,"center",Nb,Xb,ka.positionLeftDelta),"BOTTOM"===ka.barPosition&&(this.contentEl.style.bottom=
(ka.barOffset||0)+"px",this.contentEl.style.left="0px")):ka&&ka.positionHorizontal&&ka.positionVertical&&(wb=Lb.positionElement(this.contentEl,L,ka.positionHorizontal,ka.positionVertical,ka.positionTopDelta,ka.positionLeftDelta,!1,!(0,r.getConfig)("tooltipDynamicReposition")&&(rb||ua.preview)));if(null===wb&&(wb=L||"DIALOG"!==ka.type?hc(this.contentEl,L,ka.positionTopDelta,ka.positionLeftDelta):Lb.positionElement(this.contentEl,L,"center","center",ka.positionTopDelta,ka.positionLeftDelta,!1,A())),
"TOOLTIP"===ka.type)null===wb?rb&&f.logger.logInternalError(Error("Could not find linked element after attempting to position it, element might be not visible.\nLinked element css selector:"+ka.elementSelector)):(this.contentEl.classList.add("apt-guide-tooltip"),va(wb,this.contentEl,ka&&ka.backgroundColor?ka.backgroundColor:"#ffffff"),L&&L.isDom&&(Mb=ec.getFollowScrollHandler(L.element,this.contentEl),ec.handleScrollEvent(Kb,Mb)),Nb=Lb.getElementDataPosition(L),Ac=ab(ka,Nb,this.contentEl,L,this.rootEl,
ua));if(lb(this.rootEl,ua,ka,L),(0,D.removeCicularTabsWrapperListener)(xa),Xa(ua,ka)&&(rb||ua.preview))Nb=function(){var Db=xc.contentEl.querySelector("[tabindex]");Db&&(0,C.focusElement)(Db)},xa="TOOLTIP"===ka.type?(0,D.addCircularTabListenerForTooltips)(Nb,L&&L.element,bc.id):(0,D.addCircularTabListener)(Nb,null,bc.id);ka&&J(ka.id,ka.sequenceNumber);Nb=(0,D.isSingleStepWithSnooze)(Wa.length,ua.activationType,ua.snoozeButton,ua.activationTypes);Wa&&!Nb&&(cc||1===Wa.length)&&oa(O.COMPLETED_TRACKED);
(0,D.listenToLinksClicks)(this.rootEl,ua,{stepId:bc.id});rb&&cc&&g.internalEventListener.dispatchEvent("engagementCompleted",(0,D.toExternalEventGuide)(eb,"Completed"))},beforeClose:function(){var Ob;if(Ob=!fc){Ob=Wa[sb];var xc=!1;Ob=(Ob&&"HOTSPOT"!==Ob.type&&(xc=Ob.overlay&&Ob.overlay.modal?0<Ob.overlayFill:ua&&ua.modal&&0<ua.overlayFill),xc)}Ob||($b.classList.remove("apt-vex"),$b.classList.remove("apt-non-scroll"),document.documentElement.classList.remove("apt-non-scroll"));Pa();hb();ec.clearScrollEventListenerFromParents(Kb);
(0,l.removeEventListener)(document,"keydown",pb);U(L);(0,D.removeCicularTabsWrapperListener)(xa);Yb&&Yb();fc&&!ua.preview&&ub&&ub()}};Vc.afterClose=G;ha=function(){var Ob=Y.open(Vc);gb.push(Ob);oc&&oc(wb)};aa?setTimeout(ha,800):ha()}function hc(L,aa,ha,ua,ka){function Oa($a,cb){return Lb.positionElement(L,aa,$a,cb,ha,ua,ka,A())}return Oa("right","top")||Oa("center","top")||Oa("right","center")||Oa("right","bottom")||Oa("center","bottom")||Oa("left","bottom")||Oa("left","center")||Oa("left","top")}
function ac(){Pa();hb();kc();Z();gb=[];Bc&&ib(Bc);Bc=void 0}function tc(L,aa){L&&(L.style.backgroundPosition="center",L.style.backgroundRepeat="no-repeat",L.style.backgroundSize="cover",L.style.backgroundImage="url("+aa+")")}function kc(){for(var L=0;L<gb.length;L++)gb[L].close();L=document.querySelectorAll(".vex-closing");0<L.length&&L.forEach(function(aa){return T().removeChild(aa)})}function uc(L,aa,ha,ua){Wc(L,aa,ha,ua);0<aa.timeout&&(Fc=setTimeout(function(){Wb()},aa.timeout*l.MILLISEC))}var Jb=
this,Tb=ia,Lb=Ba||new p.default,rb=!(Fa||z.default.isEditorMode()),vc=Fa||!!z.default.isEditorMode(),nc=!z.default.isEditorMode()&&Fa,Ub=15*l.MILLISEC,ec=new h.ScrollEventBinder,Na=wa||void 0,Gc=O.TAB_INDEX_START+1,Qa={},nb={},bb=!1,gb=[],vb=-1,Cb=0,sb=0,Wa=null,eb=null,ub=null,Yb=null,oc=null,Sb=null,Ac=void 0,Bc=void 0,Vb=null,Jc=null,Uc=null,zc=null,fb=null,Oc=null,Pc=null,sc=void 0,Ic=void 0,Hc=void 0,Mc=void 0,Nc=void 0,Kc=!1,fc=!0,Fb=void 0,Gb=void 0,Hb=void 0,Ib=void 0,Cc=void 0,Dc=null,Ec=
null,Fc=null;(0,m.addDOMReadyListener)(function(){document.querySelector(".apt-guide-overlay-top")?Fb=document.querySelector(".apt-guide-overlay-top"):(Fb=document.createElement("div"),Fb.className="apt-guide-overlay-top",Fb.style.display="none",Fb.style.visibility="hidden");document.querySelector(".apt-guide-overlay-bottom")?Gb=document.querySelector(".apt-guide-overlay-bottom"):(Gb=document.createElement("div"),Gb.className="apt-guide-overlay-bottom",Gb.style.display="none",Gb.style.visibility=
"hidden");document.querySelector(".apt-guide-overlay-left")?Hb=document.querySelector(".apt-guide-overlay-left"):(Hb=document.createElement("div"),Hb.className="apt-guide-overlay-left",Hb.style.display="none",Hb.style.visibility="hidden");document.querySelector(".apt-guide-overlay-right")?Ib=document.querySelector(".apt-guide-overlay-right"):(Ib=document.createElement("div"),Ib.className="apt-guide-overlay-right",Ib.style.display="none",Ib.style.visibility="hidden");var L=T();L.appendChild(Fb);L.appendChild(Gb);
L.appendChild(Hb);L.appendChild(Ib)});this.hideOverlay=hb;this.showOverlay=Ga;this.showOverlayForStep=lb;this.showStepById=function(L){Wa.forEach(function(aa,ha){aa.id===L&&(Cb=ha)});ea()};this.findElementInPage=db;var ic=function(L){L.stopImmediatePropagation()};this.checkHasOverlayForCurrentStep=function(){if(Wa){var L=Wa[sb];return!!L&&Xa(eb,L)}return!1};this.getStepSettings=function(){return Wa[sb]};var Lc=function(L,aa,ha){var ua=!0;if(ha)history.back();else{ha=JSON.parse((0,V.getGuideStateValue)("apt.prevStepMap"));
var ka=null;if(ha&&(ka=ha[L.id]),ka)if(Pa(),ja(),(0,V.setGuideStateValue)("apt.stepId",ka.id),L=ka.url,w(rb),L!==n.windowRef.location.href)ua=!1,aa=(0,r.getConfig)("supportAutoHashChangeDetection")&&(0,l.isOnlyHashChanged)(n.windowRef.location.href,L)?L:(0,l.addParameterToUrl)(L,aa.preview?"aptShowGuide":"aptGuideId",aa.preview?"1":aa.engagementId),(0,S.redirect)(aa,qb,(0,S.canUseHistoryReplaceState)(),!1)}ua&&qb()};this.setHotspotStyle=function(L){ra(L)};this.setDialogStyle=function(L,aa){fb&&(L&&
(fb.style.borderRadius=L.borderRadius+"px"),aa)&&(aa.backgroundImage?tc(fb,aa.backgroundImage):(L=fb)&&(L.style.removeProperty("background-position"),L.style.removeProperty("background-repeat"),L.style.removeProperty("background-size"),L.style.removeProperty("background-image")),aa.backgroundColor&&(aa.backgroundFill?(fb.style.backgroundColor=(0,l.hexToRgba)(aa.backgroundColor,aa.backgroundFill/100),(0,l.checkDarkColor)(aa.backgroundColor)&&fb.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright")):
fb.style.backgroundColor=aa.backgroundColor),!aa.autoHeight&&aa.height?(fb.style.height=aa.height+"px",fb.querySelector(".apt-step-content").style.height=aa.height+"px"):(fb.style.height="unset",fb.querySelector(".apt-step-content").style.height="unset"),aa.width&&(fb.style.width=aa.width+"px"),aa.shadow&&aa.shadow.enable?(0,D.setShadow)(fb,aa.shadow):(fb.style.removeProperty("filter"),fb.style.removeProperty("-webkit-filter")),aa=aa.zIndex,Oc.style.zIndex=aa,fb.style.zIndex=aa,Pc.style.zIndex=aa)};
this.editSkipButton=function(L,aa){aa&&aa.remove();aa=Object.assign({},L.navigation.skipButton,{enabled:L.navigation.skipButton.visible});Jb.toggleSkip(L.navigation.skipButton.visible,aa,L.navigation.skipButton.text)};this.editSnoozeButton=function(L,aa,ha){aa&&aa.remove();aa=Object.assign({},L,{enabled:L.visible});Jb.toggleSnooze(L.visible,aa,L.text,ha)};this.setEngNavigationStyle=function(L){var aa=L.guideSettings;L=L.stepStyle;if(L.navigation){var ha=aa.steps[L.navigation.currentStepIndex],ua=
ha.nextButton,ka=ha.backButton,Oa=1===L.navigation.stepLength,$a=0===L.navigation.currentStepIndex&&!Oa,cb=(0,S.isLastStep)(aa.steps,ha,L.navigation.currentStepIndex+1),ob=!$a&&!cb&&!Oa,pb=0<fb.querySelectorAll("#px-editor-v2-content").length,mb=fb.querySelector((0,B.getSelectorByVersion)(fb,"apt-step-footer")),yb=F.default.getNavigationButtons(fb),wb=fb.querySelector((0,B.getSelectorByVersion)(fb,"apt-step-footer-button")),Mb=fb.querySelector((0,B.getSelectorByVersion)(fb,"apt-step-footer-next"));
wb=-1<wb.className.indexOf("snooze")?fb.querySelectorAll((0,B.getSelectorByVersion)(fb,"apt-step-footer-button"))[1]:wb;var Kb=mb.querySelector(".px-step-navigation-skip");Jb.editSkipButton(L,Kb);(Kb=mb.querySelector(".px-step-navigation-skip"))&&(L.navigation.isFirstStepNonHotspot?Kb.style.display="block":Kb.style.display="none");var $b=mb.querySelector(".px-step-navigation-snooze");if(Jb.editSnoozeButton(L.navigation.snoozeButton,$b,pb),$b=mb.querySelector(".px-step-navigation-snooze"),$b&&($b.style.display=
L.navigation.isFirstStepNonHotspot?"block":"none"),$a&&!cb?(Mb&&(Mb.innerText=L.navigation.startButton.text,ua=aa.guideSettings.startButton),wb.style.display=$a||!L.navigation.showPreviousButton?"none":"block"):ob?(wb.style.display=L.navigation.showPreviousButton?"block":"none",wb.innerText=ka.text,Mb.innerText=ua.text,ka=ha.backButton):Oa?Mb&&(Mb.innerText=L.navigation.endButton.text,ua=aa.guideSettings.endButton):cb&&(Mb.innerText=L.navigation.endButton.text,ua=aa.guideSettings.endButton,wb.style.display=
L.navigation.showPreviousButton?"block":"none",wb.innerText=L.navigation.restartButton.text,ka=aa.guideSettings.restartButton),mb&&wb&&Mb&&L&&L.navigation)Oa=Ia(L.navigation.type),cb=!L.showStepCounter&&!ha.navigation.showNavigation,$a=!ha.navigation.showNavigation||Oa,cb=Oa&&!(aa.guideSettings.showStepCounter&&L.showStepCounter)||cb,Mb.style.display=Oa?"none":"block",mb.style.display=cb?"none":"flex",yb.style.display=$a?"none":"",F.default.setStepNavigationV2Style({guideSettings:aa.guideSettings,
stepSettings:ha,nextButton:Mb,prevButton:wb,skipButtonDom:Kb,snoozeButtonDom:$b,footerElement:mb,stepPrevButtonStyleSettings:ka,stepNextButtonStyleSettings:ua,navigation:L.navigation})}};this.setEngStyleTag=function(L,aa,ha){if(fb){var ua=fb.querySelectorAll("style");if(ua&&ua.forEach(function(ka){ka.remove()}),L)(0,C.addStyleTag)(fb,L.cssLibraryStyle,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),(0,C.addStyleTag)(fb,L.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),
(0,C.addStyleTag)(fb,L.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),(0,C.addStyleTag)(fb,L.overrideStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),(0,C.addStyleTag)(fb,bb?L.darkThemeStyle:L.lightThemeStyle,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");aa&&rc(aa,aa,fb);(0,D.addGlobalSettings)(fb,L.engagementCoreStyling,void 0,ha)}};this.positionDialogAndTooltipInCenter=function(){var L=this.getTargetContainer().getBoundingClientRect();
Lb.positionElement(fb,{isDom:!1,elementRect:{left:0,top:0,height:L.height,width:L.width}},"center","center",0,0)};this.updateDialogViewPosition=function(L,aa){"DIALOG"===L.type&&(fb.classList.toggle("px-dialog-bar","BAR"===L.position.dialogViewType),"BAR"===L.position.dialogViewType?(fb.style.position="fixed",fb.style.width="100%",fb.style.left="0px","BOTTOM"===L.position.barPosition?(fb.style.bottom=(L.position.barOffset||0)+"px",fb.style.top="unset"):(fb.style.top=(L.position.barOffset||0)+10+"px",
fb.style.bottom="unset")):(fb.style.bottom="unset",fb.style.right="unset",aa?Jb.positionDialogAndTooltipInCenter():(fb.style.position="",fb.style.width=L.width+"px")))};this.updateTargetContainer=function(L){Tb=L;[Fb,Gb,Hb,Ib].forEach(function(aa){aa&&Tb.appendChild(aa)})};this.getTargetContainer=T;this.setStepNavigationVisibility=function(L){F.default.setButtonsVisibility(fb,L)};this.setStepCounterVisibility=function(L,aa){F.default.setCounterVisibility(fb,L,aa)};this.updateDialogStyle=function(L){var aa=
L.guideSettings,ha=L.stepSettings,ua=L.engStyle,ka=L.elementData;L=L.dontReposition;fb&&fb.parentElement&&(Jb.setEngStyleTag(ua&&ua.styleTags,ha.styleTag,ha.padding),Jb.setDialogStyle(ua,ha),Jb.setEngNavigationStyle({guideSettings:aa,stepStyle:ha}),Jb.updateDialogViewPosition(ha,L),"TOOLTIP"===ha.type&&ka?lb(fb.parentElement,aa.guideSettings,ha,ka,L):lb(fb.parentElement,aa.guideSettings,ha),!ha.overlay||!ha.overlay.blockElement)&&(aa=fb.parentElement.querySelector(".apt-guide-target-block"))&&fb.parentElement.removeChild(aa)};
this.changePositionWithFallback=function(L){var aa=L.elementData,ha=L.stepSettings;L=L.callback;var ua=parseInt(ha.position.positionTopDelta)||0,ka=parseInt(ha.position.positionLeftDelta)||0,Oa=Jb.changePosition(aa,ha.position.positionHorizontal,ha.position.positionVertical,ua,ka);ha=!Oa;if(fb&&aa&&!Oa){var $a=aa.element;Oa=fb.getBoundingClientRect();var cb=$a.getBoundingClientRect();$a=Math.abs(Oa.left-cb.left);Oa=Math.abs(Oa.right-cb.right);Oa=$a>Oa?"left":$a===Oa?"center":"right";cb=aa.element;
$a=fb.getBoundingClientRect();var ob=cb.getBoundingClientRect();cb=Math.abs($a.top-ob.top);$a=Math.abs($a.bottom-ob.bottom);Oa=Jb.changePosition(aa,Oa,cb>$a?"top":cb===$a?"center":"bottom",ua,ka)}L&&L(Oa,ha)};this.updateStepStyleForDialog=function(L){var aa=L.stepSettings,ha=L.callback,ua=L.skipReposition;Jb.updateDialogStyle({guideSettings:L.guideSettings,stepSettings:aa,engStyle:L.engStyle,elementData:null,dontReposition:L.dontReposition});ua||Jb.changePositionWithFallback({elementData:null,stepSettings:aa,
callback:ha})};this.updateStepStyle=function(L,aa,ha,ua,ka,Oa,$a,cb){var ob=$a||"BAR"===aa.position.dialogViewType,pb=function(mb){M.updateTooltipAndHotspotStyle.apply(Jb,[{guideDrawerLocalVariables:{dialog:gb,currentStepSettings:Sb,setTooltipArrowPosition:va,setHotspotStyle:ra},elementData:mb,guideSettings:L,stepSettings:aa,engStyle:ha,callback:Oa,skipReposition:ob,dontReposition:$a}])};aa?("DIALOG"===aa.type?Jb.updateStepStyleForDialog({guideSettings:L,stepSettings:aa,engStyle:ha,callback:Oa,dontReposition:$a,
skipReposition:ob}):cb?(ka=(0,M.getDummyElementCenter)(Tb),pb(ka)):db(ka,aa.type,pb,void 0,!0),fb&&F.default.setCounterVisibility(fb,ua,L.guideSettings.showStepCounter&&aa.showStepCounter)):Oa&&Oa()};this.showStep=function(L,aa,ha,ua,ka,Oa,$a,cb,ob,pb,mb){ub=Oa;$a&&(Yb=$a);mb&&(oc=mb);Wa=ob;ob.sort(function(yb,wb){return yb.sequenceNumber-wb.sequenceNumber});Oa=Bb(ob);ob=F.default.populateNavigationFlags(ob,Oa);ob.forEach(function(yb){yb.sequenceNumber===ka.sequenceNumber&&(ka.showStepCounter=yb.showStepCounter,
ka.isFirstStepNonHotspot=yb.isFirstStepNonHotspot)});Oa=-1;$a=!1;for(mb=0;mb<ob.length;mb++)ob[mb].id===ka.id&&(Oa=mb),"BADGE"===ob[mb].type&&($a=!0);return $a&&(--Oa,--ka.total),Da(L,aa,ha,ua,ka,cb,Oa,pb)};this.changePosition=function(L,aa,ha,ua,ka){var Oa=null;if(gb[0]){if((Oa=Lb.positionElement(gb[0].contentEl,L,aa,ha,ua,ka,!1,A()))&&0<Oa.length)return L&&va([aa,ha],gb[0].contentEl,Sb.backgroundColor),Oa}else{var $a=document.querySelector(".apt-hotspot-element");if($a&&(Oa=Lb.positionElement($a,
L,aa,ha,ua,ka,!0,A),0<Oa.length))return Oa}return null};this.changeBarPosition=function(L,aa){var ha="bottom",ua=0;"TOP"===L&&(ha="top",ua=aa);Lb.positionElement(gb[0].contentEl,null,"center",ha,ua,0);"BOTTOM"===L&&(gb[0].contentEl.style.bottom=aa+"px")};var Wc=function(L,aa,ha,ua){Kc=!0;ua&&(Dc=ua);L.sort(function(Oa,$a){return Oa.sequenceNumber-$a.sequenceNumber});ua=Bb(L);L=F.default.populateNavigationFlags(L,ua);kc();Z();gb=[];vb=-1;Cb=0;oc=Yb=void 0;ub=function(Oa){ha(Oa);Kc=!1};Wa=L;eb=aa;sb=
0;Pa();(0,D.addTabbableEnterListener)();var ka=(0,V.getGuideStateValue)("apt.stepId")||aa.startStepId;ka&&(Cb=L=L.findIndex(function(Oa){return Oa.id===ka}),vb=L-1);(0,V.deleteGuideStateValue)("apt.stepId");(0,V.deleteGuideStateValue)("apt.guideId");da();!ka&&(0,V.setGuideStateValue)("aptCurrentGuideUrl",n.windowRef.location.href);ea(ka?1E3:0)};this.playGuide=function(L,aa,ha,ua){aa.activationType===O.ACTIVATION_TYPE_AUTOMATIC||aa.activationTypes&&-1<aa.activationTypes.indexOf(O.EDITOR_ACTIVATION_TYPE_AUTOMATIC)?
0<aa.delay?Ec=setTimeout(function(){uc(L,aa,ha,ua)},aa.delay*l.MILLISEC):uc(L,aa,ha,ua):Wc(L,aa,ha,ua)};this.setIsDarkMode=function(L){bb=L};this.toggleSkip=function(L,aa,ha){if(0<gb.length){var ua=gb[0].contentEl;ua=ua.querySelector((0,B.getSelectorByVersion)(ua,"apt-step-footer"));F.default.toggle(ua,L,aa,ha,C.disableFocusOnClick,Ic)}};this.toggleSnooze=function(L,aa,ha,ua){if(0<gb.length){var ka=gb[0].contentEl;ka=ka.querySelector((0,B.getSelectorByVersion)(ka,"apt-step-footer"));F.default.toggleSnooze(ka,
L,aa,ha,C.disableFocusOnClick,ua,Hc)}};this.showAll=function(L,aa){L.sort(function(ua,ka){return ua.sequenceNumber-ka.sequenceNumber});Wa=L;for(var ha=0;ha<L.length;ha++)!function(ua){R(L[ua])&&(0,t.findInAll)(L[ua].elementSelector,(0,k.getRegisteredIframes)(),function(ka){if(ka){var Oa={};ka.element?(Oa.isDom=!0,Oa.element=ka.element,Da(Oa,aa.footer,L[ua].content,aa,L[ua],!0,ua,!0)):ka.iframeData&&(Oa.isDom=!1,u.default.getElementLocation(ka.iframeData,L[ua].elementSelector,function($a){$a&&1===
$a.length&&(Oa.elementRect=$a[0],Da(Oa,aa.footer,L[ua].content,aa,L[ua],!0,ua,!0))}))}})}(ha)};this.isRunning=function(){return Kc};this.hideAll=function(){ac()};this.setDefaultPaddingTop=function(L){Ba.setDefaultTopOffset((0,r.getConfig)("dockMapper")?0:L)};this.clearStepRedirectData=function(){ja()};this.close=function(L){Wb(void 0,void 0,L)}};b.GuideDrawerIframe=c;b.getSelectorByVersion=B.getSelectorByVersion},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.initKnowledgeCenterWrapper=
b.aptReady=b.aptNotReady=b.aptExternal=void 0;var y=c(1),q=c(4),w=(E=c(117))&&E.__esModule?E:{default:E},v=c(81),x=c(59),l=c(34),p=c(30),e=c(0),n=[],d=function(){w.default.call([arguments])};d.validateEngagementSecurity=function(f,m,h,g){if(!(0,e.isFunction)(g))throw"cannot run validation without callback function";if((0,e.isEmptyArr)(h))throw"cannot run validation for empty engagement array";(0,p.validateEngagements)(f,m,h,g)};b.aptExternal=d;b.aptNotReady=function(){(0,y.getConfig)("enableTag")&&
n.push(arguments)};b.aptReady=function(){for(;n&&0<n.length;)w.default.callCommand(n.shift());q.windowRef[q.aptrinsicGlobalObjName]=d};b.initKnowledgeCenterWrapper=function(f,m,h){"API"===(0,y.getConfig)("fetchKcType")||(0,l.setIsNewAPI)(!0);if((0,l.getIsNewAPI)()){if(!(0,y.isIframe)()){var g="API"===(0,y.getConfig)("fetchKcType");(!g||g&&(0,l.getKcIsShownViaAPI)())&&(0,x.initKnowledgeCenter)(f,m,null,!1,h)}}else if(!(0,y.isIframe)()){g="automatic"===(0,y.getConfig)("fetchKcType");var k=null;g||l.KcSessionStorage.getIsDefaultKc()||
(k=l.KcSessionStorage.getKcId());(g||!g&&k)&&(0,v.initKnowledgeCenter)(f,m,k,!1,h)}}},function(E,b,c){function y(){throw Error("setTimeout has not been defined");}function q(){throw Error("clearTimeout has not been defined");}function w(k){if(n===setTimeout)return setTimeout(k,0);if((n===y||!n)&&setTimeout)return n=setTimeout,setTimeout(k,0);try{return n(k,0)}catch(t){try{return n.call(null,k,0)}catch(u){return n.call(this,k,0)}}}function v(k){if(d===clearTimeout)return clearTimeout(k);if((d===q||
!d)&&clearTimeout)return d=clearTimeout,clearTimeout(k);try{return d(k)}catch(t){try{return d.call(null,k)}catch(u){return d.call(this,k)}}}function x(){h&&f&&(h=!1,f.length?m=f.concat(m):g=-1,m.length&&l())}function l(){if(!h){var k=w(x);h=!0;for(var t=m.length;t;){f=m;for(m=[];++g<t;)f&&f[g].run();g=-1;t=m.length}f=null;h=!1;v(k)}}function p(k,t){this.fun=k;this.array=t}function e(){}E=E.exports={};try{var n="function"==typeof setTimeout?setTimeout:y}catch(k){n=y}try{var d="function"==typeof clearTimeout?
clearTimeout:q}catch(k){d=q}!0;var f,m=[],h=!1,g=-1;E.nextTick=function(k){var t=Array(arguments.length-1);if(1<arguments.length)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];m.push(new p(k,t));1!==m.length||h||w(l)};p.prototype.run=function(){this.fun.apply(null,this.array)};E.title="browser";E.browser=!0;E.env={};E.argv=[];E.version="";E.versions={};E.on=e;E.addListener=e;E.once=e;E.off=e;E.removeListener=e;E.removeAllListeners=e;E.emit=e;E.prependListener=e;E.prependOnceListener=e;E.listeners=
function(k){return[]};E.binding=function(k){throw Error("process.binding is not supported");};E.cwd=function(){return"/"};E.chdir=function(k){throw Error("process.chdir is not supported");};E.umask=function(){return 0}},function(E,b,c){(function(y){function q(){var e=(0,l.a)();return e.className=l.B,(0,l.s)([e],"hidden"),e}function w(e,n){e=n?e.offsetWidth:e.offsetHeight;return{size:e,x:n?e:0,y:n?0:e}}function v(e,n,d){if(2>d.length||null===e)return n;switch(e){case "top":case "bottom":n=d[0];var f=
d[d.length-1],m="top"===e;d=n.top;var h=f.bottom,g=m?n.left:f.left;n=m?n.right:f.right;return{top:d,bottom:h,left:g,right:n,width:n-g,height:h-d};case "left":case "right":var k=Math.min.apply(Math,d.map(function(u){return u.left})),t=Math.max.apply(Math,d.map(function(u){return u.right}));d=d.filter(function(u){return"left"===e?u.left===k:u.right===t});n=d[0].top;d=d[d.length-1].bottom;return{top:n,bottom:d,left:k,right:t,width:t-k,height:d-n};default:return n}}function x(e,n){return!e||!n||e.top!==
n.top||e.right!==n.right||e.bottom!==n.bottom||e.left!==n.left}Object.defineProperty(b,"__esModule",{value:!0});b.sticky=b.inlinePositioning=b.followCursor=b.delegate=b.createSingleton=b.animateFill=b.roundArrow=b.hideAll=b.default=b.createTippyWithPlugins=void 0;var l=c(124);Object.defineProperty(b,"createTippyWithPlugins",{enumerable:!0,get:function(){return l.m}});Object.defineProperty(b,"default",{enumerable:!0,get:function(){return l.t}});Object.defineProperty(b,"hideAll",{enumerable:!0,get:function(){return l.l}});
Object.defineProperty(b,"roundArrow",{enumerable:!0,get:function(){return l.R}});c(64);var p={mouseover:"mouseenter",focusin:"focus",click:"click"};b.animateFill={name:"animateFill",defaultValue:!1,fn:function(e){var n=e.popperChildren,d=n.tooltip,f=n.content,m=e.props.animateFill&&!l.b?q():null;return{onCreate:function(){m&&(e.popperChildren.backdrop=m,d.insertBefore(m,d.firstElementChild),d.setAttribute("data-animatefill",""),d.style.overflow="hidden",e.setProps({animation:"shift-away",arrow:!1}))},
onMount:function(){if(m){var h=d.style.transitionDuration,g=Number(h.replace("ms",""));f.style.transitionDelay=Math.round(g/10)+"ms";m.style.transitionDuration=h;(0,l.s)([m],"visible");"production"!==y.env.NODE_ENV&&((0,l.w)("absolute"!==getComputedStyle(m).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),(0,l.w)("none"===getComputedStyle(d).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},
onShow:function(){m&&(m.style.transitionDuration="0ms")},onHide:function(){m&&(0,l.s)([m],"hidden")},onAfterUpdate:function(){e.popperChildren.backdrop=m}}}};b.createSingleton=function(e,n,d){void 0===n&&(n={});void 0===d&&(d=[]);"production"!==y.env.NODE_ENV&&(0,l.e)(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of tippy instances. The passed value was",String(e)].join(" "));d=n.plugins||d;e.forEach(function(t){t.disable()});var f,m,h=(0,l._)({},l.d,{},n).aria,
g=!1,k=e.map(function(t){return t.reference});return(0,l.t)((0,l.a)(),(0,l._)({},n,{plugins:[{fn:function(t){function u(z){if(f){var C="aria-"+f;z&&!t.props.interactive?m.setAttribute(C,t.popperChildren.tooltip.id):m.removeAttribute(C)}}return{onAfterUpdate:function(z,C){z=C.aria;void 0!==z&&z!==h&&(g?(g=!0,t.setProps({aria:null}),g=!1):h=z)},onDestroy:function(){e.forEach(function(z){z.enable()})},onMount:function(){u(!0)},onUntrigger:function(){u(!1)},onTrigger:function(z,C){z=C.currentTarget;C=
k.indexOf(z);z!==m&&(m=z,f=h,t.state.isVisible&&u(!0),t.popperInstance.reference=z,t.setContent(e[C].props.content))}}}}].concat(d),aria:null,triggerTarget:k}))};b.delegate=function(e,n,d){function f(H){if(H.target){var r=H.target.closest(u);if(r){var B=r.getAttribute("data-tippy-trigger")||n.trigger||l.d.trigger;(0,l.i)(B,p[H.type])&&(H=(0,l.t)(r,a))&&(t=t.concat(H))}}}function m(H,r,B,F){void 0===F&&(F=!1);H.addEventListener(r,B,F);k.push({node:H,eventType:r,handler:B,options:F})}function h(H){H=
H.reference;m(H,"mouseover",f);m(H,"focusin",f);m(H,"click",f)}function g(){k.forEach(function(H){H.node.removeEventListener(H.eventType,H.handler,H.options)});k=[]}void 0===d&&(d=[]);"production"!==y.env.NODE_ENV&&(0,l.e)(!(n&&n.target),"You must specity a `target` prop indicating a CSS selector string matching the target elements that should receive a tippy.");d=n.plugins||d;var k=[],t=[],u=n.target,z=(0,l.r)(n,["target"]),C=(0,l._)({},z,{plugins:d,trigger:"manual"}),a=(0,l._)({},z,{plugins:d,showOnCreate:!0});
e=(0,l.t)(e,C);return(0,l.n)(e).forEach(function(H){var r=H.destroy;H.destroy=function(B){void 0===B&&(B=!0);B&&t.forEach(function(F){F.destroy()});t=[];g();r()};h(H)}),e};b.followCursor={name:"followCursor",defaultValue:!1,fn:function(e){function n(Q){Object.keys(Q).forEach(function(P){I[P]=(0,l.u)(Q[P],I[P])})}function d(){var Q="manual"===e.props.trigger.trim()||null!==B&&!(0===B.clientX&&0===B.clientY);return e.props.followCursor&&Q}function f(){return l.f.isTouch||"initial"===e.props.followCursor&&
e.state.isVisible}function m(){e.popperInstance&&H&&(e.popperInstance.reference=H)}function h(){if(d()||e.props.placement!==I.placement){var Q=I.placement,P=Q.split("-")[1];F=!0;e.setProps({placement:d()&&P?Q.replace(P,"start"===P?"end":"start"):Q});F=!1}}function g(){e.popperInstance&&d()&&(f()||!0!==e.props.followCursor)&&e.popperInstance.disableEventListeners()}function k(){d()&&u(z)}function t(){r.removeEventListener("mousemove",u)}function u(Q){var P=z=Q,D=P.clientX,O=P.clientY;if(e.popperInstance&&
e.state.currentPlacement){Q=(0,l.h)(Q.target,function(V){return V===C});var W=C.getBoundingClientRect();P=e.props.followCursor;var ba="horizontal"===P,ma="vertical"===P,sa=(0,l.i)(["top","bottom"],(0,l.j)(e.state.currentPlacement));P=w(a,sa);var za=P.size,S=P.x,M=P.y;!Q&&e.props.interactive||(null===H&&(H=e.popperInstance.reference),e.popperInstance.reference={referenceNode:C,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:sa?za:0,height:sa?0:za,top:(ba?W.top:O)-M,bottom:(ba?
W.bottom:O)+M,left:(ma?W.left:D)-S,right:(ma?W.right:D)+S}}},e.popperInstance.update());f()&&t()}}var z,C=e.reference,a=e.popper,H=null,r=(0,l.g)(e.props.triggerTarget||C),B=null,F=!1,I=e.props;return{onAfterUpdate:function(Q,P){F||(n(P),P.placement&&h());P.placement&&g();requestAnimationFrame(k)},onMount:function(){k();g()},onShow:function(){"manual"===e.props.trigger.trim()&&(z=B={clientX:0,clientY:0},h(),d()?r.addEventListener("mousemove",u):m())},onTrigger:function(Q,P){B||((0,l.c)(P)&&(B={clientX:P.clientX,
clientY:P.clientY},z=P),h(),d()?r.addEventListener("mousemove",u):m())},onUntrigger:function(){e.state.isVisible||(t(),B=null)},onHidden:function(){t();m();B=null}}}};b.inlinePositioning={name:"inlinePositioning",defaultValue:!1,fn:function(e){var n=e.reference;return{onHidden:function(){e.props.inlinePositioning&&(e.popperInstance.reference=n)},onShow:function(){e.props.inlinePositioning&&(e.popperInstance.reference={referenceNode:n,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return v(e.state.currentPlacement&&
(0,l.j)(e.state.currentPlacement),n.getBoundingClientRect(),(0,l.k)(n.getClientRects()))}})}}}};b.sticky={name:"sticky",defaultValue:!1,fn:function(e){function n(){var g=!0===e.props.sticky||"reference"===e.props.sticky?(e.popperInstance?e.popperInstance.reference:d).getBoundingClientRect():null,k=!0===e.props.sticky||"popper"===e.props.sticky?f.getBoundingClientRect():null;(g&&x(m,g)||k&&x(h,k))&&e.popperInstance.update();m=g;h=k;e.state.isMounted&&requestAnimationFrame(n)}var d=e.reference,f=e.popper,
m=null,h=null;return{onMount:function(){e.props.sticky&&n()}}}}}).call(b,c(79))},function(E,b,c){function y(ia){var A=(0,a.getKcConfig)();if(A){var T=A.kcId;M=T;w(function(){X=!1;W.botEventEmmiter.dispatchEvent("WIDGET_LOADED",ia,{kcId:T})},function(K){X=!1;W.botEventEmmiter.dispatchEvent("WIDGET_FAILED",ia,{kcId:T,code:500,message:K})})}}function q(ia,A,T,K,da){T=!1;var fa=V!==A.kcId;((K||V)&&fa&&(r.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,a.setKcConfig)({})),V=A.kcId,(0,a.setKcConfig)(A),
ia||fa)?(r.KnowledgeCenterManager.initWidget({apiKey:z.eventTrackData.data[z.productIdParameter],aptId:z.eventTrackData.data[z.aptrinsicIdParam],initialConfig:A},!1,Y,da),M?(T=!0,y(da)):M!==V?(T=!1,r.KnowledgeCenterManager.registerAfterWidgetLoad(function(){return y(da)})):X=!1):fa?(T=!0,X=!1):(T=!0,w(function(){X=!1;W.botEventEmmiter.dispatchEvent("WIDGET_LOADED",da,{kcId:V})},function(Ca){X=!1;W.botEventEmmiter.dispatchEvent("WIDGET_FAILED",da,{kcId:V,code:500,message:Ca})}));T&&r.KnowledgeCenterManager.updateWidgetConfig()}
function w(ia,A){r.KnowledgeCenterManager.fetchEntriesAndSendToWidget(z.eventTrackData.data[z.productIdParameter],z.eventTrackData.data[z.aptrinsicIdParam],ia,A)}function v(){M="";r.KnowledgeCenterManager.removeWidget(V);(0,O.removeEmbeddedListeners)();V="";(0,a.setKcConfig)({});X=!1}function x(ia,A,T,K){var da=K.shouldRemoveWidget,fa=K.shouldJustClean,Ca=K.shouldDispatchEvent;K.shouldRemoveHandlers&&wa.removeAllHandler();da?v():fa&&(V="",(0,a.setKcConfig)({}),r.KnowledgeCenterManager.cleanWidget());
X=!1;Ca&&W.botEventEmmiter.dispatchEvent("WIDGET_FAILED",T,{kcId:ia,code:A,message:"Could not fetch knowledge center with provided id"})}function l(ia,A,T){var K=3<arguments.length&&void 0!==arguments[3]&&arguments[3],da=arguments[4],fa=C.UserData.isUser(),Ca=ma.UUIDGenerator.generateV4Id();(K&&Ha&&Ba&&(W.botEventEmmiter.addListener("WIDGET_LOADED",Ha,Ca),W.botEventEmmiter.addListener("WIDGET_FAILED",Ba,Ca)),X&&(F.logger.log(T+" is in progress"),x(V,500,Ca,{shouldRemoveWidget:!0,shouldJustClean:!1,
shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),!(0,a.getConfig)("widgetEnabled")||!fa||H.default.isPreview()&&H.default.getAdditionalDetails().kcId||X)||(X=!0,(0,r.fetchKnowledgeCenterConfig)(z.eventTrackData.data[z.productIdParameter],T,function(oa){if(oa){if(qa=oa.kcId,!0===oa.invalidate)return void v();var na=Object.assign({},oa);if(!(0,sa.validateConfigChecksum)(qa,na))return void x(T,500,Ca,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});t(oa,ia,
K,Ca)}else A?X=!1:x(T,500,Ca,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});da&&da(oa)},function(oa){x(T,404,Ca,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})}))}function p(ia,A,T){var K=T.onDone,da=T.onError;T="API"===(0,a.getConfig)("fetchKcType");X&&F.logger.log(ia+" is in progress");T&&(Ha=function(fa){fa=fa.kcId;A&&r.KnowledgeCenterManager.open();X=!1;K&&"function"==typeof K&&K({id:fa})},Ba=function(fa){var Ca=
fa.kcId,oa=fa.code;fa=fa.message;X=!1;da&&"function"==typeof da&&da({id:Ca,code:oa,message:fa});wa.removeAllHandler()},l(!0,!0,ia,!0))}function e(ia,A,T,K){var da=(0,a.getKcConfig)()||{},fa=da.kcId;0<Object.keys(da).length&&fa?(ia?r.KnowledgeCenterManager.open():r.KnowledgeCenterManager.close(K),"function"==typeof A&&A({kcId:fa})):"function"==typeof T&&T({kcId:fa,code:404,message:"Not bot was found with id provided"})}function n(){var ia=document.querySelector("#apt-widget");return ia?ia&&!ia.classList.contains("apt-hidden"):
null}function d(ia){try{var A=document.querySelector("#apt-widget"),T=n();A&&ia!==T&&(ia?A.classList.remove("apt-hidden"):A.classList.add("apt-hidden"))}catch(K){F.logger.log("error in togglerBotContainer "+K)}}function f(){var ia=document.querySelector("#apt-widget");return ia?!ia.querySelector(".apt-widget.apt-widget-window"):!1}function m(){clearInterval(xa);xa=null;clearTimeout(Ea);Ea=null}function h(ia,A){try{m(),f()?(A(),m()):(xa=setInterval(function(){f()&&(A(),m())},200),Ea=setTimeout(function(){m();
x(V,500,ia,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});F.logger.logInternalError(Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3E3))}catch(T){m(),x(V,500,ia,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),F.logger.log("onWidgetClosed - error"+T)}}function g(ia){return"apt-widget"===ia.id||1===ia.nodeType&&ia.querySelector("#apt-widget")}function k(ia){var A=!1,T=!1;return ia.some(function(K){return K.addedNodes.forEach(function(da){var fa=
3===da.nodeType;T||fa||(T=g(da))}),T||K.removedNodes.forEach(function(da){var fa=3===da.nodeType;A||fa||(A=g(da))}),!T&&A})}function t(ia,A,T,K){function da(){q(A,ia,null,T,K)}var fa=(0,S.getElementSelector)(ia),Ca=function(na,G){(na=k(na))&&v();(na||G)&&Fa(A,ia,fa,T,K)};if((0,S.getIsEmbedded)(ia)){var oa="injection"===getEmbeddedPositionType(ia);V!==ia.kcId&&(X=!1,r.KnowledgeCenterManager.cleanWidget(),oa&&(M="",r.KnowledgeCenterManager.removeWidget()));oa=r.KnowledgeCenterManager.checkIsInitialized();
r.KnowledgeCenterManager.checkIsInitialized()||r.KnowledgeCenterManager.checkIsInProgress()?oa&&T&&(wa.removeAllHandler(),(0,O.removeEmbeddedListeners)(),u(fa,da,function(){wa.addHandlers(Ca,K)})):((0,O.removeEmbeddedListeners)(),wa.removeAllHandler(),u(fa,da,function(){wa.addHandlers(Ca,K)}))}else da()}function u(ia,A,T){(0,ba.addDOMReadyListener)(function(){(0,P.findInAll)(ia,(0,D.getRegisteredIframes)(),function(K){K&&A(K);T&&T(K)})})}Object.defineProperty(b,"__esModule",{value:!0});b.removeWidget=
v;b.initKnowledgeCenter=l;b.fetchKcByApi=function(ia,A){if((0,I.isObject)(ia)){var T=function(){Y=!1;p(null,A,{onDone:fa,onError:da})},K=ia.id,da=ia.onError,fa=ia.onDone,Ca=ia.fetchDefault;K?(Y=!0,p(K,A,{onDone:fa,onError:function(oa){!0===Ca?T():"function"==typeof da&&da(oa)}})):!0===Ca&&T()}};b.toggleKcBot=e;var z=c(4),C=c(26),a=c(1),H=(E=c(16))&&E.__esModule?E:{default:E},r=c(34),B=c(11),F=c(2),I=c(0),Q=(E=c(36))&&E.__esModule?E:{default:E},P=c(20),D=c(5),O=c(65),W=c(96),ba=c(9),ma=c(14),sa=c(66),
za=c(18),S=c(35),M=void 0,V=void 0,X=!1,Y=!1,qa="",xa=void 0,Ea=void 0,Ha=void 0,Ba=void 0,wa=new function(){var ia=void 0,A=void 0;this.removeAllHandler=function(){A&&(Q.default.removeObserver(A),A=null);ia&&B.internalEventListener.removeListener("pageview",ia)};this.addHandlers=function(T,K){ia=function(){if("injection"===getEmbeddedPositionType((0,a.getKcConfig)())){var da=(r.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null}).element;try{!da||da&&!(0,za.elementContainsChild)((0,a.getBody)(),
da)?v():d(!1)}catch(fa){v()}}else e(!1),d(!1);T([],!0)};B.internalEventListener.addListener("pageview",ia);A=Q.default.addObserver(function(){return!0},T,function(da,fa){return k(da)||fa})}},Fa=(0,I.debounce)(function(ia,A,T,K,da){try{var fa=getEmbeddedPositionType(A);(0,O.findWidgetContainer)(T.cssSelector,da,{isNewAPI:!1,positionType:fa,fetchKcType:(0,a.getConfig)("fetchKcType"),kcId:A.kcId},{onClick:r.KnowledgeCenterManager.toggleBot,onDone:function(Ca){qa===A.kcId&&(r.KnowledgeCenterManager.updateEmbeddedMappedElement(Ca),
r.KnowledgeCenterManager.checkIsInitialized()||r.KnowledgeCenterManager.checkIsInProgress()||K?r.KnowledgeCenterManager.checkIsInitialized()&&!1===n()&&(e(!1),h(da,function(){d(!0)})):q(ia,A,Ca,K,da))},onFailed:function(){qa===A.kcId&&(K?v():(e(!1),d(!1)))}})}catch(Ca){clearInterval(xa),xa=null,F.logger.log("error in updateWidget "+Ca)}},500)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function x(l,p){for(var e=0;e<p.length;e++){var n=p[e];n.enumerable=n.enumerable||
!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(l,n.key,n)}}return function(l,p,e){return p&&x(l.prototype,p),e&&x(l,e),l}}();E=c(8);var q=c(1),w=window.localStorage,v=new E.LocalCache;c=function(){function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");}return y(x,null,[{key:"storeBadges",value:function(l,p,e){var n=JSON.parse(w.getItem("px.badge"))||{};n.sid!==l&&(n={bgl:[]});n.sid=l;n.bgl=e?p:n.bgl.concat(p);w.setItem("px.badge",JSON.stringify(n))}},
{key:"fetchBadges",value:function(l){if(!(0,q.isIframe)()){var p=JSON.parse(w.getItem("px.badge"))||{};return p.sid===l?p.bgl:[]}}},{key:"storeBadge",value:function(l,p){var e=this.fetchBadges(l),n=p.badgeSettings.id;e=e.filter(function(d){return d.badgeSettings.id!==n});e.push(p);this.storeBadges(l,e,!0)}},{key:"clearAll",value:function(){w.removeItem("px.badge")}},{key:"getBadgesOfIframe",value:function(l){var p=v.getKey("iframeBadges");return p?p[l]?p[l]:[]:(v.setdata("iframeBadges",{}),[])}},
{key:"addBadgeToIframe",value:function(l,p){-1<x.getAllBadgesInIframes().indexOf(p)&&x.removeBadgeFromIframe(p);var e=v.getKey("iframeBadges");if(e||v.setdata("iframeBadges",{}),e=v.getKey("iframeBadges"),e[l]){var n=e[l];-1===n.indexOf(p)&&n.push(p);e[l]=n}else e[l]=[p];v.setdata("iframeBadges",e)}},{key:"getIframeIdOfBadge",value:function(l){var p=v.getKey("iframeBadges"),e=void 0;if(p)for(var n=Object.keys(p),d=0;d<n.length;d+=1){var f=n[d],m=p[f];if(0<m.length&&-1<m.indexOf(l)){e=f;break}}return e}},
{key:"removeBadgeFromIframe",value:function(l){var p=v.getKey("iframeBadges");p||v.setdata("iframeBadges",{});p=v.getKey("iframeBadges");Object.keys(p).forEach(function(e){var n=p[e],d=n.indexOf(l);-1<d&&n.splice(d,1);p[e]=n});v.setdata("iframeBadges",p)}},{key:"getAllBadgesInIframes",value:function(){var l=v.getKey("iframeBadges");return(l?Object.values(l):[]).reduce(function(p,e){return p.concat(e)},[])}},{key:"setIsPreview",value:function(l){v.setdata("isPreview",l)}},{key:"getIsPreview",value:function(){return v.getKey("isPreview")}}]),
x}();b.default=c},function(E,b,c){function y(Y){return Y&&Y.__esModule?Y:{default:Y}}function q(Y,qa,xa){return qa in Y?Object.defineProperty(Y,qa,{value:xa,enumerable:!0,configurable:!0,writable:!0}):Y[qa]=xa,Y}function w(Y){var qa=document.createElement("div");return qa.innerHTML=Y,1===qa.children.length}function v(){var Y=document.querySelector(".apt-hotspot-element"),qa=document.querySelector(".apt-guide-popup");return!!Y||!!qa}function x(Y){var qa=1<arguments.length&&void 0!==arguments[1]&&arguments[1],
xa=Y.positionTopDelta,Ea=Y.positionLeftDelta,Ha=Y.positionVertical,Ba=Y.positionHorizontal;Ha=Ha.toLowerCase();Ba=Ba.toLowerCase();"middle"===Ha&&(Ha="center");var wa=Ha,Fa=xa;xa=("center"===wa&&"left"===Ba?Ea=0-Ea:"top"===wa&&(Fa=0-Fa),"center"===wa?Fa+", "+Ea:Ea+", "+Fa);return{position:"center"===Ha?Ba:"center"===Ba?Ha:Ha+"-"+(Ba===(qa?"left":"right")?"end":"start"),offset:xa}}function l(Y,qa){return Element.prototype.matches?Y.matches(qa):Element.prototype.msMatchesSelector?Y.msMatchesSelector(qa):
(C.logger.log("returning true since matches functionality is missing"),!0)}function p(Y,qa,xa){var Ea=Y.elementSelector,Ha=Y.id,Ba=Ea.matchCssSelector,wa=Ea.selector;Y=Ea.cssSelector;var Fa=Ea.matchTextRule,ia=Ea.textRule;ia=Ea.htmlTextRule||JSON.parse(ia)||{};Ba={matchCssSelector:Ba,cssSelector:wa||Y,matchTextRule:Fa,textRuleOperator:ia.operator,textRuleValues:ia.values};wa=void 0;try{(wa=(0,P.elementContainsChild)(document,qa))&&Y&&(wa=l(qa,Y))}catch(A){wa=!1}wa?xa(qa):(0,a.findInAll)(Ba,(0,r.getRegisteredIframes)(),
function(A){var T=void 0,K=Q.default.getIframeIdOfBadge(Ha);A&&A.iframeData?(K&&K!==A.iframeData.iframeId&&H.default.removeBadgeFromIframe((0,r.getIframeData)(K),Ha),H.default.sendBadgeToIframe(A.iframeData,{id:Ha,elementSelector:Ea})):A&&A.element?(T=A.element,K&&H.default.removeBadgeFromIframe(K)):(C.logger.log("Could not find target element for badge with selector "+Ea.cssSelector),T=void 0);xa(T)})}function e(Y){try{var qa=Y?Y.trim():Y;if(w(Y))return qa;var xa=document.createElement("div");return xa.innerHTML=
qa,xa}catch(Ea){return C.logger.logInternalError(Error("Badge Tooltip createElementFromHTML "+Ea)),""}}Object.defineProperty(b,"__esModule",{value:!0});b.ICON_MAP=void 0;var n,d,f=function(){return function(Y,qa){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y)){var xa=[],Ea=!0,Ha=!1,Ba=void 0;try{for(var wa,Fa=Y[Symbol.iterator]();!(Ea=(wa=Fa.next()).done)&&(xa.push(wa.value),!qa||xa.length!==qa);Ea=!0);}catch(ia){Ha=!0,Ba=ia}finally{try{!Ea&&Fa.return&&Fa.return()}finally{if(Ha)throw Ba;
}}return xa}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.checkStringHasWrapper=w;b.findTarget=p;b.formatContentForTooltip=e;b.Badge=function(Y,qa,xa){function Ea(ca){try{if(R){var la=R.state.isVisible;ca&&!la?R.show():!ca&&la&&(R.setProps({duration:[0,0]}),R.hide(),R.setProps({duration:[300,250]}))}}catch(ea){C.logger.logInternalError(Error("Error in change visibility of tooltip"+ea))}}function Ha(ca,la,ea){!R&&la?wa(ca,la,!1,ea):R&&la!==R.state.isVisible&&la&&
Ea(!0)}function Ba(ca){try{if(ca){var la=ca.backgroundColor,ea=ca.height,pa=ca.autoHeight,Aa=ca.width,Ja=ca.showTooltipArrow;if(R){var Sa=R.popper;Sa.classList.add("apt-badge-tippy");Sa.setAttribute("aria-live","polite");var Va=Sa.firstChild,db=Va.querySelector(".tippy-content");if(pa?db.style.height="":ea&&(db.style.height=ea+"px"),Aa&&(db.style.width=Aa+"px"),Ja)Va.querySelector(".tippy-arrow").style.color=la;ca.shadow?ca.shadowSettings&&(0,O.setShadow)(Va,ca.shadowSettings):Z&&(Va.style.removeProperty("filter"),
Va.style.removeProperty("-webkit-filter"));Va.style.backgroundColor=la}}}catch(Pa){C.logger.logInternalError(Error("Error in update tooltip: "+Pa))}}function wa(ca,la){var ea=2<arguments.length&&void 0!==arguments[2]&&arguments[2],pa=arguments[3],Aa=ca.positionSettings,Ja=ca.text,Sa=ca.textColor,Va=ca.showTooltipArrow,db=ca.lightThemeStyle,Pa=ca.cssLibraryStyle,hb=ca.darkThemeStyle;R&&R.state&&!R.state.isDestroyed&&R.destroy();var Ya=x(Aa,!0);Aa=Ya.position;Ya=Ya.offset;var qb=Ja,jb="#06f263"!==Sa,
va=document.createElement("div");!(va.innerHTML=Ja,0<va.children.length)&&jb&&(qb="\x3cdiv style\x3d'color: "+Sa+"'\x3e"+Ja+"\x3c/div\x3e");Ja=e(qb);if(la=la||Z,Ja)ea={trigger:la?"manual":ea?"click":"mouseenter focus",zIndex:(0,g.getNumberWithFallback)(pa,W),showOnCreate:la,hideOnClick:!la,arrow:!!(0,g.isNullOrUndefined)(Va)||Va,theme:"badge",placement:Aa,offset:Ya,content:Ja,interactive:!0,allowHTML:!0,flip:!1,maxWidth:"none",sticky:!0,plugins:[h.sticky]},(0,D.useComputeStyleModifierForTooltip)(ea),
R=(0,B.addTooltipToElement)(J,ea);R&&(Ba(ca),R.popper&&R.popper.firstChild&&(ea=R.popper.firstChild,(0,k.addStyleTag)(ea,ta?hb:db,"apt-badge-tippy"),(0,k.addStyleTag)(ea,Pa,"apt-badge-tippy")),la&&Ea(!0))}function Fa(ca){var la=this,ea=x(ca,!1),pa=ea.offset;ea={placement:ea.position,removeOnDestroy:!1,positionFixed:(0,z.getConfig)("badgesUseFixedPosition"),modifiers:{offset:{offset:pa},flip:{enabled:!1}}};((0,D.useComputeStyleModifier)(ea),this.targetData)?(ea.modifiers.applyStyle={fn:function(Aa){if((0,g.isObject)(Aa.styles)&&
(Object.keys(Aa.styles).forEach(function(Va){var db=Aa.styles[Va];"transform"!==Va&&Aa.instance.popper.style.setProperty(Va,db)}),la.targetData.rect)){var Ja=new I.default,Sa=ca.positionVertical.toLowerCase();"middle"===Sa&&(Sa="center");Ja.positionElement(Aa.instance.popper,{isDom:!1,elementRect:la.targetData.rect},ca.positionHorizontal.toLowerCase(),Sa,ca.positionTopDelta,ca.positionLeftDelta,!1,!1,!0,la.targetData.pageYOffset)}return Aa}},ea.onUpdate=function(){K(la.targetData.isVisible);J.style.removeProperty("visibility")}):
ea.onUpdate=da.bind(this);return new m.default(this.target||(0,z.getBody)(),J,ea)}function ia(ca){var la=ca.altSettings;la=la&&la.enabled;var ea=ca.engagementTrigger===sa;return(ca.standalone||ea)&&la}function A(){if(this.target||this.targetData){var ca=this.badgeAttr,la=ca.altSettings,ea=ca.standalone,pa=ca.engagementTrigger,Aa=ca.customZIndex;(G=Fa.apply(this,[ca.positionSettings]),G.scheduleUpdate(),ia(this.badgeAttr))&&wa(la,!1,ea&&pa===sa,Aa)}}function T(ca,la){M(ca,function(ea){J||=document.querySelector("#"+
N);J.innerHTML=ea;Object.assign(J.firstChild.style,{height:"100%",width:"100%",padding:"7%",stroke:la,boxSizing:"border-box"})})}function K(ca){try{J&&(ca?(J.classList.remove(ba),na||G&&G.scheduleUpdate()):(Ea(!1),J.classList.add(ba))),na=ca}catch(la){C.logger.log("toggleVisibility - "+la)}}function da(){var ca=this;J.style.removeProperty("visibility");Z||p(this.badgeAttr,this.target,function(la){(ca.target=la,la)?(la=(0,g.isElementVisible)(ca.target,!0,!0),G.reference=ca.target,ca.isRendered?K.call(ca,
la):ca.render()):ca.destroy()})}function fa(ca,la){var ea=za[ca];if(ea){var pa=function(){var Aa=v();Y.standalone||Aa||(Y.isPreview?Y.clickCallback&&Y.clickCallback(Y.id):((0,u.default)(la,"b",function(Ja){Ja.content.contentType===F.IN_APP_GUIDE&&Ja.content.steps&&Array.isArray(Ja.content.steps)&&(Ja=f(Ja.content.steps,1)[0])&&"TOOLTIP"===Ja.type&&0===Ja.sequenceNumber&&Ja.stickToBadge&&(Ja.matchCssSelector=!0,Ja.cssSelector="#"+J.id)}),"ONCE"===Y.qualificationScopeType&&ca===sa&&Y.clickCallback&&
Y.clickCallback(Y.id)))};Y.standalone&&(0,g.addEnterKeyDownListener)(J,function(){Ea(!R.state.isVisible)});(0,g.addEnterKeyDownListener)(J,pa);(0,g.addEventListener)(J,ea,pa)}}function Ca(ca){var la=ca.engagementTrigger,ea=ca.badgeIcon,pa=ca.badgeIconColor,Aa=ca.backgroundColor,Ja=ca.backgroundFill,Sa=ca.useImage,Va=ca.imageUrl,db=ca.onClick,Pa=ca.engagementId,hb=ca.borderColor,Ya=ca.borderWidth,qb=ca.badgeHotspotSettings.spotSize+"px";ca={zIndex:(0,g.getNumberWithFallback)(ca.customZIndex,W),height:qb,
width:qb,borderColor:hb,borderWidth:Ya+"px"};Sa&&Va?(ea=(0,g.createElement)("img"),ea.src=Va,ca.backgroundColor="transparent",0<J.children.length?J.replaceChild(ea,J.children[0]):J.appendChild(ea)):ea?(ca.backgroundColor=(0,g.hexToRgba)(Aa,"number"==typeof Ja?Ja/100:1),T(ea,pa)):C.logger.log("No image nor icon were found for badge");Object.assign(J.style,ca);J.id=N;fa(la,Pa,db);na=V}var oa=this,na=X,G=void 0,J=void 0,R=void 0,N="apt-"+Y.id,U={},Z=!1,ta=!1;(function(){var ca=this;this.badgeAttr=Y;
this.isRendered=!1;xa?(this.targetData=xa,this.target=qa):qa?this.target=qa:p(Y,null,function(la){ca.target=la})}).apply(this);this.saveChanges=function(){this.badgeAttr=Object.assign(this.badgeAttr,U)};this.createTooltip=function(){var ca=this.badgeAttr,la=ca.engagementTrigger,ea=ca.customZIndex;wa(ca.altSettings,!1,ca.standalone&&la===sa,ea,ea)};this.getTooltip=function(){return R};this.setEditMode=function(ca){Z=ca};this.setIsDarkMode=function(ca){ta=ca};this.clear=function(){Ha(this.badgeAttr.altSettings,
!0,this.badgeAttr.customZIndex)};this.toggleTooltip=function(ca){var la=this.badgeAttr,ea=la.altSettings;la=la.customZIndex;(ia(this.badgeAttr)&&ca||!ca)&&Ha(ea,ca,la)};this.repositionTooltip=function(){R&&R.popperInstance&&R.popperInstance.scheduleUpdate()};this.updateTooltipContent=function(ca){this.badgeAttr.altSettings.text=e(ca)};this.update=function(ca,la){var ea=-1<la.indexOf("all"),pa=-1<la.indexOf("altSettings"),Aa=ca.altSettings;if(!R&&Aa.enabled&&this.createTooltip(),R&&(ea||Aa&&pa)){U=
Object.assign(U,ca);var Ja=U.altSettings;var Sa=R?R.state.isVisible!==Aa.enabled:!0;if(R){var Va=x(Aa.positionSettings,!0);var db=Va.offset,Pa=R.props,hb=Pa.offset;Va=Va.position!==Pa.placement||db!==hb}else Va=!0;db=R?R.props.arrow!==Aa.showTooltipArrow:!0;Va?(Aa=x(Aa.positionSettings,!0),R.setProps({placement:Aa.position,offset:Aa.offset}),R.popperInstance.scheduleUpdate()):db?(R.setProps({arrow:Aa.showTooltipArrow}),Aa.showTooltipArrow&&Ba(Ja)):Sa?Ea(Aa.enabled):0<Object.keys(Aa).length&&Ba(Ja)}if(ea||
!pa)U=Object.assign(U,ca),R&&R.popperInstance&&R.popperInstance.scheduleUpdate(),(R&&R.setProps({zIndex:U.customZIndex}),-1<la.indexOf("positionSettings"))?Fa.apply(this,[U.positionSettings]):-1<la.indexOf("engagementTrigger")?(la=U,ca=la.altSettings,la=la.customZIndex,ea=ia(U),Ha(ca,ea,la),ea||R&&R.setProps({trigger:""})):Ca.apply(this,[U])};this.scheduleUpdatePopper=function(){var ca=this;p(this.badgeAttr,this.target,function(la){(ca.target=la)&&(G.reference=ca.target);G&&G.scheduleUpdate()})};
this.changePosition=function(ca){this.target&&(ca=Object.assign(this.badgeAttr.positionSettings,ca),Fa.apply(this,[ca]))};this.getDomElement=function(){return J};this.destroy=function(){try{R&&R.state&&!R.state.isDestroyed&&R.destroy(),J=document.querySelector("#"+N),(0,D.logBadgeForAppian)("Looking for badge "+N),J&&((0,D.logBadgeForAppian)("found badge "+N),J.parentNode.removeChild(J)),(0,D.logBadgeForAppian)("Trying to destroy popper for "+N),G&&G.reference&&((0,D.logBadgeForAppian)("Popper destoryed for "+
N),G.destroy()),this.isRendered=!1,J=null}catch(ca){(0,D.logBadgeForAppian)("Error in destroy badge "+N,ca),C.logger.logInternalError(Error("Could not destroy badge: "+ca))}};this.updateTargetData=function(ca,la){oa.targetData=la;oa.target=ca};this.render=function(ca){if(this.target||this.targetData){ca=ca||(0,z.getBody)();J&&this.destroy();J=(0,g.createElement)("div","apt-badge",{});Z||(J.style.visibility="hidden");Ca.apply(this,[this.badgeAttr]);ca.appendChild(J);A.apply(this);this.isRendered=!0;
this.badgeAttr.isViewed||(this.badgeAttr.isViewed=!0);J.setAttribute("tabindex",F.TAB_INDEX_START-1);var la=this.badgeAttr;ca=la.altSettings;la=la.alternateText;var ea=ca&&ca.enabled;la?J.setAttribute("aria-label",la):ea?J.setAttribute("aria-label",(0,k.stripHtml)(ca.text)):J.setAttribute("aria-label","Badge");(0,k.disableFocusOnClick)(J)}}};E=c(64);var m=y(E),h=c(80),g=c(0),k=c(7),t=c(13);E=c(139);var u=y(E),z=c(1),C=c(2),a=c(20),H=y(a),r=c(5),B=c(53),F=c(6);E=c(38);var I=y(E);E=c(82);var Q=y(E),
P=c(18),D=c(84),O=c(17),W="99998",ba="apt-badge--hidden";c=function(Y){return"BADGE_ICON_"+Y};E=function(Y){return z.staticContentHost+"/images/badge/types/"+Y+".svg"};var ma=b.ICON_MAP=(n={},q(n,c(1),E("announce")),q(n,c(2),E("bulb")),q(n,c(3),E("cap")),q(n,c(4),E("exclam")),q(n,c(5),E("question")),q(n,c(6),E("flag")),q(n,c(7),E("guide")),q(n,c(8),E("arrow")),q(n,c(9),E("badge")),q(n,c(10),E("check")),q(n,c(11),E("cross")),q(n,c(12),E("dash")),q(n,c(13),E("feedback")),q(n,c(14),E("info")),q(n,c(15),
E("nps")),q(n,c(16),E("star")),q(n,c(17),E("tooltip")),n),sa="ON_CLICK",za=(d={},q(d,sa,"click"),q(d,"ON_HOVER","mouseover"),d),S={},M=function(Y,qa){var xa=S[Y];if(xa)return qa(xa);t.AjaxUtil.getData(ma[Y],function(Ea){return S[Y]=Ea,qa(Ea)})},V=!0,X=!1},function(E,b,c){function y(l){var p=(0,w.getBody)().getBoundingClientRect().top,e=l.offsets.popper,n=e.left;e=e.top;return 0<p&&(e-=p),l.styles.top="0px",l.styles.left="0px",l.styles.transform="translate("+n+"px, "+e+"px)",l.styles.willChange="transform",
l}function q(l){(0,w.getConfig)("enableModalBodyScroll")||(l.modifiers.computeStyle={fn:y})}Object.defineProperty(b,"__esModule",{value:!0});b.useComputeStyleModifier=q;b.useComputeStyleModifierForTooltip=function(l){(0,w.getConfig)("enableModalBodyScroll")||(l.popperOptions={modifiers:{}},q(l.popperOptions))};b.logBadgeForAppian=function(l,p){var e=(0,x.getProduct)((0,x.getCurrentProductId)());(e=-1<["WFP8KQRSLUDB","FR6WJFXU3UWQ","ZNOUUZAVEFVY","VFU6ONL15QEY","524OZQKRGHKN"].indexOf(e))&&(p?v.logger.logInternalError(p,
"BADGE_APP_35294_ERROR "+l,e):v.logger.logInternalError(Error(l),"BADGE_APP_35294_MESSAGE",e))};var w=c(1),v=c(2),x=c(21)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(q){var w=q.radioOptions,v=q.name,x=q.selectCallback,l=null;this.getSelectedValue=function(){return l};this.render=function(){var p=[];return w&&w.forEach(function(e){var n=(0,y.createInput)("radio","",e.value,"",!1,e.selected,null,{name:v,tabIndex:e.tabIndex||-1});if(e.selected&&(l=e.value),e&&
e.value||0===e.value){var d=e.children,f=e.text;e={};var m=[n];f&&(e.text=f);d&&m.push(d);d=q.childrenClassName.split(" ");d=(0,y.createElement)("label",d,e,m);(0,y.addEventListener)(d,"click",function(){l=n.value;x&&x(n.value)});p.push(d)}}),(0,y.createElement)("div",q.className,null,p)}};var y=c(0)},function(E,b,c){function y(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function");}function q(P,D,O,W){var ba=a[P];ba||(ba={},a[P]=ba);ba[D]=new B(D,W,O)}function w(P,D){return(D=
(P=a[P])?P[D]:null)?D.handlerFunc:null}function v(P){var D=a[P];D&&Object.values(D).forEach(function(O){switch(O.type){case "CLICK":(0,h.removeEventListener)(document,"click",O.handlerFunc);break;case "PAGE":k.internalEventListener.removeListener("pageview",O.handlerFunc)}});delete a[P];try{C.default.removeObserver(H[P])}catch(O){}delete H[P]}function x(P,D,O,W){try{(0,t.findInAll)(D.elementSelector,(0,z.getRegisteredIframes)(),function(ba){ba&&(ba.element||ba.iframeData)&&!1!==ba.isVisible||(C.default.removeObserver(H[D.id]),
v(D.id),W(D,O))})}catch(ba){g.logger.logInternalError(ba,"failure in mutation observer handler for guide tooltip on redirect"),W(D),C.default.removeObserver(H[D.id]),v(D.id)}}function l(P,D){D=D.modal&&0<D.overlayFill;return P.overlay&&P.overlay.modal?0<P.overlay.fill:D}function p(P,D,O,W,ba,ma,sa){try{if(!l(ma,sa))if("STEP"!==O||(0,h.hasParentClass)(P.target,"px-engagement-wrapper-guide")||(0,h.hasParentClass)(P.target,"apt-guide-target-block"))"ELEMENT"!==O||(0,h.hasParentClass)(P.target,"px-engagement-wrapper-guide")||
(W.isDom?W.element&&!(0,h.hasElement)(W.element,P.target)&&(ba(ma,sa),(0,h.removeEventListener)(document,"click",w(ma.id,D)),v(ma.id)):(r[W.iframeSource.iframeId]={handlerId:D,stepSettings:ma,guideSettings:sa,errorHandler:ba},u.default.addOutsideEventHandler(W.iframeSource,ma.elementSelector)));else{if(W.isDom&&W.element&&(0,h.hasElement)(W.element,P.target))return void setTimeout(function(){(0,h.isElementVisibleProxy)(W.element,!1,null)||(ba(ma,sa),(0,h.removeEventListener)(document,"click",w(ma.id,
D)),v(ma.id))},1500);ba(ma,sa)}}catch(za){g.logger.logInternalError(za,"failed to handle tooltip action for show hide"),(0,h.removeEventListener)(document,"click",w(ma.id,D)),v(ma.id)}}function e(P,D,O,W){try{(0,t.findInAll)(D.elementSelector,(0,z.getRegisteredIframes)(),function(ba){ba&&(ba.element||ba.iframeData)&&!1!==ba.isVisible||W(D)}),k.internalEventListener.removeListener("pageview",w(D.id,P)),v(D.id)}catch(ba){g.logger.logInternalError(ba,"failure in page change handler for guide tooltip on redirect"),
W(D),k.internalEventListener.removeListener("pageview",w(D.id,P)),v(D.id)}}function n(P,D,O){D=(0,h.getHandler)(!1,e,P,D,O);D=m(D,2);O=D[1];q(P.id,D[0],O);k.internalEventListener.addListener("pageview",O,"PAGE")}function d(P,D,O,W,ba){P=(0,h.getHandler)(!0,p,P,D,ba,O,W);D=m(P,2);P=D[0];D=D[1];(0,h.addEventListener)(document,"click",D);q(O.id,P,D,"CLICK")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function P(D,O){for(var W=0;W<O.length;W++){var ba=O[W];ba.enumerable=ba.enumerable||
!1;ba.configurable=!0;"value"in ba&&(ba.writable=!0);Object.defineProperty(D,ba.key,ba)}}return function(D,O,W){return O&&P(D.prototype,O),W&&P(D,W),D}}(),m=function(){return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P)){var O=[],W=!0,ba=!1,ma=void 0;try{for(var sa,za=P[Symbol.iterator]();!(W=(sa=za.next()).done)&&(O.push(sa.value),!D||O.length!==D);W=!0);}catch(S){ba=!0,ma=S}finally{try{!W&&za.return&&za.return()}finally{if(ba)throw ma;}}return O}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),h=c(0),g=c(2),k=c(11),t=c(20),u=t&&t.__esModule?t:{default:t},z=c(5),C=(E=c(36))&&E.__esModule?E:{default:E},a={},H={},r={},B=function ba(D,O,W){y(this,ba);this.handlerId=D;this.type=O;this.handlerFunc=W},F=["REDIRECT","SHOW_NEXT","GO_TO_STEP","END_GUIDE"],I=["SHOW_NEXT","REDIRECT","SHOW_ON_NEXT_PAGE","GO_TO_STEP","END_GUIDE"],Q=["REDIRECT","SHOW_ON_NEXT_PAGE"];E=new (function(){function D(){y(this,D)}return f(D,[{key:"addNavigationHandler",value:function(O,W,ba,ma){if("TOOLTIP"===W.type){var sa=
(0,h.getHandler)(!1,x,W,ba,ma),za=m(sa,2)[1],S=W.navigation;sa=S.nextStepTrigger;S=S.nextButtonAction;za=C.default.addObserver(function(){return!0},za);switch(H[W.id]=za,sa){case "NAVIGATION_CLICK":-1<F.indexOf(S)?("REDIRECT"===S&&n(W,ba,ma),d("STEP",O,W,ba,ma)):g.logger.trace("Tried adding tooltip handler for navigation click with unsupported next action type");break;case "ELEMENT_CLICK":-1<I.indexOf(S)?(d("ELEMENT",O,W,ba,ma),-1<Q.indexOf(S)&&n(W,ba,ma)):g.logger.trace("Tried adding tooltip handler for element click with unsupported next action type");
break;case "ELEMENT_HOVER":case "INPUT_TEXT_COMPLETION":d("ELEMENT",O,W,ba,ma);break;default:g.logger.trace("Tried adding tooltip handler with unsupported next trigger type")}}}},{key:"handleIframeExternalClick",value:function(O){(O=r[O])&&((0,h.removeEventListener)(document,"click",w(O.stepSettings.id,O.handlerId)),v(O.stepSettings.id))}},{key:"removeAllHandlers",value:function(){try{Object.keys(a).forEach(function(O){v(O)})}catch(O){g.logger.logInternalError(O,"failed to remove all handlers")}}}]),
D}());b.default=E},function(E,b,c){function y(d,f,m){function h(){return(0,w.validateComment)(d,a,H)}function g(){ma.classList.remove("apt-hidden");ba.classList.remove("apt-hidden");za.classList.add("apt-hidden");sa.classList.add("apt-hidden")}function k(S,M,V){var X=!0,Y=!1,qa=void 0;try{for(var xa,Ea=S[Symbol.iterator]();!(X=(xa=Ea.next()).done);X=!0){var Ha=xa.value;if(M===Ha.from)return void(V.innerHTML=Ha.comment)}}catch(Ba){Y=!0,qa=Ba}finally{try{!X&&Ea.return&&Ea.return()}finally{if(Y)throw qa;
}}}function t(S){S=D.getLabelElements(S);for(var M=document.createDocumentFragment(),V=0;V<S.length;++V)M.appendChild(S[V]);(0,p.arrayFrom)(I.childNodes).forEach(function(X){return I.removeChild(X)});I.appendChild(M);I.classList.contains("labelWrapperElement.classList")||I.classList.add("px-labels-show")}function u(S){g();S?(ba.classList.add("apt-hidden"),sa.classList.remove("apt-hidden")):(ma.classList.add("apt-hidden"),za.classList.remove("apt-hidden"));z=S;d.showDynamicComment&&k(d.dynamicComments,
z,B);d.labelSetting&&d.labelSetting.enabled&&t(S);Q.forEach(function(M){M.style.display="none"});P.forEach(function(M){return!M.classList.contains("apt-survey-show")&&M.classList.add("apt-survey-show")});d.mergeFirstSteps&&F.classList.remove("apt-survey-submit-disabled");!d.mergeFirstSteps&&(0,n.isSnoozeButtonEnabled)(d.activationType,d.snoozeButton,d.activationTypes)&&(0,e.hideSnooze)()}var z=null,C=void 0,a=void 0,H=void 0,r=void 0,B=void 0,F=void 0,I=void 0,Q=[],P=[],D=void 0,O=x.TAB_INDEX_START+
1,W=O,ba=(0,q.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30' \x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n        \x3cg stroke\x3d"+d.positiveButtonBorderColor+" fill\x3d"+d.positiveButtonBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+d.positiveButtonBorderWidth+" \x3e\n            \x3cpath d\x3d'M13.5 9H18V18.5H13.5z' transform\x3d'translate(6 5) matrix(-1 0 0 1 31.5 0)' /\x3e\n              \x3cpath d\x3d'M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform\x3d'translate(6 5)' /\x3e\n        \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
ba.setAttribute("aria-label","positive");ba.setAttribute("role","button");ba.style.width="250px";ba.style.height="70px";var ma=(0,q.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30'\x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n            \x3cg stroke\x3d"+d.negativeButtonBorderColor+" fill\x3d"+d.negativeButtonBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+d.negativeButtonBorderWidth+
" \x3e\n                \x3cpath d\x3d'M0 0.5H4.5V10H0z' transform\x3d'translate(6 5) matrix(1 0 0 -1 0 10.5)' /\x3e\n              \x3cpath d\x3d'M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform\x3d'translate(6 5)' /\x3e\n            \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
ma.setAttribute("aria-label","negative");ma.setAttribute("role","button");ma.style.width="250px";ma.style.height="70px";var sa=(0,q.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30' \x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n            \x3cg stroke\x3d"+d.selectedButtonsBorderColor+" fill\x3d"+d.selectedButtonsBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+d.selectedButtonsBorderWidth+
" \x3e\n              \x3cpath d\x3d'M13.5 9H18V18.5H13.5z' transform\x3d'translate(6 5) matrix(-1 0 0 1 31.5 0)' /\x3e\n              \x3cpath d\x3d'M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform\x3d'translate(6 5)' /\x3e\n            \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
sa.setAttribute("aria-label","positive selected");sa.setAttribute("role","button");sa.style.width="250px";sa.style.height="70px";var za=(0,q.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30'\x3e\n            \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n                \x3cg stroke\x3d"+d.selectedButtonsBorderColor+" fill\x3d"+d.selectedButtonsBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+
d.selectedButtonsBorderWidth+" \x3e\n                \x3cpath d\x3d'M0 0.5H4.5V10H0z' transform\x3d'translate(6 5) matrix(1 0 0 -1 0 10.5)' /\x3e\n              \x3cpath d\x3d'M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform\x3d'translate(6 5)' /\x3e\n                \x3c/g\x3e\n            \x3c/g\x3e\n        \x3c/svg\x3e");
za.setAttribute("aria-label","negative selected");za.setAttribute("role","button");za.style.width="250px";za.style.height="70px";this.getData=function(){return{selected:z,comment:a.value,contactMeAllowed:d.showContactMeMessage?r.checked:null,labels:d.labelSetting&&d.labelSetting.enabled?D.getSelectedLabels():[]}};this.hide=function(){C.style.display="none"};this.focus=function(){var S=null!=z&&ma?ma:C.querySelector('[tabindex\x3d"'+O+'"]');S&&(0,v.focusElement)(S)};this.render=function(S){var M=(0,v.toDom)(d.titleHtml,
!1),V=d.contactMeMessage||"It's okay to contact me about my feedback";(0,n.addTabbableEnterListener)();a=(0,q.createElement)("textArea");r=(0,q.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":V});H=(0,q.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});H.setAttribute("role","alert");g();var X=(0,q.createElement)("div",["apt-contact-wrapper"],void 0,[r,(0,q.createElement)("div","apt-contact-me-text",{text:V,dataAtt:[{name:"aria-hidden",
value:"true"}]})]);!d.showContactMeMessage&&(X.style.display="none");B=d.showDynamicComment?(0,q.createElement)("div"):(0,v.toDom)(d.defaultComment);var Y=(0,q.createElement)("div",["apt-survey-choices-wrapper"],null,[(0,q.createElement)("div","apt-survey-choices",null,[ma,za,ba,sa]),(0,q.createElement)("div","apt-survey-choices-legend",null,[(0,q.createElement)("div",null,null,[(0,v.toDom)(d.notSatisfiedHtml)]),(0,q.createElement)("div",null,null,[(0,v.toDom)(d.satisfiedHtml)])])]),qa=(0,q.createElement)("div",
["apt-survey-comment"],null,[B]),xa=(0,q.createElement)("div","apt-survey-submit-text",{text:(0,q.isBlank)(d.buttonText)?"Submit":d.buttonText});F=(0,q.createElement)("div","apt-survey-submit",null,[xa]);V=(0,q.createElement)("div","px-submit-container",null,[F]);var Ea=d.labelSetting;Ea&&Ea.enabled&&(D=new l.default(Ea.ranges,Ea));xa.setAttribute("aria-hidden","true");F.setAttribute("role","button");F.setAttribute("aria-label",xa.textContent);I=(0,q.createElement)("div",["px-survey-labels"]);xa=
(0,q.createElement)("div","bottom-feedback-container",null,[a,H,"DIALOG"===d.viewType&&X,V]);X=(0,q.createElement)("div","apt-feedback-text-wrapper",null,[xa,"BAR"===d.viewType&&(0,q.createElement)("div","",null,[X])]);qa=(0,q.createElement)("div","apt-survey-feedback",null,[qa,I,X]);qa.setAttribute("aria-live","polite");"BAR"===d.viewType&&(xa.classList.add("bottom-feedback-container-bar"),F.classList.add("apt-survey-submit-bar"));F.style.color=d.submitButtonTextColor;F.style.backgroundColor=d.submitButtonBackgroundColor;
F.style.borderWidth=d.submitButtonBorderWidth+"px";F.style.borderRadius=d.submitButtonBorderRadius+"px";F.style.borderColor=d.submitButtonBorderColor;a.placeholder=d.placeholderText||"Share your thoughts about your choice...";(0,q.addEventListener)(a,"keyup",h);Y=[(0,q.createElement)("div","apt-survey-title",null,[M]),Y,qa];W=(0,e.addSnoozeForScoreSurvey)(d,S,V,Y,W);d.showFooter&&Y.push((0,v.toDom)(d.footer,!1,"apt-survey-footer"));C=(0,q.createElement)("div","apt-survey-step",null,Y);C.setAttribute("id",
"step-"+d.id);W=O;W=(0,n.setTabIndexes)(M,W);ma.setAttribute("tabindex",W);za.setAttribute("tabindex",W);W+=1;ba.setAttribute("tabindex",W);sa.setAttribute("tabindex",W);W+=1;W=(0,n.setTabIndexes)(B,W);D&&(W=D.setTabIndexes(W));a.setAttribute("tabindex",W);W+=1;r.setAttribute("tabindex",W);W+=1;F.setAttribute("tabindex",d.mergeFirstSteps?x.NO_TAB_INDEX:W);W+=1;S=function(){h()&&f()};(0,q.addEventListener)(F,"click",S);(0,q.addEnterKeyDownListener)(F,S);m(F);S=function(){u(0)};m(r);(0,q.addEventListener)(ma,
"click",S);(0,q.addEnterKeyDownListener)(ma,S);m(ma);m(za);S=function(){u(1)};return(0,q.addEventListener)(ba,"click",S),(0,q.addEnterKeyDownListener)(ba,S),m(ba),m(sa),!d.mergeFirstSteps&&Q.push(M),!d.mergeFirstSteps&&P.push(qa),d.mergeFirstSteps&&qa.classList.add("apt-survey-show"),d.mergeFirstSteps&&F.classList.add("apt-survey-submit-disabled"),C};this.getSettings=function(){return d};this.getHtml=function(){return d.titleHtml+d.notSatisfiedHtml+d.satisfiedHtml+d.defaultComment}}Object.defineProperty(b,
"__esModule",{value:!0});var q=c(0),w=c(45),v=c(7),x=c(6),l=(E=c(63))&&E.__esModule?E:{default:E},p=c(10),e=c(28),n=c(17);y.getHtml=function(d){return d.titleHtml+d.notSatisfiedHtml+d.satisfiedHtml+d.defaultComment};b.default=y},function(E,b,c){function y(l,p,e,n){var d=(0,q.isBlank)(p.buttonText)?p.isLast?"Close":"Next":p.buttonText,f=(0,w.toDom)(l,!1,"apt-survey-title"),m=v.TAB_INDEX_START+1,h=m;h=(0,x.setTabIndexes)(f,h);var g=(0,q.createElement)("div","apt-survey-close-button",null,[(0,q.createElement)("div",
"apt-survey-close-text",{text:d})]);g.setAttribute("tabindex",h);g.setAttribute("role","button");g.setAttribute("aria-label",d);g.style.color=p.closeButtonTextColor;g.style.backgroundColor=p.closeButtonBackgroundColor;g.style.borderRadius=p.closeButtonBorderRadius+"px";g.style.borderWidth=p.closeButtonBorderWidth+"px";g.style.borderColor=p.closeButtonBorderColor;(0,q.addEventListener)(g,"click",e);(0,q.addEnterKeyDownListener)(g,e);n(g);var k=(0,q.createElement)("div","apt-survey-step",null,[f,g]);
k.setAttribute("id","step-"+p.id);this.render=function(){var t=k.querySelector(".apt-survey-close-button");return n(t),k};this.focus=function(){var t=k.querySelector('[tabindex\x3d"'+m+'"]');(0,w.focusElement)(t)};this.hide=function(){k.style.display="none"};this.getSettings=function(){return p};this.getHtml=function(){return l};this.isValid=function(){return!0};this.getNextTabIndex=function(){return h}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0),w=c(7),v=c(6),x=c(17);y.getHtml=function(l){return l.html};
b.default=y},function(E,b,c){function y(n,d){function f(a){a.style.borderWidth=n.buttonsBorderWidth+"px";a.style.borderRadius=n.buttonsBorderRadius+"px";a.style.borderColor=n.buttonsBorderColor;a.style.color=n.buttonsTextColor;a.style.backgroundColor=n.buttonsBackgroundColor}function m(a){return(new l.default({name:"apt-trigger-radio-"+n.id,className:"apt-survey-dynamic-rating-radio-answers",childrenClassName:"apt-survey-dynamic-rating-radio px-survey-rating-button",selectCallback:function(H){t&&
f(t);var r=document.querySelector('input[name\x3d"apt-trigger-radio-'+n.id+'"]:checked');r&&(t=r.parentElement,t.style.backgroundColor=n.selectedButtonsBackgroundColor,t.style.color=n.selectedButtonsTextColor,t.style.borderWidth=n.selectedButtonsBorderWidth+"px",t.style.borderColor=n.selectedButtonsBorderColor);k=H},radioOptions:a})).render()}var h=q.TAB_INDEX_START,g=void 0,k=void 0,t=void 0,u=d,z=n.minAnswer,C=n.maxAnswer;return this.isValid=function(){return!0},this.setTabIndex=function(a){h=a},
this.render=function(){var a=(0,v.renderSurveyTitle)(n,n.titleHtml,["apt-survey-dynamic-rating-wrapper"],["apt-survey-dynamic-rating-title"],u);h=(0,e.setTabIndexes)(a,h);for(var H=[],r=z;r<=C;r+=1){var B=(0,x.createElement)("span",["apt-survey-dynamic-rating-radio-label"],{text:r});B.style.borderRadius=n.buttonsBorderRadius+"px";H.push({children:B,value:r,tabIndex:h,selected:k===r});h+=1}H=m(H);(0,p.arrayFrom)(H.childNodes).forEach(f);r=(0,x.createElement)("div","apt-survey-dynamic-rating-labels-wrapper",
null,[(0,w.toDom)(n.notSatisfiedHtml,!0),(0,w.toDom)(n.satisfiedHtml,!0)]);"PORTRAIT"===n.orientation&&(r.style.maxWidth="100%",r.style.width=39*(C-z+1)-8+"px");H=(0,x.createElement)("div",["apt-survey-dynamic-rating-answers-wrapper","apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-rating-answer-wrapper"],null,[H,r]);return g=(0,x.createElement)("div","apt-survey-dynamic-rating-step",null,[a,H]),g.setAttribute("id","step-"+n.id),g},this.focus=function(){},this.hide=function(){g.style.display=
"none"},this.getData=function(){return{selected:k}},this.getNextTabIndex=function(){return h},this.getSettings=function(){return n},this.getHtml=function(){return n.notSatisfiedHtml+n.satisfiedHtml+n.defaultComment},this.updateStepNumber=function(a){(0,v.updateStepNumber)(g,a);u=a},this.getStepNumber=function(){return u},this}Object.defineProperty(b,"__esModule",{value:!0});var q=c(6),w=c(7),v=c(28),x=c(0),l=(E=c(85))&&E.__esModule?E:{default:E},p=c(10),e=c(17);y.getHtml=function(n){return n.notSatisfiedHtml+
n.satisfiedHtml+n.defaultComment};b.default=y},function(E,b,c){function y(n){return n.answers.map(function(d){return d.text}).join("")+n.question}function q(n,d,f,m){function h(O,W,ba){ba&&O.checked&&H.length>=ba?(O.checked=!1,B.style.display="inline-block"):(B.style.display="none",F.style.display="none");O.checked?-1===H.indexOf(W)&&H.push(W):H=H.filter(function(ma){return ma!==W})}function g(O){var W=(new l.default({name:"apt-trigger-radio-"+n.id,className:"apt-survey-multi-choice-radio-answers",
childrenClassName:"apt-survey-multi-choice-radio",selectCallback:function(ba){H[0]=ba},radioOptions:O.map(function(ba){var ma=(0,w.createElement)("div",["apt-survey-multi-choice-radio-label"]);ma.innerHTML=ba.text;P=(0,e.setTabIndexes)(ma,P);ba={children:ma,tabIndex:P,value:ba.id,selected:ba.id===H[0]};return P+=1,ba})})).render();return P+=O.length,W}function k(O,W){var ba=(0,w.createElement)("div",["apt-survey-multi-choice-label"],{dataAtt:[{name:"for",value:O.id},{name:"aria-hidden",value:"true"}]},
(0,v.toDom)(O.text,!1,-1<O.text.indexOf("px-multi-survey-answer")?void 0:"apt-multi-survey-answer")),ma=(0,w.createElement)("input","apt-survey-multi-choice-checkbox",{dataAtt:[{name:"type",value:"checkbox"},{name:"aria-label",value:ba.textContent},{name:"id",value:O.id},{name:"name",value:"multi-choices-radio"}]});return(0,w.addEventListener)(ma,"change",function(sa){h(sa.target,O.id,W)}),m(ma),ma.setAttribute("tabindex",P),P+=1,P=(0,e.setTabIndexes)(ba,P),(0,w.createElement)("div","apt-survey-multi-choices-radio",
null,[(0,w.createElement)("div","apt-survey-multi-choice-input-wrapper",null,[ma]),ba])}function t(O){var W=O.answers,ba=O.maxSelectionNumber;O=O.minSelectionNumber;O=1===ba&&1===O;W.sort(function(ma,sa){return ma.sequenceNumber-sa.sequenceNumber});O=O?g(W):W.map(function(ma){return k(ma,ba)});return(0,w.createElement)("div",["apt-survey-multi-choices-wrapper","apt-survey-multi-choices-wrapper-"+W.length,"apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-multi-answer-wrapper"],null,
O)}function u(O){var W=O.maxAnswersValidationText?O.maxAnswersValidationText.replace("%maxSelectionNumber%",O.maxSelectionNumber):"You can only select a maximum of "+O.maxSelectionNumber+" answer(s)";O=O.minAnswersValidationText?O.minAnswersValidationText.replace("%minSelectionNumber%",O.minSelectionNumber):"Please select at least "+O.minSelectionNumber+" answer(s)";return B=(0,w.createElement)("div","apt-error-message apt-max-choices",{text:W}),F=(0,w.createElement)("div","apt-error-message apt-min-choices",
{text:O}),(0,w.createElement)("div","apt-error-message-wrapper",null,[B,F])}function z(O){var W=(0,w.createElement)("div","apt-survey-submit",{text:(0,w.isBlank)(n.buttonText)?n.isLast?"Done":"Next":n.buttonText});return W.style.color=O.submitButtonTextColor,W.style.backgroundColor=O.submitButtonBackgroundColor,W.style.borderWidth=O.submitButtonBorderWidth+"px",W.style.borderRadius=O.submitButtonBorderRadius+"px",W.style.borderColor=O.submitButtonBorderColor,W.setAttribute("tabindex",P),P+=1,W.setAttribute("role",
"button"),W}function C(O,W){W&&H.length<W?F.style.display="inline-block":(F.style.display="none",O())}function a(O){if(O.showQuestionNumber){var W=(0,w.createElement)("div","apt-question-sequence",{text:Q+"."});return W.style.fontFamily=O.numberFontFamily,W.style.fontSize=O.numberSize+"px",W.style.color=O.numberColor,W}return null}var H=[],r=void 0,B=void 0,F=void 0,I=void 0,Q=f,P=x.TAB_INDEX_START,D=P;this.isValid=function(){var O=n.minSelectionNumber;O=O&&H.length<O;return F.style.display=O?"inline-block":
"none",!O};this.setTabIndex=function(O){P=O};this.render=function(O){var W=(0,v.toDom)(n.question,!1),ba=n.contactMeMessage||"It's okay to contact me about my feedback";W.classList.add("apt-survey-multi-title");W.classList.add("apt-survey-title");W=(0,w.createElement)("div",["apt-survey-multi-choices-title-wrapper","apt-survey-title-wrapper"],null,[a(n),W]);P=(0,e.setTabIndexes)(W,P);var ma=t(n),sa=u(n),za=[];P=(0,p.addSnoozeForMCQSurvey)(n,O,za,P);O=z(n);za.push(O);za=(0,w.createElement)("div","px-survey-page-footer",
null,za);I=(0,w.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":ba});ba=(0,w.createElement)("div",["apt-contact-wrapper"],void 0,[I,(0,w.createElement)("div","apt-contact-me-text",{text:ba,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!n.showContactMeMessage&&(ba.style.display="none");r=(0,w.createElement)("div","apt-survey-multi-choices-step",null,[W,ma,sa,ba,za]);r.setAttribute("id","step-"+n.id);ba=function(){C(d,n.minSelectionNumber)};return(0,w.addEnterKeyDownListener)(O,
ba),(0,w.addEventListener)(O,"click",ba),m(O),r};this.focus=function(){var O=r.querySelector('[tabindex\x3d"'+D+'"]');(0,v.focusElement)(O)};this.hide=function(){r.style.display="none"};this.getData=function(){return{choices:H,contactMeAllowed:n.showContactMeMessage?I.checked:null}};this.getSettings=function(){return n};this.getHtml=function(){return y(n)};this.getNextTabIndex=function(){return P};this.updateStepNumber=function(O){(0,p.updateStepNumber)(r,O);Q=O};this.getStepNumber=function(){return Q};
h=h.bind(this);C=C.bind(this)}Object.defineProperty(b,"__esModule",{value:!0});var w=c(0),v=c(7),x=c(6),l=(E=c(85))&&E.__esModule?E:{default:E},p=c(28),e=c(17);q.getHtml=function(n){return y(n)};b.default=q},function(E,b,c){function y(e,n,d,f){function m(){return(0,v.validateComment)(e,t,u)}function h(B){var F=(0,q.createElement)("div","apt-survey-submit",{text:(0,q.isBlank)(e.buttonText)?e.isLast?"Done":"Next":e.buttonText});return F.style.color=B.submitButtonTextColor,F.style.backgroundColor=B.submitButtonBackgroundColor,
F.style.borderWidth=B.submitButtonBorderWidth+"px",F.style.borderRadius=B.submitButtonBorderRadius+"px",F.style.borderColor=B.submitButtonBorderColor,F.setAttribute("tabindex",a),a+=1,F.setAttribute("role","button"),F}function g(B){if(B.showQuestionNumber){var F=(0,q.createElement)("div","apt-question-sequence",{text:r+"."});return F.style.fontFamily=B.numberFontFamily,F.style.fontSize=B.numberSize+"px",F.style.color=B.numberColor,F}return null}var k=void 0,t=void 0,u=void 0,z=void 0,C=void 0,a=x.TAB_INDEX_START,
H=a,r=d;this.isValid=function(){return m()};this.setTabIndex=function(B){a=B};this.render=function(B){var F=(0,w.toDom)(e.question,!1),I=e.contactMeMessage||"It's okay to contact me about my feedback";F.classList.add("apt-survey-open-text-title");F.classList.add("apt-survey-title");F=(0,q.createElement)("div",["apt-survey-open-text-title-wrapper","apt-survey-title-wrapper"],null,[g(e),F]);a=(0,p.setTabIndexes)(F,a);var Q=(t=(0,q.createElement)("textArea"),t.setAttribute("tabindex",a),a+=1,t.placeholder=
e.placeholderText||"Share your thoughts about your choice...",(0,q.addEventListener)(t,"keyup",m),u=(0,q.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"}),(0,q.createElement)("div","bottom-feedback-container",null,[t,u]));z=(0,q.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":I,tabindex:a});a+=1;var P=[];a=(0,l.addSnoozeForMCQSurvey)(e,B,P,a);C=h(e);P.push(C);B=(0,q.createElement)("div",["apt-contact-wrapper"],void 0,[z,(0,q.createElement)("div",
"apt-contact-me-text",{text:I,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!e.showContactMeMessage&&(B.style.display="none");"BAR"===e.viewType&&(Q.classList.add("bottom-feedback-container-bar"),C.classList.add("apt-survey-submit-bar"));"DIALOG"===e.viewType&&Q.appendChild(B);B=(0,q.createElement)("div",["apt-feedback-text-wrapper","apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-feedback-answer-wrapper"],null,[Q,"BAR"===e.viewType&&(0,q.createElement)("div","",null,[B])]);P=(0,q.createElement)("div",
"px-survey-page-footer",null,P);k=(0,q.createElement)("div","apt-survey-open-text-step",null,[F,B,P]);k.setAttribute("id","step-"+e.id);F=function(){m()&&n()};return(0,q.addEventListener)(C,"click",F),(0,q.addEnterKeyDownListener)(C,F),f(C),f(z),k};this.focus=function(){var B=k.querySelector('[tabindex\x3d"'+H+'"]');(0,w.focusElement)(B)};this.hide=function(){k.style.display="none"};this.getData=function(){return{comment:t.value,contactMeAllowed:e.showContactMeMessage?z.checked:null}};this.getSettings=
function(){return e};this.getHtml=function(){return e.question};this.getNextTabIndex=function(){return a};this.updateStepNumber=function(B){(0,l.updateStepNumber)(k,B);r=B};this.getStepNumber=function(){return r}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0),w=c(7),v=c(45),x=c(6),l=c(28),p=c(17);y.getHtml=function(e){return e.question};b.default=y},function(E,b,c){function y(k,t,u){function z(Ba){switch(Ba){case 0:return"unsatisfied";case 1:return"neutral";case 2:return"satisfied";default:return""}}
function C(Ba){return(Ba+=1)+" "+(1===Ba?"star":"stars")}function a(Ba,wa,Fa){var ia=Ba.getElementsByTagName("svg")[0];if(sa){wa={0:{buttonsBackgroundColor:wa.negativeButtonBackgroundColor,buttonsBorderColor:wa.negativeButtonBorderColor,buttonsBorderWidth:wa.negativeButtonBorderWidth},1:{buttonsBackgroundColor:wa.neutralButtonBackgroundColor,buttonsBorderColor:wa.neutralButtonBorderColor,buttonsBorderWidth:wa.neutralButtonBorderWidth},2:{buttonsBackgroundColor:wa.positiveButtonBackgroundColor,buttonsBorderColor:wa.positiveButtonBorderColor,
buttonsBorderWidth:wa.positiveButtonBorderWidth}}[Fa];var A=ia.querySelector("#Oval");A.style.fill=wa.buttonsBackgroundColor;A.setAttribute("stroke-width",wa.buttonsBorderWidth);A.setAttribute("stroke",wa.buttonsBorderColor);Ba.setAttribute("aria-label",Fa+1+" "+z(Fa));Ba=ia.querySelectorAll("[data-border-color]");for(Fa=0;Fa<Ba.length;Fa++)Ba[Fa].setAttribute("stroke",wa.buttonsBorderColor),Ba[Fa].setAttribute("fill",wa.buttonsBorderColor)}else ia.getElementsByTagName("polygon")[0].style.fill=wa.buttonsBackgroundColor,
ia.getElementsByTagName("path")[0].setAttribute("stroke-width",wa.buttonsBorderWidth),ia.getElementsByTagName("path")[0].setAttribute("stroke",wa.buttonsBorderColor),ia.getElementsByTagName("g")[0].style.fill=wa.buttonsBorderColor,ia.getElementsByTagName("g")[0].setAttribute("stroke-width",wa.buttonsBorderWidth),Ba.setAttribute("aria-label",C(Fa))}function H(){if(!sa)return ba;switch(ba){case 1:return 1;case 2:return 3;case 3:return 5}return ba}function r(){for(var Ba=Ha.getLabelElements(H()),wa=
document.createDocumentFragment(),Fa=0;Fa<Ba.length;++Fa)wa.appendChild(Ba[Fa]);(0,e.arrayFrom)(qa.childNodes).forEach(function(ia){return qa.removeChild(ia)});qa.appendChild(wa);!qa.classList.contains("labelWrapperElement.classList")&&qa.classList.add("px-labels-show")}function B(Ba,wa,Fa){var ia=!0,A=!1,T=void 0;try{for(var K,da=Ba[Symbol.iterator]();!(ia=(K=da.next()).done);ia=!0){var fa=K.value;if(wa>=fa.from&&wa<=fa.to)return void(Fa.innerHTML=fa.comment)}}catch(Ca){A=!0,T=Ca}finally{try{!ia&&
da.return&&da.return()}finally{if(A)throw T;}}}function F(Ba){W.forEach(function(wa,Fa){if(Fa===Ba-1){wa.setAttribute("data-selected","true");var ia=C(Fa);wa.setAttribute("aria-label",ia+" "+(0===Fa?"is":"are")+" selected")}else wa.setAttribute("data-selected","false"),wa.setAttribute("aria-label",C(Fa))})}function I(Ba){if(sa)for(var wa=1;wa<W.length+1;wa++)wa!==Ba&&a(W[wa-1],k,wa-1);else if(null!==ba&&ba>Ba)for(wa=0;wa<W.length;wa++)a(W[wa],k,wa);ba=Ba;wa=Ba-k.initialButtonIndex;if(F(Ba),sa){var Fa=
W[wa].getElementsByTagName("svg")[0],ia=Fa.querySelector("#Oval");ia.style.fill=k.selectedButtonsBackgroundColor;ia.setAttribute("stroke-width",k.selectedButtonsBorderWidth);ia.setAttribute("stroke",k.selectedButtonsBorderColor);Fa=Fa.querySelectorAll("[data-border-color]");for(ia=0;ia<Fa.length;ia++)Fa[ia].setAttribute("stroke",k.selectedButtonsBorderColor),Fa[ia].setAttribute("fill",k.selectedButtonsBorderColor)}else for(Fa=0;Fa<wa+1;Fa++)ia=W[Fa].getElementsByTagName("svg")[0],ia.getElementsByTagName("polygon")[0].style.fill=
k.selectedButtonsBackgroundColor,ia.getElementsByTagName("path")[0].setAttribute("stroke-width",k.selectedButtonsBorderWidth),ia.getElementsByTagName("path")[0].setAttribute("stroke",k.selectedButtonsBorderColor),ia.getElementsByTagName("g")[0].style.fill=k.selectedButtonsBorderColor,ia.getElementsByTagName("g")[0].setAttribute("stroke-width",k.selectedButtonsBorderWidth);if(k.showDynamicComment){Fa=k.dynamicComments;if(sa)a:{switch(wa){case 0:wa=1;break a;case 1:wa=3;break a;case 2:wa=5;break a}wa=
void 0}else wa+=1;B(Fa,wa,X)}k.labelSetting&&k.labelSetting.enabled&&r(Ba);xa.forEach(function(A){A.style.display="none"});Ea.forEach(function(A){return!A.classList.contains("apt-survey-show")&&A.classList.add("apt-survey-show")});k.mergeFirstSteps&&(Y.classList.remove("apt-survey-submit-disabled"),Y.setAttribute("tabindex",ma));!k.mergeFirstSteps&&(0,d.isSnoozeButtonEnabled)(k.activationType,k.snoozeButton,k.activationTypes)&&(0,n.hideSnooze)()}function Q(){return(0,w.validateComment)(k,S,M)}function P(Ba,
wa,Fa){return function(ia){Ba.appendChild(ia);a(Ba,wa,Fa)}}function D(Ba,wa,Fa,ia){var A=(0,q.createElement)("div");if(sa){var T=l;var K=T.getImage;a:{switch(Fa){case 0:var da="unsatisfied";break a;case 1:da="neutral";break a;case 2:da="satisfied";break a}da=void 0}T=K.call(T,da,P(A,wa,Fa))}else T=(0,q.createElementFromString)(m);A.setAttribute("tabindex",ia);A.setAttribute("role","button");A.setAttribute("aria-label",Fa);sa||(T.style.width=h,T.style.height=g,A.appendChild(T),a(A,wa,Fa));Ba=function(fa){return function(){I(fa)}}(Ba);
return(0,q.addEnterKeyDownListener)(A,Ba),(0,q.addEventListener)(A,"click",Ba),u(A),A}var O=v.TAB_INDEX_START+1,W=[],ba=null,ma=O,sa=k.surveyScoreType===f,za=void 0,S=void 0,M=void 0,V=void 0,X=void 0,Y=void 0,qa=void 0,xa=[],Ea=[],Ha=null;this.focus=function(){var Ba=null!=ba&&W.length?W[0]:za.querySelector('[tabindex\x3d"'+O+'"]');Ba&&(0,x.focusElement)(Ba)};this.render=function(Ba){var wa=(0,x.toDom)(k.titleHtml,!1);ma=(0,d.setTabIndexes)(wa,ma);(0,d.addTabbableEnterListener)();for(var Fa=k.contactMeMessage||
"It's okay to contact me about my feedback",ia=k.initialButtonIndex;ia<k.numberOfButtons+k.initialButtonIndex;ia++)W.push(D(ia,k,ia-k.initialButtonIndex,ma)),ma+=1;X=k.showDynamicComment?(0,q.createElement)("div"):(0,x.toDom)(k.defaultComment);ma=(0,d.setTabIndexes)(X,ma);(ia=k.labelSetting)&&ia.enabled&&(Ha=new p.default(ia.ranges,ia),ma=Ha.setTabIndexes(ma));S=(0,q.createElement)("textArea");S.setAttribute("tabindex",ma);ma+=1;V=(0,q.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":Fa});
V.setAttribute("tabindex",ma);ma+=1;M=(0,q.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var A=(0,q.createElement)("div",["apt-contact-wrapper",k.showContactMeMessage?"":"apt-hidden"],void 0,[V,(0,q.createElement)("div","apt-contact-me-text",{text:Fa,dataAtt:[{name:"aria-hidden",value:"true"}]})]);ia=(0,q.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+k.numberOfButtons],null,[(0,q.createElement)("div","apt-survey-choices",
null,W),(0,q.createElement)("div","apt-survey-choices-legend",null,[(0,q.createElement)("div",null,null,[(0,x.toDom)(k.notSatisfiedHtml)]),(0,q.createElement)("div",null,null,[(0,x.toDom)(k.satisfiedHtml)])])]);var T=(0,q.createElement)("div",["apt-survey-comment"],null,[X]),K=(0,q.createElement)("div","apt-survey-submit-text",{text:(0,q.isBlank)(k.buttonText)?"Submit":k.buttonText});Y=(0,q.createElement)("div","apt-survey-submit",null,[K]);Fa=(0,q.createElement)("div","px-submit-container",null,
[Y]);K.setAttribute("aria-hidden","true");Y.setAttribute("role","button");Y.setAttribute("aria-label",K.textContent);K=(0,q.createElement)("div","bottom-feedback-container",null,[S,M,k.showContactMeMessage?"DIALOG"===k.viewType&&A:void 0,Fa]);A=(0,q.createElement)("div","apt-feedback-text-wrapper",null,[K,k.showContactMeMessage?"BAR"===k.viewType&&(0,q.createElement)("div","",null,[A]):void 0]);qa=(0,q.createElement)("div",["px-survey-labels"]);T=(0,q.createElement)("div","apt-survey-feedback",null,
[T,qa,A]);T.setAttribute("aria-live","polite");"BAR"===k.viewType&&(K.classList.add("bottom-feedback-container-bar"),Y.classList.add("apt-survey-submit-bar"));Y.style.color=k.submitButtonTextColor;Y.style.backgroundColor=k.submitButtonBackgroundColor;Y.style.borderWidth=k.submitButtonBorderWidth+"px";Y.style.borderRadius=k.submitButtonBorderRadius+"px";Y.style.borderColor=k.submitButtonBorderColor;Y.setAttribute("tabindex",k.mergeFirstSteps?v.NO_TAB_INDEX:ma);S.placeholder=k.placeholderText||"Share your thoughts about your choice...";
(0,q.addEventListener)(S,"keyup",Q);ia=[(0,q.createElement)("div","apt-survey-title",null,[wa]),ia,T];ma=(0,n.addSnoozeForScoreSurvey)(k,Ba,Fa,ia,ma);k.showFooter&&ia.push((0,x.toDom)(k.footer,!1,"apt-survey-footer"));za=(0,q.createElement)("div","apt-survey-step",null,ia);za.setAttribute("id","step-"+k.id);Ba=function(){Q()&&t()};return(0,q.addEventListener)(Y,"click",Ba),(0,q.addEnterKeyDownListener)(Y,Ba),u(Y),u(V),!k.mergeFirstSteps&&xa.push(wa),!k.mergeFirstSteps&&Ea.push(T),k.mergeFirstSteps&&
T.classList.add("apt-survey-show"),k.mergeFirstSteps&&Y.classList.add("apt-survey-submit-disabled"),za};this.hide=function(){za.style.display="none"};this.getData=function(){return{selected:H(),comment:S.value,contactMeAllowed:k.showContactMeMessage?V.checked:null,labels:k.labelSetting&&k.labelSetting.enabled?Ha.getSelectedLabels():[]}};this.getSettings=function(){return k};this.getHtml=function(){return k.titleHtml+k.notSatisfiedHtml+k.satisfiedHtml+k.defaultComment}}Object.defineProperty(b,"__esModule",
{value:!0});var q=c(0),w=c(45),v=c(6),x=c(7),l=c(171),p=(E=c(63))&&E.__esModule?E:{default:E},e=c(10),n=c(28),d=c(17),f="SMILEY",m='\x3csvg version\x3d"1.1" id\x3d"Layer_1" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 64 64" enable-background\x3d"new 0 0 64 64" xml:space\x3d"preserve" \x3e\x3cg id\x3d"XMLID_31_" fill\x3d"#cfd8dc" stroke-width\x3d"0.5"\x3e\x3cg\x3e\x3cg stroke-width\x3d"0.5"\x3e\x3cpolygon calss\x3d"apt-star-polygon" fill\x3d"#ffffff" points\x3d"61.5,25 45.1,39.6 50.2,61.5 32,49.6 13.8,61.5 18.9,39.6 2.5,25 23.9,23.4 32,2.5 40.1,23.4"\x3e\x3c/polygon\x3e\x3c/g\x3e\x3c/g\x3e\x3cg\x3e\x3cg\x3e\x3cpath stroke\x3d"#cfd8dc" stroke-width\x3d"0.5" d\x3d"M51.8,63.7L32,50.8L12.2,63.7l5.6-23.8L0.1,24.2l23.1-1.8L32-0.3l8.8,22.7l23.1,1.8L46.2,39.9L51.8,63.7zM32, 48.4l16.7,10.9L44,39.2l15.1-13.4l-19.7-1.5L32,5.3l-7.4,19.1L4.9,25.9L20,39.2l-4.7,20.1L32,48.4z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e',
h="40px",g="40px";y.getHtml=function(k){return k.titleHtml+k.notSatisfiedHtml+k.satisfiedHtml+k.defaultComment};b.default=y},function(E,b,c){function y(d,f,m){function h(za,S,M){za.style.color=S.buttonsTextColor;za.style.backgroundColor=S.buttonsBackgroundColor;za.style.borderWidth=S.buttonsBorderWidth+"px";za.style.borderRadius=S.buttonsBorderRadius+"px";za.style.borderColor=S.buttonsBorderColor;za.setAttribute("aria-label",M)}function g(za,S,M){var V=!0,X=!1,Y=void 0;try{for(var qa,xa=za[Symbol.iterator]();!(V=
(qa=xa.next()).done);V=!0){var Ea=qa.value;if(S>=Ea.from&&S<=Ea.to)return void(M.innerHTML=Ea.comment)}}catch(Ha){X=!0,Y=Ha}finally{try{!V&&xa.return&&xa.return()}finally{if(X)throw Y;}}}function k(za){za=ba.getLabelElements(za);for(var S=document.createDocumentFragment(),M=0;M<za.length;++M)S.appendChild(za[M]);(0,p.arrayFrom)(D.childNodes).forEach(function(V){return D.removeChild(V)});D.appendChild(S);!D.classList.contains("labelWrapperElement.classList")&&D.classList.add("px-labels-show")}function t(za){if(null!==
a){var S=a-d.initialButtonIndex;h(C[S],d,S)}a=za;S=za-d.initialButtonIndex;var M="IN_APP_CES_SURVEY"===d.surveyType;d.showDynamicComment&&g(d.dynamicComments,M?S+1:S,I);S=C[S];S.style.color=d.selectedButtonsTextColor;S.style.backgroundColor=d.selectedButtonsBackgroundColor;S.style.borderWidth=d.selectedButtonsBorderWidth+"px";S.style.borderRadius=d.buttonsBorderRadius+"px";S.style.borderColor=d.selectedButtonsBorderColor;S.setAttribute("aria-label",za+" selected");d.labelSetting&&d.labelSetting.enabled&&
k(za);O.forEach(function(V){V.style.display="none"});W.forEach(function(V){return!V.classList.contains("apt-survey-show")&&V.classList.add("apt-survey-show")});d.mergeFirstSteps&&(Q.classList.remove("apt-survey-submit-disabled"),Q.setAttribute("tabindex",P));!d.mergeFirstSteps&&(0,n.isSnoozeButtonEnabled)(d.activationType,d.snoozeButton,d.activationTypes)&&(0,e.hideSnooze)()}function u(){return(0,x.validateComment)(d,r,B)}function z(za,S,M,V){var X=(0,q.createElement)("div","apt-survey-choice",{text:za});
h(X,S,M);X.setAttribute("tabindex",V);X.setAttribute("role","button");X.setAttribute("aria-label",za);za=function(Y){return function(){t(Y)}}(za);return(0,q.addEventListener)(X,"click",za),(0,q.addEnterKeyDownListener)(X,za),m(X),X}var C=[],a=null,H=void 0,r=void 0,B=void 0,F=void 0,I=void 0,Q=void 0,P=void 0,D=void 0,O=[],W=[],ba=void 0,ma=v.TAB_INDEX_START+1,sa=ma;this.focus=function(){var za=null!=a&&C.length?C[0]:H.querySelector('[tabindex\x3d"'+ma+'"]');za&&(0,w.focusElement)(za)};this.render=
function(za){var S=(0,w.toDom)(d.titleHtml);sa=(0,n.setTabIndexes)(S,sa);(0,n.addTabbableEnterListener)();for(var M=d.initialButtonIndex;M<d.numberOfButtons+d.initialButtonIndex;M++)C.push(z(M,d,M-d.initialButtonIndex,sa)),sa+=1;r=(0,q.createElement)("textArea");M=d.contactMeMessage||"It's okay to contact me about my feedback";F=(0,q.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":M});B=(0,q.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});
var V=(0,q.createElement)("div",["apt-contact-wrapper"],void 0,[F,(0,q.createElement)("div","apt-contact-me-text",{text:M,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!d.showContactMeMessage&&(V.style.display="none");I=d.showDynamicComment?(0,q.createElement)("div"):(0,w.toDom)(d.defaultComment);sa=(0,n.setTabIndexes)(I,sa);var X=(0,q.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+d.numberOfButtons],null,[(0,q.createElement)("div","apt-survey-choices",null,C),
(0,q.createElement)("div",["apt-survey-choices-legend"],null,[(0,q.createElement)("div",null,null,[(0,w.toDom)(d.notSatisfiedHtml)]),(0,q.createElement)("div",null,null,[(0,w.toDom)(d.satisfiedHtml)])])]),Y=(0,q.createElement)("div",["apt-survey-comment"],null,[I]),qa=(0,q.createElement)("div","apt-survey-submit-text",{text:(0,q.isBlank)(d.buttonText)?"Submit":d.buttonText});Q=(0,q.createElement)("div","apt-survey-submit",null,[qa]);M=(0,q.createElement)("div","px-submit-container",null,[Q]);qa.setAttribute("aria-hidden",
"true");Q.setAttribute("role","button");Q.setAttribute("aria-label",qa.textContent);qa=(0,q.createElement)("div","bottom-feedback-container",null,[r,B,"DIALOG"===d.viewType&&V,M]);V=(0,q.createElement)("div","apt-feedback-text-wrapper",null,[qa,"BAR"===d.viewType&&(0,q.createElement)("div","",null,[V])]);D=(0,q.createElement)("div",["px-survey-labels"]);Y=[Y,D,V];(V=d.labelSetting)&&V.enabled&&(ba=new l.default(V.ranges,V),sa=ba.setTabIndexes(sa));Y=(0,q.createElement)("div","apt-survey-feedback",
null,Y);Y.setAttribute("aria-live","polite");"BAR"===d.viewType&&(qa.classList.add("bottom-feedback-container-bar"),Q.classList.add("apt-survey-submit-bar"));Q.style.color=d.submitButtonTextColor;Q.style.backgroundColor=d.submitButtonBackgroundColor;Q.style.borderWidth=d.submitButtonBorderWidth+"px";Q.style.borderRadius=d.submitButtonBorderRadius+"px";Q.style.borderColor=d.submitButtonBorderColor;Q.setAttribute("tabindex",d.mergeFirstSteps?v.NO_TAB_INDEX:P);r.placeholder=d.placeholderText||"Share your thoughts about your choice...";
r.setAttribute("tabindex",sa);sa+=1;F.setAttribute("tabindex",sa);sa+=1;Q.setAttribute("tabindex",d.mergeFirstSteps?v.NO_TAB_INDEX:sa);P=sa;sa+=1;(0,q.addEventListener)(r,"keyup",u);X=[(0,q.createElement)("div","apt-survey-title",null,[(0,q.createElement)("div",null,null,[S])]),X,Y];sa=(0,e.addSnoozeForScoreSurvey)(d,za,M,X,sa);d.showFooter&&X.push((0,w.toDom)(d.footer,!1,"apt-survey-footer"));H=(0,q.createElement)("div",["apt-survey-step"],null,X);H.setAttribute("id","step-"+d.id);za=function(){u()&&
f()};return(0,q.addEventListener)(Q,"click",za),(0,q.addEnterKeyDownListener)(Q,za),m(Q),m(F),!d.mergeFirstSteps&&O.push(S),!d.mergeFirstSteps&&W.push(Y),d.mergeFirstSteps&&Y.classList.add("apt-survey-show"),d.mergeFirstSteps&&Q.classList.add("apt-survey-submit-disabled"),H};this.hide=function(){H.style.display="none"};this.getData=function(){return{selected:a,comment:r.value,contactMeAllowed:d.showContactMeMessage?F.checked:null,labels:d.labelSetting&&d.labelSetting.enabled?ba.getSelectedLabels():
[]}};this.getSettings=function(){return d};this.getHtml=function(){return d.titleHtml+d.notSatisfiedHtml+d.satisfiedHtml+d.defaultComment}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0),w=c(7),v=c(6),x=c(45),l=(E=c(63))&&E.__esModule?E:{default:E},p=c(10),e=c(28),n=c(17);y.getHtml=function(d){return d.titleHtml+d.notSatisfiedHtml+d.satisfiedHtml+d.defaultComment};b.default=y},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(2),q=c(1),w=c(0),v=c(10);E=new function(){function x(m,
h,g,k){m.push(h);g.push(k);y.logger.log(h)}var l={A:!0,ABBR:!0,AUDIO:!0,B:!0,BIG:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CAPTION:!0,CENTER:!0,CODE:!0,COL:!0,COLGROUP:!0,DEL:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IFRAME:!0,IMG:!0,INS:!0,LABEL:!0,LI:!0,O:!0,OL:!0,P:!0,PRE:!0,S:!0,SCRIPT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,TT:!0,U:!0,UL:!0,VIDEO:!0,META:!0,SECTION:!0,BUTTON:!0},p={FORM:!0},e={accept:!0,
"accept-charset":!0,accesskey:!0,action:!0,align:!0,alt:!0,allowfullscreen:!0,async:!0,autocomplete:!0,autofocus:!0,autoplay:!0,bgcolor:!0,border:!0,charset:!0,checked:!0,cite:!0,class:!0,color:!0,cols:!0,colspan:!0,content:!0,contenteditable:!0,controls:!0,coords:!0,data:!0,"data-aptr":!0,"data-apt-element":!0,datetime:!0,default:!0,defer:!0,dir:!0,dirname:!0,disabled:!0,download:!0,draggable:!0,enctype:!0,form:!0,formaction:!0,frameborder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hreflang:!0,
"http-equiv":!0,id:!0,ismap:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,max:!0,maxlength:!0,media:!0,method:!0,min:!0,multiple:!0,muted:!0,name:!0,novalidate:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,readonly:!0,rel:!0,required:!0,reversed:!0,rows:!0,rowspan:!0,sandbox:!0,scope:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellcheck:!0,src:!0,srcdoc:!0,srclang:!0,srcset:!0,start:!0,step:!0,style:!0,tabindex:!0,target:!0,title:!0,translate:!0,type:!0,usemap:!0,
value:!0,width:!0,wrap:!0,"data-px-style-id":!0},n=["http:","https:","data:"],d={href:!0,action:!0,src:!0},f=["https://storage.googleapis.com/aptrinsic-cloud-public-assets/*","https://storage.googleapis.com/froala-upload-default/*","https://storage.googleapis.com/froala-upload-prod/*","https://storage.googleapis.com/froala-upload-dev/*","https://storage.googleapis.com/app-demo-public-bucket/*"];this.SanitizeHtml=function(m){function h(H){if(H.nodeType===Node.TEXT_NODE)var r=H.cloneNode(!0);else if(H.nodeType===
Node.ELEMENT_NODE&&(l[H.tagName]||p[H.tagName])){r=t.createElement(H.tagName);for(var B=0;B<H.attributes.length;B++){var F=H.attributes[B];if(!e[F.name]||"META"===H.tagName&&"charset"!==F.name)x(u,"Not allowed attribute '"+F.name+"' in tag \x3c"+H.tagName+"\x3e",z,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE");else if(d[F.name]){var I=(k||(0,q.getConfig)("htmlSanitizationAllowedDomains")||[]).concat(f),Q;if(Q=-1<F.value.indexOf(":")){a:{Q=F.value;for(var P=a,D=0;D<P.length;D++)if(0===Q.indexOf(P[D])){Q=!0;break a}Q=
!1}Q=!Q}Q?x(u,"Not allowed attribute '"+F.name+"' with value '"+F.value+"' in tag '"+H.tagName+"' - schema is not allowed",z,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE"):(0,w.matchEither)(I,F.value)||x(u,"Not allowed attribute '"+F.name+"' with value '"+F.value+"' in tag '"+H.tagName+"' - domain is not allowed",z,"DISALLOWED_DOMAINS")}}for(B=0;B<H.childNodes.length;B++)h(H.childNodes[B])}else x(u,"tag \x3c"+H.tagName+"\x3e is not allowed",z,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE"),r=document.createDocumentFragment();
return r}var g=1<arguments.length&&void 0!==arguments[1]&&arguments[1],k=arguments[2];if(!(0,q.getConfig)("htmlSanitization")&&!g||(0,w.isBlank)(m)||"\x3cbr\x3e"===m)return{isValid:!0};g=document.createElement("iframe");if(void 0===g.sandbox)return y.logger.logInternalError(Error("Browser not supporting iframe sandbox")),{isValid:!1,errors:["Browser not supporting iframe sandbox, cannot perform sanitization"]};g.sandbox="allow-same-origin";g.style.display="none";(0,q.getBody)().appendChild(g);var t=
g.contentDocument||g.contentWindow.document;null==t.body&&t.documentElement.appendChild(t.createElement("body"));t.body.innerHTML=m;var u=[],z=[],C=(0,q.getConfig)("htmlSanitizationAllowedSchemes"),a=Array.isArray(C)?C.filter(function(H){return!!H}).map(function(H){return H.endsWith(":")?H:H+":"}):n;return h(t.body),(0,q.getBody)().removeChild(g),{isValid:0===u.length,errors:u===[]?null:u,errorTypes:(0,v.arrayFrom)(z)}}};b.default=E},function(E,b,c){(function(y){var q,w="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};!function(){function v(r,B){B?(u[0]=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0,this.blocks=u):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];r?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=
3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225);this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=!1;this.first=!0;this.is224=r}function x(r,B,F){var I=void 0===r?"undefined":w(r);if("string"===I){var Q=[],P=r.length,D=0;for(I=0;I<P;++I){var O=r.charCodeAt(I);128>O?Q[D++]=O:2048>O?(Q[D++]=192|O>>6,Q[D++]=128|63&O):55296>O||57344<=O?(Q[D++]=224|O>>12,Q[D++]=128|
O>>6&63,Q[D++]=128|63&O):(O=65536+((1023&O)<<10|1023&r.charCodeAt(++I)),Q[D++]=240|O>>18,Q[D++]=128|O>>12&63,Q[D++]=128|O>>6&63,Q[D++]=128|63&O)}r=Q}else{if("object"!==I)throw Error(l);if(null===r)throw Error(l);if(f&&r.constructor===ArrayBuffer)r=new Uint8Array(r);else if(!(Array.isArray(r)||f&&ArrayBuffer.isView(r)))throw Error(l);}64<r.length&&(r=(new v(B,!0)).update(r).array());O=[];Q=[];for(I=0;64>I;++I)P=r[I]||0,O[I]=92^P,Q[I]=54^P;v.call(this,B,F);this.update(Q);this.oKeyPad=O;this.inner=!0;
this.sharedMemory=F}var l="input is invalid type",p="object"===("undefined"==typeof window?"undefined":w(window)),e=p?window:{};e.JS_SHA256_NO_WINDOW&&(p=!1);!p&&"object"===("undefined"==typeof self?"undefined":w(self))&&(e=self);var n=!e.JS_SHA256_NO_COMMON_JS&&"object"===w(y)&&y.exports,d=c(204),f=!e.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,m="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],g=[24,16,8,0],k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,
2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,
1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t=["hex","array","digest","arrayBuffer"],u=[];!e.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});!f||!e.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(r){return"object"===(void 0===r?"undefined":w(r))&&r.buffer&&r.buffer.constructor===ArrayBuffer});var z=function(r,
B){return function(F){return(new v(B,!0)).update(F)[r]()}},C=function(r){var B=z("hex",r);B.create=function(){return new v(r)};B.update=function(Q){return B.create().update(Q)};for(var F=0;F<t.length;++F){var I=t[F];B[I]=z(I,r)}return B},a=function(r,B){return function(F,I){return(new x(F,B,!0)).update(I)[r]()}},H=function(r){var B=a("hex",r);B.create=function(Q){return new x(Q,r)};B.update=function(Q,P){return B.create(Q).update(P)};for(var F=0;F<t.length;++F){var I=t[F];B[I]=a(I,r)}return B};v.prototype.update=
function(r){if(!this.finalized){var B=void 0===r?"undefined":w(r);if("string"!==B){if("object"!==B)throw Error(l);if(null===r)throw Error(l);if(f&&r.constructor===ArrayBuffer)r=new Uint8Array(r);else if(!(Array.isArray(r)||f&&ArrayBuffer.isView(r)))throw Error(l);var F=!0}for(var I,Q=0,P=r.length,D=this.blocks;Q<P;){if(this.hashed&&(this.hashed=!1,D[0]=this.block,D[16]=D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=D[10]=D[11]=D[12]=D[13]=D[14]=D[15]=0),F)for(I=this.start;Q<P&&64>I;++Q)D[I>>2]|=r[Q]<<
g[3&I++];else for(I=this.start;Q<P&&64>I;++Q)B=r.charCodeAt(Q),128>B?D[I>>2]|=B<<g[3&I++]:2048>B?(D[I>>2]|=(192|B>>6)<<g[3&I++],D[I>>2]|=(128|63&B)<<g[3&I++]):55296>B||57344<=B?(D[I>>2]|=(224|B>>12)<<g[3&I++],D[I>>2]|=(128|B>>6&63)<<g[3&I++],D[I>>2]|=(128|63&B)<<g[3&I++]):(B=65536+((1023&B)<<10|1023&r.charCodeAt(++Q)),D[I>>2]|=(240|B>>18)<<g[3&I++],D[I>>2]|=(128|B>>12&63)<<g[3&I++],D[I>>2]|=(128|B>>6&63)<<g[3&I++],D[I>>2]|=(128|63&B)<<g[3&I++]);this.lastByteIndex=I;this.bytes+=I-this.start;64<=I?
(this.block=D[16],this.start=I-64,this.hash(),this.hashed=!0):this.start=I}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}};v.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var r=this.blocks,B=this.lastByteIndex;r[16]=this.block;r[B>>2]|=h[3&B];this.block=r[16];56<=B&&(this.hashed||this.hash(),r[0]=this.block,r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0);r[14]=this.hBytes<<3|this.bytes>>>
29;r[15]=this.bytes<<3;this.hash()}};v.prototype.hash=function(){var r,B,F,I,Q,P=this.h0,D=this.h1,O=this.h2,W=this.h3,ba=this.h4,ma=this.h5,sa=this.h6,za=this.h7,S=this.blocks;for(r=16;64>r;++r){var M=S[r-15];var V=(M>>>7|M<<25)^(M>>>18|M<<14)^M>>>3;M=S[r-2];var X=(M>>>17|M<<15)^(M>>>19|M<<13)^M>>>10;S[r]=S[r-16]+V+S[r-7]+X<<0}var Y=D&O;for(r=0;64>r;r+=4){this.first?(this.is224?(Q=300032,M=S[0]-1413257819,za=M-150054599<<0,W=M+24177077<<0):(Q=704751109,M=S[0]-210244248,za=M-1521486534<<0,W=M+143694565<<
0),this.first=!1):(V=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),X=(ba>>>6|ba<<26)^(ba>>>11|ba<<21)^(ba>>>25|ba<<7),Q=P&D,B=Q^P&O^Y,I=ba&ma^~ba&sa,M=za+X+I+k[r]+S[r],F=V+B,za=W+M<<0,W=M+F<<0);V=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10);X=(za>>>6|za<<26)^(za>>>11|za<<21)^(za>>>25|za<<7);Y=W&P;B=Y^W&D^Q;I=za&ba^~za&ma;M=sa+X+I+k[r+1]+S[r+1];F=V+B;sa=O+M<<0;O=M+F<<0;V=(O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10);X=(sa>>>6|sa<<26)^(sa>>>11|sa<<21)^(sa>>>25|sa<<7);var qa=O&W;B=qa^O&P^Y;I=sa&za^~sa&ba;
M=ma+X+I+k[r+2]+S[r+2];F=V+B;ma=D+M<<0;D=M+F<<0;V=(D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10);X=(ma>>>6|ma<<26)^(ma>>>11|ma<<21)^(ma>>>25|ma<<7);Y=D&O;B=Y^D&W^qa;I=ma&sa^~ma&za;M=ba+X+I+k[r+3]+S[r+3];F=V+B;ba=P+M<<0;P=M+F<<0}this.h0=this.h0+P<<0;this.h1=this.h1+D<<0;this.h2=this.h2+O<<0;this.h3=this.h3+W<<0;this.h4=this.h4+ba<<0;this.h5=this.h5+ma<<0;this.h6=this.h6+sa<<0;this.h7=this.h7+za<<0};v.prototype.hex=function(){this.finalize();var r=this.h0,B=this.h1,F=this.h2,I=this.h3,Q=this.h4,P=this.h5,
D=this.h6,O=this.h7;r=m[r>>28&15]+m[r>>24&15]+m[r>>20&15]+m[r>>16&15]+m[r>>12&15]+m[r>>8&15]+m[r>>4&15]+m[15&r]+m[B>>28&15]+m[B>>24&15]+m[B>>20&15]+m[B>>16&15]+m[B>>12&15]+m[B>>8&15]+m[B>>4&15]+m[15&B]+m[F>>28&15]+m[F>>24&15]+m[F>>20&15]+m[F>>16&15]+m[F>>12&15]+m[F>>8&15]+m[F>>4&15]+m[15&F]+m[I>>28&15]+m[I>>24&15]+m[I>>20&15]+m[I>>16&15]+m[I>>12&15]+m[I>>8&15]+m[I>>4&15]+m[15&I]+m[Q>>28&15]+m[Q>>24&15]+m[Q>>20&15]+m[Q>>16&15]+m[Q>>12&15]+m[Q>>8&15]+m[Q>>4&15]+m[15&Q]+m[P>>28&15]+m[P>>24&15]+m[P>>
20&15]+m[P>>16&15]+m[P>>12&15]+m[P>>8&15]+m[P>>4&15]+m[15&P]+m[D>>28&15]+m[D>>24&15]+m[D>>20&15]+m[D>>16&15]+m[D>>12&15]+m[D>>8&15]+m[D>>4&15]+m[15&D];return this.is224||(r+=m[O>>28&15]+m[O>>24&15]+m[O>>20&15]+m[O>>16&15]+m[O>>12&15]+m[O>>8&15]+m[O>>4&15]+m[15&O]),r};v.prototype.toString=v.prototype.hex;v.prototype.digest=function(){this.finalize();var r=this.h0,B=this.h1,F=this.h2,I=this.h3,Q=this.h4,P=this.h5,D=this.h6,O=this.h7;r=[r>>24&255,r>>16&255,r>>8&255,255&r,B>>24&255,B>>16&255,B>>8&255,
255&B,F>>24&255,F>>16&255,F>>8&255,255&F,I>>24&255,I>>16&255,I>>8&255,255&I,Q>>24&255,Q>>16&255,Q>>8&255,255&Q,P>>24&255,P>>16&255,P>>8&255,255&P,D>>24&255,D>>16&255,D>>8&255,255&D];return this.is224||r.push(O>>24&255,O>>16&255,O>>8&255,255&O),r};v.prototype.array=v.prototype.digest;v.prototype.arrayBuffer=function(){this.finalize();var r=new ArrayBuffer(this.is224?28:32),B=new DataView(r);return B.setUint32(0,this.h0),B.setUint32(4,this.h1),B.setUint32(8,this.h2),B.setUint32(12,this.h3),B.setUint32(16,
this.h4),B.setUint32(20,this.h5),B.setUint32(24,this.h6),this.is224||B.setUint32(28,this.h7),r};x.prototype=new v;x.prototype.finalize=function(){if(v.prototype.finalize.call(this),this.inner){this.inner=!1;var r=this.array();v.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(r);v.prototype.finalize.call(this)}};p=C();p.sha256=p;p.sha224=C(!0);p.sha256.hmac=H();p.sha224.hmac=H(!0);if(n)y.exports=p;else{e.sha256=p.sha256;e.sha224=p.sha224;if(e=d)e=void 0!==(q=p);e&&(y.exports=
q)}}()}).call(b,c(106)(E))},function(E,b,c){function y(v,x,l){return function(p){p.listenerId===v&&(l(p),w.removeListener(x))}}Object.defineProperty(b,"__esModule",{value:!0});b.botEventEmmiter=void 0;var q=c(11),w=b.botEventEmmiter=new function(){var v={},x={};this.dispatchEvent=function(l,p,e){p===v[l]&&q.internalEventListener.dispatchEvent(l,Object.assign({listenerId:p},e))};this.addListener=function(l,p,e){w.removeListener(l);v[l]=e;p=y(e,l,p);x[e]=p;q.internalEventListener.addListener(l,p)};
this.removeListener=function(l){q.internalEventListener.removeListener(l,x[v[l]]);v[l]=null;delete v[l]}}},function(E,b,c){function y(h,g){return h+"?"+(0,l.convert2Parameters)((0,l.addParameters)(g,[]))}function q(){var h={};Object.assign(h,v.eventTrackData[x.cacheGetAll]());(0,l.addCacheBuster)(h);var g=(0,m.getGlobalContext)();g&&Object.assign(h,{gcx:JSON.stringify(g)});var k=(0,l.getWindowLocation)();g=k.protocol+"//";var t=k.host,u=k.pathname,z=k.search,C=v.documentRef.title;k=k.hash;var a=v.documentRef.referrer,
H=a;a=(0,f.maskUrl)(g,t,u,z,k,a,C);a=w(a,7);return g=a[0],t=a[1],u=a[2],z=a[3],k=a[4],H=a[5],C=a[6],Object.assign(h,{rf:H,sc:g,ho:t,pa:decodeURIComponent(u),q:decodeURIComponent(z),ha:decodeURIComponent(k),sch:(0,p.getPageHeight)(),scw:(0,p.getPageWidth)(),pt:C,u:""+g+t+u+z+k}),h}Object.defineProperty(b,"__esModule",{value:!0});var w=function(){return function(h,g){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h)){var k=[],t=!0,u=!1,z=void 0;try{for(var C,a=h[Symbol.iterator]();!(t=(C=
a.next()).done)&&(k.push(C.value),!g||k.length!==g);t=!0);}catch(H){u=!0,z=H}finally{try{!t&&a.return&&a.return()}finally{if(u)throw z;}}return k}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.getUrl=y;b.getTrackingPayload=q;b.trackWebLinkClick=function(h,g,k,t,u){try{var z=q();z.kcid=g;z.recId=k||null;z.searchTerm=u;var C=e.trackKcEndpoint+"/"+v.eventTrackData.data[v.productIdParameter]+"/"+g+"/track/webLink/"+h+"?"+(0,l.convert2Parameters)((0,l.addParameters)(z,
[]));n.AjaxUtil.getData(C,t)}catch(a){d.logger.logInternalError(a,"Error during tracking webLink "+h+"for kc id "+g)}};b.trackArticleClick=function(h,g,k,t,u,z,C,a){try{var H=q();H.kcid=t;H.catid=g;H.recId=u||null;H.searchTerm=C;a&&(H.tlid=a);var r=e.trackKcEndpoint+"/"+v.eventTrackData.data[v.productIdParameter]+"/"+t+"/track/article/"+h+"?"+(0,l.convert2Parameters)((0,l.addParameters)(H,[]));n.AjaxUtil.getData(r,z)}catch(B){d.logger.logInternalError(B,"Error during tracking article "+h+"for kc id "+
t)}};b.trackCommunityArticleClick=function(h,g,k,t,u,z,C){try{var a=q();a.searchTerm=z;a.cct=t;a.ccu=u;var H=e.trackKcEndpoint+"/"+v.eventTrackData.data[v.productIdParameter]+"/"+h+"/"+e.trackWidgetCommunityArticleInfix+"/"+k+"/"+g+"?"+(0,l.convert2Parameters)((0,l.addParameters)(a,[]));n.AjaxUtil.getData(H,C)}catch(r){d.logger.logInternalError(r,"Error during tracking community article "+g+" of type "+k+" for kc id "+h)}};b.trackToggleWidget=function(h,g,k,t){try{var u=q();u.kcid=h;u.kct=g;k&&(u.tlid=
k);t&&(u.kcSt=t);var z=e.trackKcEndpoint+"/"+v.eventTrackData.data[v.productIdParameter]+"/"+h+"/track/toggle?"+(0,l.convert2Parameters)((0,l.addParameters)(u,[]));n.AjaxUtil.getData(z)}catch(C){d.logger.logInternalError(C,"Error during tracking toggle widget for kc id "+h)}};b.trackExternalArticleClick=function(h,g,k,t){g=k.articleId;var u=k.articleUrl,z=k.articleProvider,C=k.articleTitle;k=k.recommendedId;try{var a=v.eventTrackData.data[v.productIdParameter],H=v.eventTrackData.data[v.aptrinsicIdParam],
r=q(),B=y(e.trackKcEndpoint+"/"+a+"/"+h+"/"+e.trackWidgetExternalArticleInfix+"/"+g,Object.assign(r,{art:C,ai:H,arpro:z,aru:u,ari:g,recId:k,searchTerm:t}));n.AjaxUtil.getData(B)}catch(F){d.logger.logInternalError(F,"Error during tracking article "+g+"for kc id "+h)}};var v=c(4),x=c(8),l=c(0),p=c(9),e=c(1),n=c(13),d=c(2),f=c(19),m=c(23)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.BROWSER_DEFAULT_FONTS="Arial;Times New Roman;Times;Courier New;Courier;Verdana;Georgia;Palatino;Garamond;Bookman;Tahoma;Trebuchet MS;Arial Black;Impact;Comic Sans MS".split(";");
b.FONTS_WEIGHTS=[400,500,600,700];b.FONTS_SUBSETS=["cyrillic-ext","greek","cyrillic"];b.GAINSIGHT_PX_OPEN_BOT="GAINSIGHT_PX_OPEN_BOT";b.GAINSIGHT_PX_OPEN_ARTICLE="GAINSIGHT_PX_OPEN_ARTICLE"},function(E,b,c){function y(f,m){f=(0,x.findInWindow)(f,document,!0);return Array.from(f).filter(function(h){return h===m||h.contains&&h.contains(m)})}function q(f,m){m=y(f.cssSelector,m);return!(0,p.isEmptyArr)(m)&&m.some(function(h){return(0,l.matchExpression)((0,x.getText)(h),f.textOperator,(0,p.trimString)(f.text[0]))})}
function w(f,m){return(0,l.matchExpression)((0,x.getText)(m),f.textOperator,(0,p.trimString)(f.text[0]))}function v(f,m){return 0<y(f.cssSelector,m).length}Object.defineProperty(b,"__esModule",{value:!0});b.elementMatchesForTrackingFeatureRule=b.elementMatchesRule=void 0;var x=c(7),l=c(70),p=c(0),e=c(2),n=c(100),d=c(6);b.elementMatchesRule=function(f,m){if((0,n.isUrlRule)(f.type)||(0,n.isEventRule)(f.type))return!1;switch(f.type){case d.FEATURE_RULE_TYPES.SELECTOR_TEXT_RULE:return f.textElementRules.some(function(h){return q(h,
m)});case d.FEATURE_RULE_TYPES.TEXT_ONLY_RULE:return f.textElementRules.some(function(h){return w(h,m)});default:return e.logger.logInternalError(Error("Trying to run unsupported rule type "+f.type+", won't match")),!1}};b.elementMatchesForTrackingFeatureRule=function(f,m){if((0,n.isUrlRule)(f.type))return!1;switch(f.type){case d.FEATURE_RULE_TYPES.EVENT_RULE:return v({cssSelector:f.selectors[0]},m);case d.FEATURE_RULE_TYPES.SELECTOR_TEXT_RULE:return f.textElementRuleSet.textElementRules.some(function(h){return q(h,
m)});case d.FEATURE_RULE_TYPES.TEXT_ONLY_RULE:return f.textElementRuleSet.textElementRules.some(function(h){return w(h,m)});default:return e.logger.logInternalError(Error("Trying to run unsupported rule type "+f.type+", won't match")),!1}}},function(E,b,c){function y(m){var h=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if((0,d.isBlank)(m))throw Error("globString must be a non-empty string");var g="^",k=1<m.length&&"/"===m.charAt(m.length-1);Array.from(m).forEach(function(t){"*"===t?g+=
".*":f.REGEX_SPECIAL_CHARS.has(t)?g+="\\"+t:g+=t});k&&(g+="?");g+="$";return new RegExp(g,h?"i":"")}function q(m){var h;a:{for(h=0;h<m.length;h+=1)if("*"===m.charAt(h)){h=m.substring(0,h);break a}h=m}var g;a:{for(g=m.length-1;0<=g;--g)if("*"===m.charAt(g))break a;g=-1}m=-1===g?m:m.substring(g+1);return{prefix:h,suffix:m}}function w(m,h){var g=!(!m.suffix||!m.suffix.length),k=m.cond===f.URL_CONDITION_IS;if(k&&g&&!h.endsWith(m.suffix))return!1;m=m.regex.test(h);return k?m:!m}function v(m,h){return m.some(function(g){return w(g,
h)})}function x(m,h){return m.every(function(g){return w(g,h)})}function l(m){return m===f.FEATURE_RULE_TYPES.URL_RULE}function p(m){return f.CLICK_EVENT_RULE_TYPES.has(m)}function e(m){for(var h=!1,g=!1,k=!1,t=0;!k&&t<m.length;t+=1,k=h&&g)k=m[t].type,l(k)&&(h=!0),p(k)&&(g=!0);return{isPageViewFeature:h,isClickEventFeature:g}}Object.defineProperty(b,"__esModule",{value:!0});b.normalizeUrlToKey=function(m){m=m?f.URL_SCHEME_REGEX.test(m)?m:"http://"+m:"";return(m=(0,n.url2Location)(m))?""+m.host+m.pathname+
m.search+m.hash:""};b.removeUrlProtocol=function(m){return m?(0<=m.indexOf("://")&&(m=m.substring(m.indexOf("://")+3)),0===m.indexOf("//")&&(m=m.substring(2)),m):""};b.convertGlobToRegExp=y;b.parseGlobString=q;b.evaluateRulesOr=v;b.evaluateRulesAnd=x;b.buildMatchedFeaturesMap=function(m){var h=m.mappedElementsToEvaluate,g=m.urlKey,k=m.positiveMappedElementHits,t=m.mappedElementRulesById,u=new Map;return h.forEach(function(z){var C=k.has(z);var a=t[z];if(a&&a.rules&&0!==a.rules.length){var H=a.isOr;
C=!(!H||!C)||(H?v(a.rules,g):x(a.rules,g))}else C=!1;C&&(C=t[z])&&C.featureId&&(u.has(C.featureId)?u.get(C.featureId).add(z):u.set(C.featureId,new Set([z])))}),u};b.compileUrlRule=function(m,h){m=m||"";var g=(0,d.safeUrl)(m);m="/"===m.charAt(m.length-1)?g+"/":g;h=h===f.URL_CONDITION_IS_NOT?f.URL_CONDITION_IS_NOT:f.URL_CONDITION_IS;var k=q(m);g=k.prefix;k=k.suffix;return{regex:y(m),suffix:k,prefix:g,cond:h}};b.getCacheKey=function(m,h){return(m+"__"+h).toLowerCase()};b.isUrlRule=l;b.isEventRule=function(m){return m===
f.FEATURE_RULE_TYPES.EVENT_RULE};b.isClickEventRule=p;b.splitFeaturesByType=function(m,h){var g=[],k=[];return m.forEach(function(t,u){u=h[u];var z=u.allMappedElements.filter(function(a){return t.has(a.id)});z=e(z);var C=z.isClickEventFeature;z.isPageViewFeature&&g.push(u);C&&k.push(u)}),{pageViewFeatures:g,clickEventFeatures:k}};var n=c(9),d=c(0),f=c(6)},function(E,b,c){function y(){var x=(0,v.getGuideStateValue)("apt.engagementExecutionTracking")||"{}";return JSON.parse(x)}function q(x){return y()[x]||
{}}function w(x,l){var p=y();p[x]=l;(0,v.setGuideStateValue)("apt.engagementExecutionTracking",JSON.stringify(p))}Object.defineProperty(b,"__esModule",{value:!0});var v=c(31);b.default={markStepTracked:function(x,l){var p=q(x);p[l]||(p[l]=!0,w(x,p))},wasStepTracked:function(x,l){return!!q(x)[l]},markCompletedTracked:function(x){var l=q(x);l.completed=!0;w(x,l)},wasCompletedTracked:function(x){return!!q(x).completed}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.setUser=b.copyUserFields=
b.userFields=void 0;var y=c(26),q=c(0),w=c(130),v=c(2),x=c(1),l=c(27),p=b.userFields="id globalId email gender firstName lastName signUpDate title role subscriptionId phone countryCode countryName stateCode stateName city street continent postalCode regionName timeZone latitude longitude accountId firstVisitDate score userHash sfdcContactId".split(" "),e=b.copyUserFields=function(n,d){var f={};if(n.id&&(f.ide=n.id.toString()),!(0,q.isBlank)(n.email)&&(f.usem=n.email),(0,q.isObject)(n)){var m={},h;
for(h in n)n.hasOwnProperty(h)&&(-1===p.indexOf(h)?m[h]=n[h]:f[h]=n[h]);f.customAttributes=m;(0,w.shouldInjectAccountId)(n,d)&&(f.accountId=d.id)}return delete f.id,delete f.email,f};b.setUser=function(n){if((0,x.getConfig)("enableTag")){var d={},f=y.UserData.getAptrinisId(),m=y.UserData.getUserId();if(!y.UserData.isUser())return void v.logger.log("not doing anything since not a user yet, visitor id: "+m+", user id: "+f);d.usf=e(n,null);(0,l.internalApt)("setAttribute",d)}}},function(E,b,c){Object.defineProperty(b,
"__esModule",{value:!0});b.addFullStoryInfo=void 0;var y=c(1),q=c(2),w=c(0);b.addFullStoryInfo=function(v){if((0,y.getConfig)("enableFullStory"))try{var x=window._fs_namespace;if(x&&(0,w.isFunction)(window[x].getCurrentSessionURL)){var l=window[x].getCurrentSessionURL(!0);l&&(v.fs=l)}}catch(p){q.logger.logInternalError(p,"Unable to FullStory session")}return v}},function(E,b,c){function y(f){return f&&f.__esModule?f:{default:f}}function q(f,m,h){var g=h||{};h=[];(0,x.isIframe)()?g=e.default.resolveIframeClickEventTrackingProperties({targetElement:m}):
(0,x.isIframe)()||m?!(0,x.isIframe)()&&m&&(f=e.default.resolveClickEventTrackingProperties({url:f,targetElement:m}),g=f.resolvedTrackingProperties,h=f.unresolvedClickPropertyIds):(m=Object.keys(g).filter(function(k){return(0,d.isBlank)(g[k])}),f=n.default.resolveTrackingPropertiesByIds(m,f),g=f.resolvedTrackingProperties,h=f.unresolvedClickPropertyIds);return{resolvedTrackingProperties:g,unresolvedClickPropertyIds:h}}function w(f,m){m=m.map(function(h){return h.id});return e.default.resolveTrackingPropertiesForFeatureIds({url:f,
featureIds:m})}Object.defineProperty(b,"__esModule",{value:!0});b.loadTrackingPropertiesMetadata=function(f){(0,x.isIframe)()||(n.default.setTrackingPropertiesMetaData(f.trackingPropertiesMetadata),l.default.buildFeatureTree(f.clientSideFeatureMatchMetadata))};b.default=function(f){var m=f.properties,h=f.eventType,g=f.targetElement,k={},t="",u=[];n.default.setOOBDetails(f.oobDetails);m&&m.resolvedTrackingProperties&&(k=m.resolvedTrackingProperties,t=m.iframeId||"",delete m.resolvedTrackingProperties,
delete m.iframeId);f=(0,p.getFullUrlMasked)();var z=(0,d.isBlank)(f),C=(0,d.isPageViewEvent)(h)&&!z,a=((0,d.isClickEvent)(h)||(0,d.isLinkClickEvent)(h))&&!z;h=(0,d.isFeatureEvent)(h)&&m.featureMatches&&!z;C?(m=((0,x.isIframe)()||v.default.syncTrackingPropertiesMetaData(),e.default.resolvePageViewEventTrackingProperties({url:f})),k=m.resolvedTrackingProperties,u=m.unresolvedClickPropertyIds):a?(m=q(f,g,k),k=Object.assign({},k,m.resolvedTrackingProperties),u=m.unresolvedClickPropertyIds):h&&(m=w(f,
m.featureMatches),k=m.resolvedTrackingProperties,u=m.unresolvedClickPropertyIds);return{resolvedTrackingProperties:k,iframeIdWhereClickHappened:t,unresolvedClickPropertyIds:u}};E=c(43);var v=y(E),x=c(1);E=c(69);var l=y(E),p=c(19);E=c(121);var e=y(E);E=c(48);var n=y(E),d=c(15)},function(E,b,c){function y(v,x){w?w(v,x):q.logger.log("Tracking function not set. Event not tracked.",v,x)}Object.defineProperty(b,"__esModule",{value:!0});b.setTrackingFunction=function(v){w=v};b.trackEvent=y;b.trackEngagementCompletedClosed=
function(v){y("engagementCompletedClosed",v)};b.trackEngagementDroppedClosed=function(v){y("engagementDroppedClosed",v)};var q=c(2),w=null},function(E,b,c){E.exports=function(y){return y.webpackPolyfill||(y.deprecate=function(){},y.paths=[],y.children||(y.children=[]),Object.defineProperty(y,"loaded",{enumerable:!0,get:function(){return y.l}}),Object.defineProperty(y,"id",{enumerable:!0,get:function(){return y.i}}),y.webpackPolyfill=1),y}},,,function(E,b,c){function y(S){return S&&S.__esModule?S:
{default:S}}function q(S){if(Array.isArray(S)){for(var M=0,V=Array(S.length);M<S.length;M++)V[M]=S[M];return V}return Array.from(S)}function w(S){ma=S;var M=(0,H.arrayFrom)(S,function(X){var Y=X.mappedElements.filter(function(qa){return"TEXT_ELEMENT"===qa.type&&(0,m.getConfig)("textMatchEnabled")});if(1>Y.length)return null;X=Object.assign({},X);return X.mappedElements=Y,X}).filter(function(X){return null!==X}),V=(0,H.arrayFrom)(S,function(X){var Y=X.mappedElements.filter(function(qa){return-1<sa.indexOf(qa.type)});
if(1>Y.length)return null;X=Object.assign({},X);return X.mappedElements=Y,X}).filter(function(X){return null!==X});D.splice.apply(D,[0,D.length].concat(q(M)));O.splice.apply(O,[0,O.length].concat(q(V)));(0,m.isIframe)()||u.default.syncFeatureRules(S)}function v(S){(0,Q.encryptFeatures)(S).then(function(M){w(M)}).catch(function(M){r.logger.logInternalError(Error("Failed to encrypt feature rules: "+M.message));w(S)})}function x(){var S=0<arguments.length&&void 0!==arguments[0]&&arguments[0],M=Object.assign({},
g.eventTrackData[k.cacheGetAll]());M.wsv=g.applicationVersion;S&&(0,f.addCacheBuster)(M);h.AjaxUtil.getData(m.fetchFeatureRuleEndpoint+"?"+(0,f.convert2Parameters)((0,f.addParameters)(M,[])),v)}function l(){x(!0)}function p(){if(W)return JSON.parse(localStorage.getItem(za))}function e(S,M){if(W){var V=p();V&&V[S]&&V[S][M]&&(delete V[S][M],localStorage.setItem(za,JSON.stringify(V)))}}function n(S){var M=S.scopeRules;S=S.urlLogicalOperator;var V=(0,f.getPageUrl)();return"AND"===S?M.every(function(X){return(0,f.matchUrl)(X.urlScope,
V,"NOT"===X.urlCondition)}):M.some(function(X){return(0,f.matchUrl)(X.urlScope,V,"NOT"===X.urlCondition)})}Object.defineProperty(b,"__esModule",{value:!0});b.getRawFeatureRules=b.loadIframeRules=void 0;var d=function(){function S(M,V){for(var X=0;X<V.length;X++){var Y=V[X];Y.enumerable=Y.enumerable||!1;Y.configurable=!0;"value"in Y&&(Y.writable=!0);Object.defineProperty(M,Y.key,Y)}}return function(M,V,X){return V&&S(M.prototype,V),X&&S(M,X),M}}(),f=c(0),m=c(1),h=c(13),g=c(4),k=c(8),t=c(27);E=c(43);
var u=y(E),z=c(5),C=c(14);E=c(9);var a=c(70),H=c(10),r=c(2),B=c(51),F=y(B);B=c(16);var I=y(B),Q=c(42),P=c(99),D=[],O=[],W=(0,E.localStorageEnabled)(),ba=[],ma=void 0,sa=["SELECTOR_TEXT_RULE","TEXT_ONLY_RULE"],za="apt.fm";c=new (function(){function S(){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");}return d(S,[{key:"init",value:function(){(0,m.isIframe)()||I.default.isEditorMode()||(setInterval(l,3E5),x())}},{key:"sendRuleMatchResults",value:function(M){(0,t.internalApt)("feature",
{featureMatches:M})}},{key:"matchFeatureRule",value:function(M,V){var X=M.textElementRules,Y=M.scopeRules,qa=M.urlLogicalOperator,xa=C.UUIDGenerator.generateV4Id();(0,z.subscribe)(xa,function(Ea,Ha){var Ba=(0,f.getPageUrl)();Ea=("AND"===qa?Y.every(function(wa){return(0,f.matchUrl)(wa.urlScope,Ba,"NOT"===wa.urlCondition)}):Y.some(function(wa){return(0,f.matchUrl)(wa.urlScope,Ba,"NOT"===wa.urlCondition)}))&&Ea.reduce(function(wa,Fa){return wa&&Fa});(0,z.decrementState)(Ha.callingFutureId,{id:Ha.rule.id,
matched:Ea})},{rule:M,callingFutureId:V});!(0,m.isIframe)()&&u.default.getElementText&&X.forEach(function(Ea){try{u.default.getElementText(Ea.cssSelector,xa,function(Ha,Ba){if(!Ha||!(0,f.isNotEmptyArr)(Ha))return void(0,z.decrementState)(Ba,!1);for(var wa=void 0,Fa=0;Fa<Ha.length;Fa++)if((0,f.isDefinedStr)(Ha[Fa])){wa=Ha[Fa];break}(0,f.isUndefinedStr)(wa)?(0,z.decrementState)(Ba,!1):(Ha=(0,a.matchExpression)(wa,Ea.textOperator,Ea.text[0]),(0,z.decrementState)(Ba,Ha))})}catch(Ha){(0,z.decrementState)(xa,
!1),r.logger.logInternalError(Ha)}})}},{key:"handleAllFeatureMatchResult",value:function(M){var V=!1;M=(0,H.arrayFrom)(M,function(X){var Y=X.featureId;return(0,H.arrayFrom)(X.rulesResult,function(qa){var xa=qa.matched;!xa&&e(Y,qa.ruleId);var Ea=qa.ruleId;if(W){var Ha=p();Ha&&Ha[Y]&&Ha[Y][Ea]?(Ha=Ha[Y][Ea].timestamp,Ea=18E5<=Date.now()-Ha&&(e(Y,Ea),!0)):Ea=!0}else Ea=!0;Ea||(xa=!1);xa&&(Ea=qa.ruleId,W&&(Ha=p()||{},Ha[Y]=Ha[Y]||{},Ha[Y][Ea]={timestamp:Date.now()},localStorage.setItem(za,JSON.stringify(Ha))),
V=!0);return{id:Y,feme:qa.ruleId,femr:xa}})});V&&this.sendRuleMatchResults([].concat.apply([],M))}},{key:"matchRules",value:function(){var M=this,V=C.UUIDGenerator.generateV4Id();(0,z.subscribe)(V,this.handleAllFeatureMatchResult.bind(this));D.forEach(function(){return(0,z.incrementState)(V)});D.forEach(function(X){var Y=X.mappedElements;if((0,f.isNotEmptyArr)(Y)){var qa=C.UUIDGenerator.generateV4Id();(0,z.subscribe)(qa,function(xa,Ea){xa=(0,H.arrayFrom)(xa,function(Ha){return{ruleId:Ha.id,matched:Ha.matched}});
(0,z.decrementState)(Ea.matchId,{featureId:Ea.featureId,rulesResult:xa})},{matchId:V,featureId:X.featureId});Y.forEach(function(){return(0,z.incrementState)(qa)});Y.forEach(function(xa){M.matchFeatureRule(xa,qa)})}})}},{key:"try2Match",value:function(){var M=this;if((0,m.getConfig)("textMatchEnabled")){try{ba.forEach(function(Y){return clearTimeout(Y)})}catch(Y){}for(var V=0;3>V;V++){var X=setTimeout(function(Y){return function(){var qa=ba.indexOf(void 0);-1<qa&&ba.splice(qa,1);M.matchRules()}}(),
(0,m.getConfig)("delayClickEventTime")*(V+1));ba.push(X)}}}},{key:"matchElement",value:function(M){var V=O.reduce(function(X,Y){var qa=Y.mappedElements.filter(function(xa){xa=(0,m.isIframe)()||n(xa)?(0,P.elementMatchesRule)(xa,M):!1;return xa});return 0<qa.length&&((0,m.isIframe)()?X.push({id:Y.featureId,rules:qa}):Y.featureId&&qa[0].id&&X.push({id:Y.featureId,feme:qa[0].id,femr:!0})),X},[]);V&&0<V.length&&((0,m.isIframe)()?F.default.textFeatureMatch([].concat.apply([],V)):this.sendRuleMatchResults([].concat.apply([],
V)))}},{key:"clearAll",value:function(){localStorage.removeItem(za)}},{key:"evaluateIframeMatches",value:function(M){(M=M.reduce(function(V,X){var Y=X.rules.filter(function(qa){return n(qa)});return 0<Y.length&&V.push({id:X.id,feme:Y[0].id,femr:!0}),V},[]))&&0<M.length&&this.sendRuleMatchResults([].concat.apply([],M))}}]),S}());b.default=c;b.loadIframeRules=function(S){(0,m.isIframe)()&&v(S)};b.getRawFeatureRules=function(){return ma}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});
b.ScrollEventBinder=void 0;var y=function(){function l(p,e){for(var n=0;n<e.length;n++){var d=e[n];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(p,d.key,d)}}return function(p,e,n){return e&&l(p.prototype,e),n&&l(p,n),p}}(),q=c(4),w=c(0),v=c(2),x=c(18);b.ScrollEventBinder=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.bindedElementsMap={}}return y(l,[{key:"getFollowScrollHandler",value:function(p,
e,n){var d=void 0,f=void 0,m=void 0,h=p.getBoundingClientRect(),g=h.left,k=h.top;return d=p.scrollTop,f=p.scrollLeft,n||(m={}),function(t){t=(0,x.getEventTarget)(t);var u=t.getBoundingClientRect(),z=u.top;u=u.left;var C=z!==k||u!==g;if(!(t&&"hidden"===t.style.visibility||C)){if(g=u,k=z,m[t]){if(99999<d||99999<f)return void v.logger.logInternalError(Error("Warning: large values seen for lastSroll in scroll event handler "+d+"/"+f));z=t.scrollTop-d;u=t.scrollLeft-f;C=Array.isArray(e)?e:[e];for(var a=
0;a<C.length;a++)C[a].style.top=parseInt(C[a].style.top)-z+"px",C[a].style.left=parseInt(C[a].style.left)-u+"px"}else m[t]=!0;d=t.scrollTop;f=t.scrollLeft;(99999<d||99999<f)&&v.logger.logInternalError(Error("Warning: large values seen for lastSroll in scroll event handler"+d+"/"+f))}}}},{key:"clearScrollEventListenerFromParents",value:function(p){var e=this;try{this.bindedElementsMap[p]&&this.bindedElementsMap[p].elements.forEach(function(n){(0,w.removeEventListener)(n,e.bindedElementsMap[p].scrollHandler)})}catch(n){v.logger.logInternalError(n,
"Error happened during clearing scroll handler of element "+p)}}},{key:"handleScrollEvent",value:function(p,e){try{for(var n=p.parentNode;n.tagName&&"BODY"!==n.tagName;){if(l.hasScrollbars(n)){var d=n;this.bindedElementsMap[p]||(this.bindedElementsMap[p]={});this.bindedElementsMap[p].elements&&Array.isArray(this.bindedElementsMap[p].elements)||(this.bindedElementsMap[p].elements=[]);this.bindedElementsMap[p].scrollHandler||(this.bindedElementsMap[p].scrollHandler=e);this.bindedElementsMap[p].elements.push(d);
(0,w.addEventListener)(d,"scroll",function(f){e(f)})}n=(0,x.getParentElement)(n)}}catch(f){v.logger.logInternalError(f,"Error during setting scroll event for element "+p)}}}],[{key:"hasScrollbars",value:function(p){p=q.windowRef.getComputedStyle(p);return"auto"===p["overflow-x"]||"scroll"===p["overflow-x"]||"auto"===p["overflow-y"]||"scroll"===p["overflow-y"]}}]),l}()},function(E,b,c){function y(C){return C&&C.__esModule?C:{default:C}}function q(C){var a=(0,v.findElementInWindow)(C.content.elementSelector,
document),H=C.aptrinsicRequestId,r=!0;(0,x.addEventListener)(document,"click",function I(F){r&&((0,x.hasElement)(a,F.target)||(d.default.guideExternalElementClicked(H),(0,x.removeEventListener)(document,"click",I,!1),r=!1))})}function w(C){if((0,p.isValidCallingDomain)(C.origin))try{var a=(0,p.parseEvent)(C);if(a&&-1<u.indexOf(a.aptrinsicEventType)){if((0,f.checkHandledRequest)(a.aptrinsicRequestId))return void l.logger.log("ignoring request that was already handled "+a.aptrinsicRequestId);switch((0,f.addHandledRequestId)(a.aptrinsicRequestId),
a.aptrinsicEventType){case "redirect":m.default.getToken()||(window.location.href=(0,x.addParametersToUrl)(window.location.href,JSON.parse(a.content.params)));break;case "register":(0,f.registerIframe)(C.source,C.origin,a.aptrinsicIframeId);var H=document.getElementsByTagName("iframe");(0,p.associateChildIframes)(H);break;case "pxUnregister":(0,f.unregisterIframe)(a.aptrinsicIframeId);break;case "elementExist":var r=a.content,B=(0,v.findElementInWindow)(r.elementSelector,document,!0);C=null;H=0;var F=
null,I=((0,x.isNodeList)(B)||Array.isArray(B))&&0<B.length,Q=Node.prototype.isPrototypeOf(B);I?(C=B[0],H=B.length):Q&&(C=B,H=1);r.returnAttributes&&(F=(0,x.getAttributesAndPropertiesWithValue)(C));var P=(0,x.isElementVisibleProxy)(C,r.scrollToElement);C&&!P&&r.scrollToElement&&(0,x.scrollElementToCenter)(C,function(M){return l.logger.logInternalError(M)});d.default.sendElementResponse(C,P,H,a.aptrinsicRequestId,F);break;case "getChildAssociation":d.default.associateParent(a.aptrinsicRequestId);break;
case "associateParent":(0,f.decrementState)(a.aptrinsicRequestId,{iframeId:a.aptrinsicIframeId});break;case "apt-msg-get-element-location":F=n.GuideDrawerIframe.getElementBoundingRect(a.content.elementSelector);d.default.broadcastElementRect(F,a.aptrinsicRequestId);break;case "apt_msg_get_badges_locations":var D=g.badgeIframeHelper.getBadgesWithLocations();d.default.broadcastUpBadgesLocation(D,a.aptrinsicRequestId);break;case e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME:var O=(0,p.fixBadgesLocations)(a.aptrinsicIframeId,
a.content.badges);d.default.broadcastUpBadgesLocation(O,a.aptrinsicRequestId);break;case "apt_msg_remove_badge":var W=a.content.badgeId;W&&g.badgeIframeHelper.removeBadgeFromBadgesList(W);break;case "apt_msg_send_badge":var ba=a.content.badge;ba&&g.badgeIframeHelper.addBadgeToBadgesList(ba);break;case "apt_msg_badge_set_observer":(0,g.addBadgeObserver)();var ma=g.badgeIframeHelper.getBadgesWithLocations();0<ma.length&&d.default.broadcastBadgesStatuses(ma);break;case "apt_msg_badge_unset_observer":(0,g.removeBadgeObserver)();
break;case e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT:var sa=a.content.elementRect,za=a.aptrinsicRequestId,S=(0,f.getIframeData)(a.aptrinsicIframeId).domElement.getBoundingClientRect();sa.top+=S.top;sa.left+=S.left;sa.bottom+=S.bottom;sa.right+=S.right;d.default.broadcastElementRect(sa,za);break;case "apt-msg-add-handler-show-next-step":switch(z.removeAllHandlers(),a.content.nextStepTrigger){case "ELEMENT_CLICK":z.addEventListener("click",a);z.addEventListener("contextmenu",a);break;case "ELEMENT_HOVER":z.addEventListener("mouseover",
a);break;case "INPUT_TEXT_COMPLETION":z.addEnterKeyDownListener(a)}break;case "aptGuideExternalClick":q(a);break;case "apt-msg-remove-element-handlers":z.removeAllHandlers();break;case t.EVENTS.BOT:(0,k.default)(a);break;default:l.logger.logInternalError(Error("child iframe script got unsupported event from master, data: "+JSON.stringify(a)))}}}catch(M){l.logger.logInternalError(M)}}Object.defineProperty(b,"__esModule",{value:!0});b.handleIncomingRequest=void 0;var v=c(7),x=c(0),l=c(2),p=c(12),e=
c(29),n=c(77);E=c(49);var d=y(E),f=c(5);E=c(16);var m=y(E),h=c(1),g=c(40);E=c(131);var k=y(E),t=c(24),u=["apt-msg-get-element-location","apt-msg-add-handler-show-next-step","apt-msg-remove-element-handlers","register","getChildAssociation",e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT,"associateParent","elementExist","aptGuideExternalClick","redirect","apt_msg_get_badges_locations","apt_msg_badge_set_observer","apt_msg_badge_unset_observer","apt_msg_send_badge","apt_msg_remove_badge",e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME,
t.EVENTS.BOT,"pxUnregister"],z=new function(){function C(Q){F=Q.target}var a=this,H={},r=void 0,B=!0,F=null,I=function(Q){return function(P){("pointerup"!==P.type||(0,v.checkIfSameElement)(F,P.target))&&B&&(d.default.guideLinkedElementClicked(Q),a.removeAllHandlers(),B=!1)}};this.addEnterKeyDownListener=function(Q){var P=Q.aptrinsicRequestId;r=(0,v.findElementInWindow)(Q.content.elementSelector,document);(0,x.isEnterAllowedElement)(r)&&(H.keydown=function(D){-1!==[13,9].indexOf(D.keyCode)&&D.currentTarget===
r&&I(P)()},(0,x.addEventListener)(r,"keydown",H.keydown))};this.addEventListener=function(Q,P){var D=P.aptrinsicRequestId;switch(r=(0,v.findElementInWindow)(P.content.elementSelector,document),H[Q]=I(D),Q){case "contextmenu":case "mouseover":(0,x.addEventListener)(r,Q,H[Q]);break;case "click":(0,h.getConfig)("elementClickToPointer")?((0,x.addEventListener)(r,"pointerdown",C),(0,x.addEventListener)(r,"pointerup",H[Q])):(0,x.addEventListener)(r,Q,H[Q]);break;default:l.logger.logInternalError(Error("ElementHandlersManager got unsupported event listener: "+
JSON.stringify(P)))}};this.removeEventListener=function(Q,P){(0,x.removeEventListener)(Q,P,H[P]);H[P]=null};this.removePointerListeners=function(Q){(0,x.removeEventListener)(Q,"pointerdown",C);(0,x.removeEventListener)(Q,"pointerup",H.click);H.click=null};this.removeAllHandlers=function(){r&&((0,h.getConfig)("elementClickToPointer")&&a.removePointerListeners(r),a.removeEventListener(r,"click"),a.removeEventListener(r,"contextmenu"),a.removeEventListener(r,"mouseover"),a.removeEventListener(r,"keydown"));
B=!0}};c=new function(){(0,h.isIframe)()&&!m.default.isEditorMode()&&(0,x.addEventListener)(window,"message",w)};b.default=c;b.handleIncomingRequest=w},function(E,b,c){function y(k){return k&&k.__esModule?k:{default:k}}function q(k){if((0,p.isValidCallingDomain)(k.origin)){var t=(0,p.parseEvent)(k);try{if(null!==t&&-1<g.indexOf(t.aptrinsicEventType)){var u=t.aptrinsicRequestId+"_"+t.aptrinsicIframeId;if((0,l.checkHandledRequest)(u))return void x.logger.log("ignoring request that was already handled "+
t.aptrinsicRequestId);switch((0,l.addHandledRequestId)(u),t.aptrinsicEventType){case "register":(0,l.registerIframe)(k.source,k.origin,t.aptrinsicIframeId,(0,v.getConfig)("framesetMode"));var z=document.getElementsByTagName("iframe");(0,p.associateChildIframes)(z);if(n.default.isEditorMode()){var C=n.default.getQueryParams(),a=JSON.stringify(C);(0,p.postRequestDown)({origin:window.location.href,aptrinsicEventType:"redirect",content:{params:a}},(0,l.getIframeData)(t.aptrinsicIframeId))}break;case "pxUnregister":(0,l.unregisterIframe)(t.aptrinsicIframeId);
break;case "associateParent":(0,l.decrementState)(t.aptrinsicRequestId,{iframeId:t.aptrinsicIframeId});break;case e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT_PARENT:var H=t.content.elementRect,r=(0,l.getIframeData)(t.aptrinsicIframeId),B=(0,v.getConfig)("framesetMode")?r.frameOffset:r.domElement.getBoundingClientRect();H.top+=B.top;H.left+=B.left;H.bottom+=B.bottom;H.right+=B.right;(0,l.decrementState)(t.aptrinsicRequestId,H);break;case "apt-msg-element-clicked":(0,l.decrementState)(t.aptrinsicRequestId,
{});break;case e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_RESPONSE:var F=t.aptrinsicIframeId,I=(0,p.fixBadgesLocations)(F,t.content.badges);(0,l.decrementState)(t.aptrinsicRequestId,{badges:I,iframeData:(0,l.getIframeData)(F)});break;case "apt_msg_badge_post_status":(0,f.updateBadgesFromIframe)(t.aptrinsicIframeId,t.content.badges);break;case "elementExistResult":(0,l.decrementState)(t.aptrinsicRequestId,{exist:t.content.exist,isVisible:t.content.isVisible,count:0<t.content.count?t.content.count:
0,attributes:t.content.attributes||null,iframeData:(0,l.getIframeData)(t.aptrinsicIframeId)});break;case "apt-msg-external-element-clicked":(0,l.decrementState)(t.aptrinsicRequestId,{});d.default.handleIframeExternalClick(t.aptrinsicIframeId);break;case m.EVENTS.BOT:(0,h.default)(t);break;default:x.logger.logInternalError(Error("master script got unsupported event from iframe, data: "+JSON.stringify(t)))}}}catch(Q){x.logger.logInternalError(Q)}}}Object.defineProperty(b,"__esModule",{value:!0});b.handleIncomingRequest=
void 0;var w=c(0),v=c(1),x=c(2),l=c(5),p=c(12),e=c(29);E=c(16);var n=y(E);E=c(86);var d=y(E),f=c(40),m=c(24);c=c(132);var h=y(c),g=["register",e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT_PARENT,"apt-msg-element-clicked","associateParent","elementExistResult","apt-msg-external-element-clicked","apt_msg_badge_post_status",e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_RESPONSE,m.EVENTS.BOT];c=new function(){(0,v.isIframe)()||n.default.isEditorMode()||(0,w.addEventListener)(window,"message",q,!1)};b.default=
c;b.handleIncomingRequest=q},function(E,b,c){function y(n,d){if(!(0,p.isIframe)()){var f=window.getMapperState&&window.getMapperState("isMapperEnabled");d=w.IframeRequest.getMasterRequst(x.MAPPER_NAMESPACE,{type:x.MASTER_TO_IFRAME_MESSAGES.MAPPER_STATE_RESPONSE,isMapperEnabled:f,isPreview:!1},d);(0,l.postRequestDown)(d,n)}}function q(n){v.internalEventListener.dispatchEvent("elementSelectedForIframe",n.content,(0,w.getIframeData)(n.aptrinsicIframeId))}Object.defineProperty(b,"__esModule",{value:!0});
b.sendMapperStateResponseToIframes=y;b.dispatchElementSelectedForIframe=q;b.handleMapperMessageInMaster=function(n){switch(n.content.type){case "element_selector_document_click":q(n);break;case x.IFRAME_TO_MASTER_MESSAGES.KEYBOARD_MAPPING_TOGGLED:v.internalEventListener.dispatchEvent(e.INTERNAL_MASTER_EVENTS.KEYBOARD_MAPPING_TOGGLED);break;case x.IFRAME_TO_MASTER_MESSAGES.GET_MAPPER_STATE:y((0,w.getIframeData)(n.aptrinsicIframeId),n.aptrinsicRequestId);break;default:console.log("not supported")}};
b.handleMapperMessagesInIframe=function(n){switch(n.content.type){case x.MASTER_TO_IFRAME_MESSAGES.SET_MAPPER_STATE:v.internalEventListener.dispatchEvent("setMapperStateForIframe",n.content.isMapperEnabled);break;case x.MASTER_TO_IFRAME_MESSAGES.MAPPER_STATE_RESPONSE:(0,w.decrementState)(n.aptrinsicRequestId,n.content);break;default:console.log("not supported")}};var w=c(5),v=c(11),x=c(75),l=c(12),p=c(1),e=c(76)},function(E,b,c){function y(f){if(f&&f.__esModule)return f;var m={};if(null!=f)for(var h in f)Object.prototype.hasOwnProperty.call(f,
h)&&(m[h]=f[h]);return m.default=f,m}function q(){(0,w.isIframe)()&&(this.associateParent=function(f){f=x.IframeRequest.getIframeRequest((0,v.getIframeId)(),"associateParent",null,f);(0,v.postRequest)(f,window.parent,!0)})}Object.defineProperty(b,"__esModule",{value:!0});b.createIframeProxy=function(){return new q};b.handleIframeMessages=function(f,m){try{var h=(0,v.parseEvent)(f),g=m[h.aptrinsicEventType];g?g(h,f):l.logger.logInternalError(Error("child iframe script got unsupported event from master, data: "+
JSON.stringify(h)))}catch(k){l.logger.logInternalError(k)}e.handleIncomingRequest(f)};b.handleMasterMessages=function(f,m){if((0,v.isValidCallingDomain)(f.origin)){var h=(0,v.parseEvent)(f);if(null!==h){try{var g=Object.assign({},d,m)[h.aptrinsicEventType];g?g(h,f):l.logger.logInternalError(Error("master script got unsupported event from iframe, data: "+JSON.stringify(h)))}catch(k){l.logger.logInternalError(k)}n.handleIncomingRequest(f)}}};b.handleIncomingRequest=function(f,m,h){if((0,v.isValidCallingDomain)(f.origin))try{var g=
(0,v.parseEvent)(f);g&&-1<m.indexOf(g.aptrinsicEventType)&&h(g,f)}catch(k){l.logger.logInternalError(k)}};var w=c(1),v=c(12),x=c(5),l=c(2),p=(E=c(16))&&E.__esModule?E:{default:E};E=c(111);var e=y(E);c=c(112);var n=y(c),d={register:function(f,m){(0,x.registerIframe)(m.source,m.origin,f.aptrinsicIframeId,(0,w.getConfig)("framesetMode"));m=document.getElementsByTagName("iframe");if((0,v.associateChildIframes)(m),p.default.isEditorMode())m=p.default.getQueryParams(),m=JSON.stringify(m),(0,v.postRequestDown)({origin:window.location.href,
aptrinsicEventType:"redirect",content:{params:m}},(0,x.getIframeData)(f.aptrinsicIframeId))},associateParent:function(f){(0,x.decrementState)(f.aptrinsicRequestId,{iframeId:f.aptrinsicIframeId})},"apt-log":function(f){l.logger.reportToServer("aptrinsic web sdk error: "+f.content.message+"\n"+f.content.extraMessage+"\n at: "+f.content.stackTrace)}}},,function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(0),q=c(2),w=c(26),v=c(1),x=c(27),l=(E=c(51))&&E.__esModule?E:{default:E};E=new function(){function p(n,
d){(0,v.getConfig)("enableTag")&&(w.UserData.changeUserType(w.UserData.getLeadType()),(0,x.internalApt)("lead",{fof:d,usf:{usem:n,ls:"FORM"}},function(f){w.UserData.setAptrinsicId(f.ai,!0)}))}var e=this;this.init=function(){(0,v.getConfig)("enableTag")&&(0,v.featureEnabled)("form")&&(0,y.addEventListener)(document,"submit",function(n){try{if(!(w.UserData.getUserType()!=w.UserData.visitorType()||-1<location.href.toLowerCase().indexOf("unsubscribe"))){a:{var d=n.target;if((0,v.getConfig)("enableTag")){var f=
d.querySelectorAll("input[type\x3dpassword]");if(void 0!==f&&null!=f&&0<f.length)var m=void q.logger.log("lead tracker does not collect forms with password fields");else{try{b:{var h=d.querySelectorAll("[type\x3dsubmit]").item(0).textContent.toLowerCase();n=["password","unsubscribe"];for(f=0;f<n.length;f++)if(-1<h.indexOf(n[f])){var g=!0;break b}g=!1}if(g){m=void q.logger.log("lead tracker does not collect forms with reserved words");break a}}catch(u){q.logger.logInternalError(u)}g={};h={};var k=
f=n=void 0,t=d.querySelectorAll("input");if(void 0!==t&&null!=t){for(d=0;d<t.length;d++)n=t[d],"password"!==(k=n.getAttribute("type"))&&"button"!==k&&"submit"!==k&&(f=n.getAttribute("id")||n.getAttribute("name"))&&(h[f]=n.value)&&(0,y.isEmail)(h[f])&&(g.email=h[f]);g.formFields=h}m=g}}else m=void 0}m&&m.email&&((0,v.isIframe)()?l.default.lead("FORM",m.email,void 0,m.formFields):p(m.email,m.formFields))}}catch(u){q.logger.logInternalError(u)}})};this.trackLead=function(n,d){try{if((0,v.getConfig)("enableTag")){var f=
{};Object.assign(f,d);f.usem=n;f.ls="API";(0,v.isIframe)()?l.default.lead("API",n,d):(0,x.internalApt)("lead",{usf:f},function(m){w.UserData.setAptrinsicId(m.ai,!0)})}}catch(m){q.logger.logInternalError(m)}};this.track=function(n,d,f,m){if((0,v.getConfig)("enableTag")&&!(0,v.isIframe)())switch(n){case "API":e.trackLead(d,f);break;case "FORM":p(d,m);break;default:q.logger.logInternalError(Error("got unknown lead source: "+n))}}};b.default=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});
var y=function(){function l(p,e){for(var n=0;n<e.length;n++){var d=e[n];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(p,d.key,d)}}return function(p,e,n){return e&&l(p.prototype,e),n&&l(p,n),p}}(),q=c(1),w=c(4),v=c(50),x=c(2);E=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");}return y(l,null,[{key:"call",value:function(p){for(var e=p.length,n=0;n<e;n++)l.callCommand(p[n])}},{key:"callCommand",
value:function(p){try{if(1>p.length)throw Error("Cannot have command with less than one arguments");if((0,q.getConfig)("enableTag")||"config"===p[0]){var e=Array.prototype.slice.call(p),n=e[0];if("reset"!==n&&2>p.length)throw Error("Cannot have command with less than two arguments");-1<w.apiMethods.indexOf(n)&&v.externalApi[n].apply(v.externalApi,e.slice(1))}}catch(d){x.logger.logInternalError(d)}}}]),l}();b.default=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.getServerConfiguration=
b.tagConfigKeyName=void 0;var y=c(1),q=c(26),w=c(13),v=c(2),x=c(9),l=c(4),p=c(78),e=c(61),n=c(60),d=c(104),f=function(){};b.tagConfigKeyName="tagConfig";b.getServerConfiguration=function(m,h,g,k,t,u){var z=y.getConfigEndpoint+"?p\x3d"+h,C=q.UserData.getAptrinisId(!0);0<q.UserData.getUserType(!0)&&C&&(z+="\x26ai\x3d"+C);w.AjaxUtil.getData(z,function(a){var H=a.sdkConfiguration;v.logger.log("Received new configuration: \n"+JSON.stringify(H,null,2));(0,y.overrideConfig)(H,!m);v.logger.log("Applied configuration: \n"+
JSON.stringify((0,y.getConfigObj)(),null,2));H=(0,x.detectIE)();(H&&10>H&&(v.logger.logInternalError(Error("disabling tag since this is unsupported IE version "+H)),(0,y.disableTag)()),(0,y.overrideConfig)(k,!1,!0),m&&(0,y.getConfig)("enableTag"))?(H=a.clientSideFeatureMatchMetadata||[],a=a.trackingPropertiesMetadata||[],(0,e.loadChecksumFile)((0,y.getConfig)(n.ENGAGEMENT_CHECKSUM_URL_CONFIG)),(0,d.loadTrackingPropertiesMetadata)({clientSideFeatureMatchMetadata:H,trackingPropertiesMetadata:a}),t(h,
g,m)):(0,y.getConfig)("enableTag")?((0,d.loadTrackingPropertiesMetadata)({clientSideFeatureMatchMetadata:a.clientSideFeatureMatchMetadata||[],trackingPropertiesMetadata:a.trackingPropertiesMetadata||[]}),u&&u(),(0,e.loadChecksumFile)((0,y.getConfig)(n.ENGAGEMENT_CHECKSUM_URL_CONFIG))):l.windowRef[l.aptrinsicGlobalObjName]=f;(0,p.initKnowledgeCenterWrapper)(m,!m)},null,function(){m?((0,y.overrideConfig)((0,y.getConfigObj)(),!1),(0,y.overrideConfig)(k,!1,!0),t(h,g,m),(0,d.loadTrackingPropertiesMetadata)({clientSideFeatureMatchMetadata:[],
trackingPropertiesMetadata:[]})):u&&u();v.logger.log("Applied configuration: \n"+JSON.stringify((0,y.getConfigObj)(),null,2))},void 0,void 0,(0,y.getConfig)("requestTimeoutCritical"))}},function(E,b,c){function y(z,C){(0,e.isIframe)()||(0,g.propagateDown)(h.IframeRequest.getMasterRequst(z,C),(0,h.getRegisteredIframes)())}function q(z){y(t.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL,{featureRules:z})}function w(z){y(t.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE,{mappedElements:z})}function v(){y(t.PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED)}
function x(z){y(t.PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED,{type:z})}function l(z,C,a){C=h.IframeRequest.getMasterRequst(t.PRODUCT_MAPPER_V2_RESOLVE_CLICK_PROPERTY,{property:C},a,z.iframeId);(0,g.postRequestDown)(C,z)}function p(z){var C=z.property,a=z.id;z.iframeList.forEach(function(H){u.resolveClickProperty(H,C,a);(0,h.incrementState)(a)});(0,h.execute)(a,200)}Object.defineProperty(b,"__esModule",{value:!0});b.resolveClickPropertyFromIframes=void 0;var e=c(1),n=c(47),d=c(0),f=c(2),m=c(14),h=c(5),g=
c(12),k=(E=c(133))&&E.__esModule?E:{default:E},t=c(76),u=new function(){this.removeHighlighted=x;this.removeAllHighlighted=v;this.highlightAll=q;this.highlightAllForFeature=w;this.setMapperState=k.default.setMapperStateForMaster;this.resolveClickProperty=l};b.default=u;b.resolveClickPropertyFromIframes=function(z){var C=z.property;return new Promise(function(a){if((0,d.isObjectEmpty)(C)||!(0,n.isClickPropertyType)(C.propertyType))return void a("");var H=(0,h.getRegisteredIframes)(),r=m.UUIDGenerator.generateV4Id();
(0,h.subscribe)(r,function(B){B=B.find(function(F){return""!==F.resolvedProperty&&(0,d.isNotNullOrUndefined)(F.resolvedProperty)});a(B?B.resolvedProperty:"")});try{(0,d.isNotEmptyArr)(H)?p({iframeList:H,property:C,id:r}):a("")}catch(B){f.logger.log("Error resolving click property from iframes",B)}})}},function(E,b,c){function y(v){null!==sessionStorage.getItem(v)&&localStorage.setItem(v,sessionStorage.getItem(v))}function q(v){null!==localStorage.getItem(v)&&(sessionStorage.setItem(v,localStorage.getItem(v)),
localStorage.removeItem(v))}Object.defineProperty(b,"__esModule",{value:!0});b.copySessionStorageToLocalStorage=y;b.copyLocalStorageToSessionStorage=q;b.copySessionStorageToLocalStorageGuideKeys=function(){w.forEach(y)};b.copyLocalStorageToSessionStorageGuideKeys=function(){w.forEach(q)};var w="apt.stepId apt.prevStepMap apt.guideId aptCurrentGuideUrl apt.localCache apt.engagementExecutionTracking".split(" ")},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function x(l,
p){for(var e=0;e<p.length;e++){var n=p[e];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(l,n.key,n)}}return function(l,p,e){return p&&x(l.prototype,p),e&&x(l,e),l}}(),q=(E=c(69))&&E.__esModule?E:{default:E},w=(E=c(48))&&E.__esModule?E:{default:E},v=c(47);c=new (function(){function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.iframeTrackingFeatures=[]}return y(x,[{key:"setIframeTrackingFeatures",value:function(l){this.iframeTrackingFeatures=
l}},{key:"resolvePageViewEventTrackingProperties",value:function(l){l=l.url;var p=q.default.getFeaturesForUrl(l,"pageview");p=(0,v.getUniqueTrackingPropertiesIds)(p);return w.default.resolveTrackingPropertiesByIds(p,l)}},{key:"resolveClickEventTrackingProperties",value:function(l){var p=l.url;l=l.targetElement;var e=q.default.getFeaturesForUrl(p,"click");l=(0,v.getMatchedClickFeatures)(e,l);l=(0,v.getUniqueTrackingPropertiesIds)(l);return w.default.resolveTrackingPropertiesByIds(l,p)}},{key:"resolveTrackingPropertiesForFeatureIds",
value:function(l){var p=l.url;l=q.default.getFeaturesMetadata(l.featureIds);l=(0,v.getUniqueTrackingPropertiesIds)(l);return w.default.resolveTrackingPropertiesByIds(l,p)}},{key:"resolveIframeClickEventTrackingProperties",value:function(l){l=(0,v.getMatchedClickFeatures)(this.iframeTrackingFeatures,l.targetElement);l=(0,v.getUniqueTrackingPropertiesIds)(l);return w.default.resolveClickProperties(l)}}]),x}());b.default=c},function(E,b,c){function y(q,w){if(void 0===q||null===q)throw new TypeError("Cannot convert first argument to object");
for(var v=Object(q),x=1;x<arguments.length;x++){var l=arguments[x];if(void 0!==l&&null!==l)for(var p=Object.keys(Object(l)),e=0,n=p.length;e<n;e++){var d=p[e],f=Object.getOwnPropertyDescriptor(l,d);void 0!==f&&f.enumerable&&(v[d]=l[d])}}return v}E.exports={assign:y,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:y})}}},function(E,b,c){E.exports=function(y,q){y=y.split(".");q=q.split(".");for(var w=0;3>w;w++){var v=Number(y[w]),
x=Number(q[w]);if(v>x)return 1;if(x>v)return-1;if(!isNaN(v)&&isNaN(x))return 1;if(isNaN(v)&&!isNaN(x))return-1}return 0}},function(E,b,c){(function(y){function q(){return b._=q=Object.assign||function(va){for(var Ga=1;Ga<arguments.length;Ga++){var Ma=arguments[Ga],ja;for(ja in Ma)Object.prototype.hasOwnProperty.call(Ma,ja)&&(va[ja]=Ma[ja])}return va},q.apply(this,arguments)}function w(va){return l(va)?[va]:x(va,"NodeList")?k(va):Array.isArray(va)?va:k(document.querySelectorAll(va))}function v(va,
Ga,Ma){return Array.isArray(va)?(va=va[Ga],null==va?Array.isArray(Ma)?Ma[Ga]:Ma:va):va}function x(va,Ga){va={}.toString.call(va);return 0===va.indexOf("[object")&&-1<va.indexOf(Ga+"]")}function l(va){return x(va,"Element")}function p(va){return x(va,"MouseEvent")}function e(va,Ga){return"function"==typeof va?va.apply(void 0,Ga):va}function n(va,Ga,Ma,ja){va.filter(function(Da){return Da.name===Ga})[0][Ma]=ja}function d(){return document.createElement("div")}function f(va,Ga){va.forEach(function(Ma){Ma&&
(Ma.style.transitionDuration=Ga+"ms")})}function m(va,Ga){va.forEach(function(Ma){Ma&&Ma.setAttribute("data-state",Ga)})}function h(va,Ga){if(0===Ga)return va;var Ma;return function(ja){clearTimeout(Ma);Ma=setTimeout(function(){va(ja)},Ga)}}function g(va,Ga){var Ma=q({},va);return Ga.forEach(function(ja){delete Ma[ja]}),Ma}function k(va){return[].slice.call(va)}function t(va,Ga){for(;va;){if(Ga(va))return va;va=va.parentElement}return null}function u(va,Ga){return-1<va.indexOf(Ga)}function z(va,Ga){return void 0!==
va?va:Ga}function C(va){return[].concat(va)}function a(va){return(va=C(va)[0])?va.ownerDocument||document:document}function H(va,Ga){-1===va.indexOf(Ga)&&va.push(Ga)}function r(va){return va.filter(function(Ga,Ma){return va.indexOf(Ga)===Ma})}function B(va,Ga,Ma){void 0===Ga&&(Ga=5);var ja={top:0,right:0,bottom:0,left:0};return Object.keys(ja).reduce(function(Da,ra){return Da[ra]="number"==typeof Ga?Ga:Ga[ra],va===ra&&(Da[ra]="number"==typeof Ga?Ga+Ma:Ga[va]+Ma),Da},ja)}function F(va){return"\n    "+
va+"() was called on a"+("destroy"===va?"n already-":" ")+"destroyed instance. This is a no-op but\n    indicates a potential memory leak.\n  "}function I(va){return va.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function Q(va){return[I("\n  %ctippy.js\n\n  %c"+I(va)+"\n\n  %c This is a development-only message. It will be removed in production.\n  "),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function P(va,Ga){if(va){var Ma;(Ma=
console).warn.apply(Ma,Q(Ga))}}function D(va,Ga){if(va){var Ma;(Ma=console).error.apply(Ma,Q(Ga))}}function O(va){var Ga=!va,Ma="[object Object]"===Object.prototype.toString.call(va)&&!va.addEventListener;D(Ga,["tippy() was passed","`"+String(va)+"`","as its targets (first) argument. Valid types are: String, Element, Element[], or NodeList."].join(" "));D(Ma,"tippy() was passed a plain object which is no longer supported as an argument. See: https://atomiks.github.io/tippyjs/misc/#custom-position")}
function W(va){var Ga=(va.plugins||[]).reduce(function(Ma,ja){var Da=ja.name;ja=ja.defaultValue;return Da&&(Ma[Da]=void 0!==va[Da]?va[Da]:ja),Ma},{});return q({},va,{},Ga)}function ba(va,Ga){return(Ga?Object.keys(W(q({},fa,{plugins:Ga}))):Ca).reduce(function(Ma,ja){var Da=(va.getAttribute("data-tippy-"+ja)||"").trim();if(!Da)return Ma;if("content"===ja)Ma[ja]=Da;else try{Ma[ja]=JSON.parse(Da)}catch(ra){Ma[ja]=Da}return Ma},{})}function ma(va,Ga){va=q({},Ga,{content:e(Ga.content,[va])},Ga.ignoreAttributes?
{}:ba(va,Ga.plugins));return va.interactive&&(va.aria=null),va}function sa(va,Ga){void 0===va&&(va={});void 0===Ga&&(Ga=[]);Object.keys(va).forEach(function(Ma){var ja=va[Ma],Da="popperOptions"===Ma&&null!==ja&&"object"===(void 0===ja?"undefined":T(ja))&&{}.hasOwnProperty.call(ja,"placement"),ra=g(fa,["animateFill","followCursor","inlinePositioning","sticky"]),La="a11y arrowType showOnInit size target touchHold".split(" ");(ra=!{}.hasOwnProperty.call(ra,Ma)&&!u(La,Ma))&&(ra=0===Ga.filter(function(ya){return ya.name===
Ma}).length);P("target"===Ma,"The `target` prop was removed in v5 and replaced with the delegate() addon in order to conserve bundle size. See: https://atomiks.github.io/tippyjs/addons/#event-delegation");P("a11y"===Ma,"The `a11y` prop was removed in v5. Make sure the element you are giving a tippy to is natively focusable, such as \x3cbutton\x3e or \x3cinput\x3e, not \x3cdiv\x3e or \x3cspan\x3e.");P("showOnInit"===Ma,"The `showOnInit` prop was renamed to `showOnCreate` in v5.");P("arrowType"===Ma,
'The `arrowType` prop was removed in v5 in favor of overloading the `arrow` prop. \n\n "round" string was replaced with importing the string from the package. \n\n * import {roundArrow} from \'tippy.js\'; (ESM version)\n * const {roundArrow} \x3d tippy; (IIFE CDN version) \n\n Before: {arrow: true, arrowType: "round"}\n After: {arrow: roundArrow}`');P("touchHold"===Ma,'The `touchHold` prop was removed in v5 in favor of overloading the `touch` prop. \n\n Before: {touchHold: true}\n After: {touch: "hold"}');
P("size"===Ma,"The `size` prop was removed in v5. Instead, use a theme that specifies CSS padding and font-size properties.");P("theme"===Ma&&"google"===ja,'The included theme "google" was renamed to "material" in v5.');P(Da,'Specifying placement in `popperOptions` is not supported. Use the base-level `placement` prop instead. \n\n Before: {popperOptions: {placement: "bottom"}}\n After: {placement: "bottom"}');P(ra,["`"+Ma+"`","is not a valid prop. You may have spelled it incorrectly, or if it's a plugin, forgot to pass it in an array as props.plugins. \n\n In v5, the following props were turned into plugins: \n\n * animateFill\n * followCursor\n * sticky \n\n All props: https://atomiks.github.io/tippyjs/all-props/\n Plugins: https://atomiks.github.io/tippyjs/plugins/"].join(" "))})}
function za(){Ja.isTouch||(Ja.isTouch=!0,window.performance&&document.addEventListener("mousemove",S))}function S(){var va=performance.now();20>va-Sa&&(Ja.isTouch=!1,document.removeEventListener("mousemove",S));Sa=va}function M(){var va=document.activeElement;if(va&&va._tippy&&va._tippy.reference===va){var Ga=va._tippy;va.blur&&!Ga.state.isVisible&&va.blur()}}function V(va){document.body.classList[va&&hb&&Ja.isTouch?"add":"remove"](J)}function X(va){return va.split("-")[0]}function Y(va,Ga){l(Ga.content)?
(va.innerHTML="",va.appendChild(Ga.content)):"function"!=typeof Ga.content&&(va[Ga.allowHTML?"innerHTML":"textContent"]=Ga.content)}function qa(va){return{tooltip:va.querySelector(la),content:va.querySelector(ea),arrow:va.querySelector(pa)||va.querySelector(Aa)}}function xa(va){var Ga=d();!0===va?Ga.className=Z:(Ga.className=ta,l(va)?Ga.appendChild(va):Ga.innerHTML=va);return Ga}function Ea(va,Ga){var Ma=d();Ma.className=R;Ma.style.position="absolute";Ma.style.top="0";Ma.style.left="0";var ja=d();
ja.className=N;ja.id="tippy-"+va;ja.setAttribute("data-state","hidden");ja.setAttribute("tabindex","-1");wa(ja,"add",Ga.theme);va=d();va.className=U;va.setAttribute("data-state","hidden");Ga.interactive&&ja.setAttribute("data-interactive","");Ga.arrow&&(ja.setAttribute("data-arrow",""),ja.appendChild(xa(Ga.arrow)));Ga.inertia&&ja.setAttribute("data-inertia","");return Y(va,Ga),ja.appendChild(va),Ma.appendChild(ja),Ha(Ma,Ga,Ga),Ma}function Ha(va,Ga,Ma){var ja=qa(va),Da=ja.tooltip,ra=ja.content;ja=
ja.arrow;va.style.zIndex=""+Ma.zIndex;Da.setAttribute("data-animation",Ma.animation);va=Ma.maxWidth;Da.style.maxWidth="number"==typeof va?va+"px":va;Ma.role?Da.setAttribute("role",Ma.role):Da.removeAttribute("role");Ga.content!==Ma.content&&Y(ra,Ma);!Ga.arrow&&Ma.arrow?(Da.appendChild(xa(Ma.arrow)),Da.setAttribute("data-arrow","")):Ga.arrow&&!Ma.arrow?(Da.removeChild(ja),Da.removeAttribute("data-arrow")):Ga.arrow!==Ma.arrow&&(Da.removeChild(ja),Da.appendChild(xa(Ma.arrow)));!Ga.interactive&&Ma.interactive?
Da.setAttribute("data-interactive",""):Ga.interactive&&!Ma.interactive&&Da.removeAttribute("data-interactive");!Ga.inertia&&Ma.inertia?Da.setAttribute("data-inertia",""):Ga.inertia&&!Ma.inertia&&Da.removeAttribute("data-inertia");Ga.theme!==Ma.theme&&(wa(Da,"remove",Ga.theme),wa(Da,"add",Ma.theme))}function Ba(va,Ga,Ma){va[Ga+"EventListener"](Pa&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend",Ma)}function wa(va,Ga,Ma){Ma.split(/\s+/).filter(Boolean).forEach(function(ja){va.classList[Ga](ja+
"-theme")})}function Fa(va,Ga){var Ma=Ga.clientX,ja=Ga.clientY;return va.every(function(Da){var ra=Da.popperRect,La=Da.tooltipRect;Da=Da.interactiveBorder;var ya=ja-Math.max(ra.bottom,La.bottom)>Da,Ra=Math.min(ra.left,La.left)-Ma>Da,Ta=Ma-Math.max(ra.right,La.right)>Da;return Math.min(ra.top,La.top)-ja>Da||ya||Ra||Ta})}function ia(va,Ga){function Ma(){var Qa=Na.props.touch;return Array.isArray(Qa)?Qa:[Qa,0]}function ja(Qa){return Na.state.isMounted&&!Na.state.isVisible||Ja.isTouch||Wb&&"focus"===
Wb.type?0:v(Na.props.delay,Qa?0:1,fa.delay)}function Da(Qa,nb,bb){if(void 0===bb&&(bb=!0),Gc.forEach(function(vb){({}).hasOwnProperty.call(vb,Qa)&&vb[Qa].apply(vb,nb)}),bb){var gb;(gb=Na.props)[Qa].apply(gb,nb)}}function ra(){var Qa=Na.props.aria;if(Qa){var nb="aria-"+Qa,bb=Ub.id;C(Na.props.triggerTarget||va).forEach(function(gb){var vb=gb.getAttribute(nb);Na.state.isVisible?gb.setAttribute(nb,vb?vb+" "+bb:bb):(vb=vb&&vb.replace(bb,"").trim())?gb.setAttribute(nb,vb):gb.removeAttribute(nb)})}}function La(){C(Na.props.triggerTarget||
va).forEach(function(Qa){Na.props.interactive?Qa.setAttribute("aria-expanded",Na.state.isVisible&&Qa===(gc||va)?"true":"false"):Qa.removeAttribute("aria-expanded")})}function ya(){Tb.body.removeEventListener("mouseleave",Zb);Tb.removeEventListener("mousemove",Jb);qb=qb.filter(function(Qa){return Qa!==Jb})}function Ra(Qa){Na.props.interactive&&rb.contains(Qa.target)||(gc||va).contains(Qa.target)&&(Ja.isTouch||Na.state.isVisible&&u(Na.props.trigger,"click"))||!0===Na.props.hideOnClick&&(ac=!1,Na.clearDelayTimeouts(),
Na.hide(),tc=!0,setTimeout(function(){tc=!1}),Na.state.isMounted||Ta())}function Ta(){Tb.removeEventListener("mousedown",Ra,!0)}function ab(Qa,nb){Xa(Qa,function(){!Na.state.isVisible&&rb.parentNode&&rb.parentNode.contains(rb)&&nb()})}function Ua(Qa,nb){Xa(Qa,nb)}function Xa(Qa,nb){function bb(gb){gb.target===Ub&&"visibility"===gb.propertyName&&(Ba(Ub,"remove",bb),nb())}if(0===Qa)return nb();Ba(Ub,"remove",pc);Ba(Ub,"add",bb);pc=bb}function lb(Qa,nb,bb){void 0===bb&&(bb=!1);C(Na.props.triggerTarget||
va).forEach(function(gb){gb.addEventListener(Qa,nb,bb);uc.push({node:gb,eventType:Qa,handler:nb,options:bb})})}function Eb(){"hold"===Ma()[0]&&(lb("touchstart",zb,G),lb("touchend",Ia,G));Na.props.trigger.split(/\s+/).filter(Boolean).forEach(function(Qa){if("manual"!==Qa)switch(lb(Qa,zb),Qa){case "mouseenter":lb("mouseleave",Ia);break;case "focus":lb(db?"focusout":"blur",Za)}})}function tb(){uc.forEach(function(Qa){Qa.node.removeEventListener(Qa.eventType,Qa.handler,Qa.options)});uc=[]}function zb(Qa){var nb=
!1;if(Na.state.isEnabled&&!kb(Qa)&&!tc){if(Wb=Qa,gc=Qa.currentTarget,La(),!Na.state.isVisible&&p(Qa)&&qb.forEach(function(vb){return vb(Qa)}),"click"!==Qa.type||u(Na.props.trigger,"mouseenter")&&!ac||!1===Na.props.hideOnClick||!Na.state.isVisible){var bb=Ma(),gb=bb[0];bb=bb[1];Ja.isTouch&&"hold"===gb&&bb?lc=setTimeout(function(){xb(Qa)},bb):xb(Qa)}else nb=!0;"click"===Qa.type&&(ac=!nb);nb&&Zb(Qa)}}function Ka(Qa){t(Qa.target,function(nb){return nb===va||nb===rb})||Fa(k(rb.querySelectorAll(ca)).concat(rb).map(function(nb){var bb=
nb._tippy,gb=bb.popperChildren.tooltip;bb=bb.props.interactiveBorder;return{popperRect:nb.getBoundingClientRect(),tooltipRect:gb.getBoundingClientRect(),interactiveBorder:bb}}),Qa)&&(ya(),Zb(Qa))}function Ia(Qa){if(!kb(Qa))return Na.props.interactive?(Tb.body.addEventListener("mouseleave",Zb),Tb.addEventListener("mousemove",Jb),void H(qb,Jb)):void(u(Na.props.trigger,"click")&&ac||Zb(Qa))}function Za(Qa){Qa.target===(gc||va)&&(Na.props.interactive&&Qa.relatedTarget&&rb.contains(Qa.relatedTarget)||
Zb(Qa))}function kb(Qa){var nb="ontouchstart"in window;Qa=u(Qa.type,"touch");var bb="hold"===Ma()[0];return nb&&Ja.isTouch&&bb&&!Qa||Ja.isTouch&&!bb&&Qa}function ib(){function Qa(Wa){var eb=Na.state.currentPlacement;Na.state.currentPlacement=Wa.placement;Na.props.flip&&!Na.props.flipOnUpdate&&(Wa.flipped&&(Na.popperInstance.options.placement=Wa.placement),n(Na.popperInstance.modifiers,"flip","enabled",!1));Ub.setAttribute("data-placement",Wa.placement);!1!==Wa.attributes["x-out-of-boundaries"]?Ub.setAttribute("data-out-of-boundaries",
""):Ub.removeAttribute("data-out-of-boundaries");var ub=X(Wa.placement),Yb=u(["top","bottom"],ub);ub=u(["bottom","right"],ub);Ub.style.top="0";Ub.style.left="0";Ub.style[Yb?"top":"left"]=(ub?1:-1)*nb+"px";eb&&eb!==Wa.placement&&Na.popperInstance.update()}var nb,bb=Na.props.popperOptions,gb=Na.popperChildren.arrow,vb=bb&&bb.modifiers&&bb.modifiers.flip,Cb=bb&&bb.modifiers&&bb.modifiers.preventOverflow,sb=q({eventsEnabled:!1,placement:Na.props.placement},bb,{modifiers:q({},bb&&bb.modifiers,{tippyDistance:{enabled:!0,
order:0,fn:function(Wa){var eb=Tb,ub=Na.props.distance,Yb="string"==typeof ub&&u(ub,"rem");nb=(eb=eb.documentElement)&&Yb?parseFloat(getComputedStyle(eb).fontSize||"16")*("number"==typeof ub?ub:parseFloat(ub)):"number"==typeof ub?ub:parseFloat(ub);Yb=X(Wa.placement);ub=B(Yb,Cb&&Cb.padding,nb);Yb=B(Yb,vb&&vb.padding,nb);eb=Na.popperInstance.modifiers;return n(eb,"preventOverflow","padding",ub),n(eb,"flip","padding",Yb),Wa}},preventOverflow:q({boundariesElement:Na.props.boundary},Cb),flip:q({enabled:Na.props.flip,
behavior:Na.props.flipBehavior},vb),arrow:q({element:gb,enabled:!!gb},bb&&bb.modifiers&&bb.modifiers.arrow),offset:q({offset:Na.props.offset},bb&&bb.modifiers&&bb.modifiers.offset)}),onCreate:function(Wa){Qa(Wa);var eb=bb&&bb.onCreate;Wa=[Wa];eb&&eb!==sb.onCreate&&eb.apply(void 0,Wa);Ab()},onUpdate:function(Wa){Qa(Wa);var eb=bb&&bb.onUpdate;Wa=[Wa];eb&&eb!==sb.onUpdate&&eb.apply(void 0,Wa);Ab()}});Na.popperInstance=new da.default(va,rb,sb)}function Ab(){0===kc?(kc++,Na.popperInstance.update()):rc&&
1===kc&&(kc++,rb.offsetHeight,rc())}function Bb(){kc=0;var Qa=Na.props.appendTo,nb=gc||va;var bb=Na.props.interactive&&Qa===fa.appendTo||"parent"===Qa?nb.parentNode:e(Qa,[nb]);bb.contains(rb)||bb.appendChild(rb);"production"!==y.env.NODE_ENV&&P(Na.props.interactive&&Qa===fa.appendTo&&nb.nextElementSibling!==rb,"Interactive tippy element may not be accessible via keyboard navigation because it is not directly after the reference element in the DOM source order. \n\n Using a wrapper \x3cdiv\x3e or \x3cspan\x3e tag around the reference element solves this by creating a new parentNode context. \n\n Specifying `appendTo: document.body` silences this warning, but it assumes you are using a focus management solution to handle keyboard navigation. \n\n See: https://atomiks.github.io/tippyjs/accessibility/#interactivity");
n(Na.popperInstance.modifiers,"flip","enabled",Na.props.flip);Na.popperInstance.enableEventListeners();Na.popperInstance.update()}function xb(Qa){Na.clearDelayTimeouts();Na.popperInstance||ib();Qa&&Da("onTrigger",[Na,Qa]);Tb.addEventListener("mousedown",Ra,!0);(Qa=ja(!0))?lc=setTimeout(function(){Na.show()},Qa):Na.show()}function Zb(Qa){if(Na.clearDelayTimeouts(),Da("onUntrigger",[Na,Qa]),!Na.state.isVisible)return void Ta();(Qa=ja(!1))?qc=setTimeout(function(){Na.state.isVisible&&Na.hide()},Qa):
wc=requestAnimationFrame(function(){Na.hide()})}Ga=ma(va,q({},fa,{},W(Ga)));if(!Ga.multiple&&va._tippy)return null;var lc,qc,wc,Wb,rc,pc,gc,hc=!1,ac=!1,tc=!1,kc=0,uc=[],Jb=h(Ka,Ga.interactiveDebounce),Tb=a(Ga.triggerTarget||va),Lb=Ya++,rb=Ea(Lb,Ga),vc=qa(rb),nc=r(Ga.plugins),Ub=vc.tooltip,ec=[Ub,vc.content],Na={id:Lb,reference:va,popper:rb,popperChildren:vc,popperInstance:null,props:Ga,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:nc,clearDelayTimeouts:function(){clearTimeout(lc);
clearTimeout(qc);cancelAnimationFrame(wc)},setProps:function(Qa){if("production"!==y.env.NODE_ENV&&P(Na.state.isDestroyed,F("setProps")),!Na.state.isDestroyed){"production"!==y.env.NODE_ENV&&(sa(Qa,nc),P(!!Qa.plugins&&(Qa.plugins.length!==nc.length||nc.some(function(gb,vb){return!Qa.plugins||!Qa.plugins[vb]||gb!==Qa.plugins[vb]})),"Cannot update plugins"));Da("onBeforeUpdate",[Na,Qa]);tb();var nb=Na.props,bb=ma(va,q({},Na.props,{},Qa,{ignoreAttributes:!0}));if(bb.ignoreAttributes=z(Qa.ignoreAttributes,
nb.ignoreAttributes),Na.props=bb,Eb(),nb.interactiveDebounce!==bb.interactiveDebounce&&(ya(),Jb=h(Ka,bb.interactiveDebounce)),Ha(rb,nb,bb),Na.popperChildren=qa(rb),nb.triggerTarget&&!bb.triggerTarget?C(nb.triggerTarget).forEach(function(gb){gb.removeAttribute("aria-expanded")}):bb.triggerTarget&&va.removeAttribute("aria-expanded"),La(),Na.popperInstance)oa.some(function(gb){return{}.hasOwnProperty.call(Qa,gb)&&Qa[gb]!==nb[gb]})?(bb=Na.popperInstance.reference,Na.popperInstance.destroy(),ib(),Na.popperInstance.reference=
bb,Na.state.isVisible&&Na.popperInstance.enableEventListeners()):Na.popperInstance.update();Da("onAfterUpdate",[Na,Qa])}},setContent:function(Qa){Na.setProps({content:Qa})},show:function(Qa){void 0===Qa&&(Qa=v(Na.props.duration,0,fa.duration));"production"!==y.env.NODE_ENV&&P(Na.state.isDestroyed,F("show"));var nb=Na.state.isDestroyed,bb=!Na.state.isEnabled,gb=Ja.isTouch&&!Na.props.touch;Na.state.isVisible||nb||bb||gb||(gc||va).hasAttribute("disabled")||(Na.popperInstance||ib(),Da("onShow",[Na],!1),
!1!==Na.props.onShow(Na)&&(Tb.addEventListener("mousedown",Ra,!0),rb.style.visibility="visible",Na.state.isVisible=!0,Na.state.isMounted||f(ec.concat(rb),0),rc=function(){Na.state.isVisible&&(f([rb],Na.props.updateDuration),f(ec,Qa),m(ec,"visible"),ra(),La(),H(jb,Na),V(!0),Na.state.isMounted=!0,Da("onMount",[Na]),Ua(Qa,function(){Na.state.isShown=!0;Da("onShown",[Na])}))},Bb()))},hide:function(Qa){void 0===Qa&&(Qa=v(Na.props.duration,1,fa.duration));"production"!==y.env.NODE_ENV&&P(Na.state.isDestroyed,
F("hide"));var nb=Na.state.isDestroyed,bb=!Na.state.isEnabled&&!hc;!Na.state.isVisible&&!hc||nb||bb||(Da("onHide",[Na],!1),(!1!==Na.props.onHide(Na)||hc)&&(Ta(),rb.style.visibility="hidden",Na.state.isVisible=!1,Na.state.isShown=!1,f(ec,Qa),m(ec,"hidden"),ra(),La(),ab(Qa,function(){Na.popperInstance.disableEventListeners();Na.popperInstance.options.placement=Na.props.placement;rb.parentNode.removeChild(rb);jb=jb.filter(function(gb){return gb!==Na});0===jb.length&&V(!1);Na.state.isMounted=!1;Da("onHidden",
[Na])})))},enable:function(){Na.state.isEnabled=!0},disable:function(){Na.hide();Na.state.isEnabled=!1},destroy:function(){"production"!==y.env.NODE_ENV&&P(Na.state.isDestroyed,F("destroy"));Na.state.isDestroyed||(hc=!0,Na.clearDelayTimeouts(),Na.hide(0),tb(),delete va._tippy,Na.popperInstance&&Na.popperInstance.destroy(),hc=!1,Na.state.isDestroyed=!0,Da("onDestroy",[Na]))}};va._tippy=Na;rb._tippy=Na;var Gc=nc.map(function(Qa){return Qa.fn(Na)});return Eb(),La(),Ga.lazy||ib(),Da("onCreate",[Na]),
Ga.showOnCreate&&xb(),rb.addEventListener("mouseenter",function(){Na.props.interactive&&Na.state.isVisible&&Na.clearDelayTimeouts()}),rb.addEventListener("mouseleave",function(){Na.props.interactive&&u(Na.props.trigger,"mouseenter")&&Tb.addEventListener("mousemove",Jb)}),Na}function A(va,Ga,Ma){void 0===Ga&&(Ga={});void 0===Ma&&(Ma=[]);Ma=fa.plugins.concat(Ga.plugins||Ma);"production"!==y.env.NODE_ENV&&(O(va),sa(Ga,Ma));document.addEventListener("touchstart",za,q({},G,{capture:!0}));window.addEventListener("blur",
M);var ja=q({},Ga,{plugins:Ma});Ga=w(va);if("production"!==y.env.NODE_ENV){Ma=l(ja.content);var Da=1<Ga.length;P(Ma&&Da,"tippy() was passed an Element as the `content` prop, but more than one tippy instance was created by this invocation. This means the content element will only be appended to the last tippy instance. \n\n Instead, pass the .innerHTML of the element, or use a function that returns a cloned version of the element instead. \n\n 1) content: element.innerHTML\n 2) content: () \x3d\x3e element.cloneNode(true)")}Ga=
Ga.reduce(function(ra,La){La=La&&ia(La,ja);return La&&ra.push(La),ra},[]);return l(va)?Ga[0]:Ga}Object.defineProperty(b,"__esModule",{value:!0});b.w=b.u=b.t=b.s=b.r=b.o=b.n=b.m=b.l=b.k=b.j=b.i=b.h=b.g=b.f=b.e=b.d=b.c=b.b=b.a=b._=b.R=b.B=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(va){return typeof va}:function(va){return va&&"function"==typeof Symbol&&va.constructor===Symbol&&va!==Symbol.prototype?"symbol":typeof va},K=c(64),da=K&&K.__esModule?K:{default:K},fa=
q({allowHTML:!0,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},
onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),Ca=Object.keys(fa),oa="arrow boundary distance flip flipBehavior flipOnUpdate offset placement popperOptions".split(" "),na=function(va){"production"!==y.env.NODE_ENV&&
sa(va,[]);Object.keys(va).forEach(function(Ga){fa[Ga]=va[Ga]})},G={passive:!0},J="tippy-iOS",R="tippy-popper",N="tippy-tooltip",U="tippy-content",Z="tippy-arrow",ta="tippy-svg-arrow",ca="."+R,la="."+N,ea="."+U,pa="."+Z,Aa="."+ta,Ja={isTouch:!1},Sa=0,Va=(K="undefined"!=typeof window&&"undefined"!=typeof document)?navigator.userAgent:"",db=/MSIE |Trident\//.test(Va),Pa=/UCBrowser\//.test(Va),hb=K&&/iPhone|iPad|iPod/.test(navigator.platform),Ya=1,qb=[],jb=[];A.version="5.1.3";A.defaultProps=fa;A.setDefaultProps=
na;A.currentInput=Ja;b.B="tippy-backdrop";b.R='\x3csvg viewBox\x3d"0 0 18 7" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/\x3e\x3c/svg\x3e';b._=q;b.a=d;b.b=Pa;b.c=p;b.d=fa;b.e=D;b.f=Ja;b.g=a;b.h=t;b.i=u;b.j=X;b.k=k;b.l=function(va){va=void 0===va?{}:va;var Ga=va.exclude,Ma=va.duration;jb.forEach(function(ja){var Da=!1;Ga&&(Da=Ga&&Ga._tippy&&Ga._tippy.reference===Ga?ja.reference===
Ga:ja.popper===Ga.popper);Da||ja.hide(Ma)})};b.m=function(va){"production"!==y.env.NODE_ENV&&P(!0,"createTippyWithPlugins([...]) has been deprecated. \n\n Use tippy.setDefaultProps({plugins: [...]}) instead.");var Ga=function(Ma,ja,Da){return void 0===ja&&(ja={}),void 0===Da&&(Da=[]),Da=ja.plugins||Da,A(Ma,q({},ja,{plugins:[].concat(va,Da)}))};return Ga.version="5.1.3",Ga.defaultProps=fa,Ga.setDefaultProps=na,Ga.currentInput=Ja,Ga};b.n=C;b.o=K;b.r=g;b.s=m;b.t=A;b.u=z;b.w=P}).call(b,c(79))},function(E,
b,c){var y=[];for(b=0;256>b;++b)y[b]=(b+256).toString(16).substr(1);E.exports=function(q,w){w=w||0;return[y[q[w++]],y[q[w++]],y[q[w++]],y[q[w++]],"-",y[q[w++]],y[q[w++]],"-",y[q[w++]],y[q[w++]],"-",y[q[w++]],y[q[w++]],"-",y[q[w++]],y[q[w++]],y[q[w++]],y[q[w++]],y[q[w++]],y[q[w++]]].join("")}},function(E,b,c){var y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);
if(y){var q=new Uint8Array(16);E.exports=function(){return y(q),q}}else{var w=Array(16);E.exports=function(){for(var v,x=0;16>x;x++)0==(3&x)&&(v=4294967296*Math.random()),w[x]=v>>>((3&x)<<3)&255;return w}}},function(E,b,c){var y=c(126),q=c(125);E.exports=function(w,v,x){x=v&&x||0;"string"==typeof w&&(v="binary"===w?Array(16):null,w=null);w=w||{};w=w.random||(w.rng||y)();if(w[6]=15&w[6]|64,w[8]=63&w[8]|128,v)for(var l=0;16>l;++l)v[x+l]=w[l];return v||q(w)}},function(E,b,c){var y,q,w,v="function"==
typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};!function(x){"object"===v(b)&&void 0!==E?E.exports=x():(q=[],y=x,void 0!==(w="function"==typeof y?y.apply(b,q):y)&&(E.exports=w))}(function(){return function(){function x(l,p,e){function n(m,h){if(!p[m]){if(!l[m]){if(d)return d(m,!0);h=Error("Cannot find module '"+m+"'");throw h.code="MODULE_NOT_FOUND",h;}h=p[m]=
{exports:{}};l[m][0].call(h.exports,function(g){return n(l[m][1][g]||g)},h,h.exports,x,l,p,e)}return p[m].exports}for(var d=!1,f=0;f<e.length;f++)n(e[f]);return n}return x}()({1:[function(x,l,p){function e(n){if(!n||"object"!=(void 0===n?"undefined":v(n)))return n;if("[object Date]"==Object.prototype.toString.call(n))return new Date(n.getTime());if(Array.isArray(n))return n.map(e);var d={};return Object.keys(n).forEach(function(f){d[f]=e(n[f])}),d}l.exports=e},{}],2:[function(x,l,p){l.exports=function(d,
f){if("string"!=typeof d)throw new TypeError("String expected");f||=document;var m=/<([\w:]+)/.exec(d);if(!m)return f.createTextNode(d);d=d.replace(/^\s+|\s+$/g,"");m=m[1];if("body"==m)return m=f.createElement("html"),m.innerHTML=d,m.removeChild(m.lastChild);m=n[m]||n._default;var h=m[0],g=m[1],k=m[2];m=f.createElement("div");for(m.innerHTML=g+d+k;h--;)m=m.lastChild;if(m.firstChild==m.lastChild)return m.removeChild(m.firstChild);for(d=f.createDocumentFragment();m.firstChild;)d.appendChild(m.removeChild(m.firstChild));
return d};var e;x=!1;"undefined"!=typeof document&&(e=document.createElement("div"),e.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',x=!e.getElementsByTagName("link").length,e=void 0);var n={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:x?[1,"X\x3cdiv\x3e",
"\x3c/div\x3e"]:[0,"",""]};n.td=n.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];n.option=n.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];n.thead=n.tbody=n.colgroup=n.caption=n.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];n.polyline=n.ellipse=n.polygon=n.circle=n.text=n.line=n.path=n.rect=n.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(x,l,p){function e(g,k,t){if(0===k.length)return t;
var u=k.shift(),z=u.match(/^\[(.+?)\]$/);if("[]"===u)return g=g||[],Array.isArray(g)?g.push(e(null,k,t)):(g._values=g._values||[],g._values.push(e(null,k,t))),g;z?(u=z[1],z=+u,isNaN(z)?(g=g||{},g[u]=e(g[u],k,t)):(g=g||[],g[z]=e(g[z],k,t))):g[u]=e(g[u],k,t);return g}function n(g,k,t){if(k.match(h)){var u=[],z=new RegExp(h),C=/^([^\[\]]*)/.exec(k);for(C[1]&&u.push(C[1]);null!==(C=z.exec(k));)u.push(C[1]);e(g,u,t)}else(u=g[k])?(Array.isArray(u)||(g[k]=[u]),g[k].push(t)):g[k]=t;return g}function d(g,
k,t){return t=t.replace(/(\r)?\n/g,"\r\n"),t=encodeURIComponent(t),t=t.replace(/%20/g,"+"),g+(g?"\x26":"")+encodeURIComponent(k)+"\x3d"+t}var f=/^(?:submit|button|image|reset|file)$/i,m=/^(?:input|select|textarea|keygen)/i,h=/(\[[^\[\]]*\])/g;l.exports=function(g,k){"object"!=(void 0===k?"undefined":v(k))?k={hash:!!k}:void 0===k.hash&&(k.hash=!0);var t=k.hash?{}:"",u=k.serializer||(k.hash?n:d);g=g&&g.elements?g.elements:[];for(var z=Object.create(null),C=0;C<g.length;++C){var a=g[C];if((k.disabled||
!a.disabled)&&a.name&&m.test(a.nodeName)&&!f.test(a.type)){var H=a.name,r=a.value;if("checkbox"!==a.type&&"radio"!==a.type||a.checked||(r=void 0),k.empty){if("checkbox"!==a.type||a.checked||(r=""),"radio"===a.type&&(z[a.name]||a.checked?a.checked&&(z[a.name]=!0):z[a.name]=!1),!r&&"radio"==a.type)continue}else if(!r)continue;if("select-multiple"!==a.type)t=u(t,H,r);else{a=a.options;r=!1;for(var B=0;B<a.length;++B){var F=a[B],I=k.empty&&!F.value;I=F.value||I;F.selected&&I&&(r=!0,t=k.hash&&"[]"!==H.slice(H.length-
2)?u(t,H+"[]",F.value):u(t,H,F.value))}!r&&k.empty&&(t=u(t,H,""))}}}if(k.empty)for(H in z)z[H]||(t=u(t,H,""));return t}},{}],4:[function(x,l,p){var e=x("domify"),n=x("form-serialize"),d=x("deep-clone-simple"),f=function(h){var g=document.createElement("form");g.classList.add("vex-dialog-form");var k=document.createElement("div");k.classList.add("vex-dialog-message");k.appendChild(h.message instanceof window.Node?h.message:e(h.message));var t=document.createElement("div");return t.classList.add("vex-dialog-input"),
t.appendChild(h.input instanceof window.Node?h.input:e(h.input)),g.appendChild(k),g.appendChild(t),g},m=function(h){var g=document.createElement("div");g.classList.add("vex-dialog-buttons");for(var k=0;k<h.length;k++){var t=h[k],u=document.createElement("button");u.type=t.type;u.textContent=t.text;u.className=t.className;u.classList.add("vex-dialog-button");0===k?u.classList.add("vex-first"):k===h.length-1&&u.classList.add("vex-last");(function(z){u.addEventListener("click",function(C){z.click&&z.click.call(this,
C)}.bind(this))}).call(this,t);g.appendChild(u)}return g};l.exports=function(h){var g={name:"dialog",open:function(k){var t=Object.assign({},d(this.defaultOptions),k);t.unsafeMessage&&!t.message?t.message=t.unsafeMessage:t.message&&(t.message=h._escapeHtml(t.message));var u=t.unsafeContent=f(t);k=h.open(t);""!==t.yesText&&(t.buttons[0].text=t.yesText);""!==t.noText&&(t.buttons[1].text=t.noText);var z=t.beforeClose&&t.beforeClose.bind(k);(k.options.beforeClose=function(){var C=!z||z();return C&&t.callback(this.value||
!1),C}.bind(k),u.appendChild(m.call(k,t.buttons)),k.form=u,u.addEventListener("submit",t.onSubmit.bind(k)),t.focusFirstInput)&&(u=k.contentEl.querySelector("button, input, select, textarea"))&&u.focus();return k},alert:function(k){return"string"==typeof k&&(k={message:k}),k=Object.assign({},d(this.defaultOptions),d(this.defaultAlertOptions),k),this.open(k)},confirm:function(k){if("object"!==(void 0===k?"undefined":v(k))||"function"!=typeof k.callback)throw Error("dialog.confirm(options) requires options.callback.");
return k=Object.assign({},d(this.defaultOptions),d(this.defaultConfirmOptions),k),this.open(k)},prompt:function(k){if("object"!==(void 0===k?"undefined":v(k))||"function"!=typeof k.callback)throw Error("dialog.prompt(options) requires options.callback.");var t=Object.assign({},d(this.defaultOptions),d(this.defaultPromptOptions)),u={unsafeMessage:'\x3clabel for\x3d"vex"\x3e'+h._escapeHtml(k.label||t.label)+"\x3c/label\x3e",input:'\x3cinput name\x3d"vex" type\x3d"text" class\x3d"vex-dialog-prompt-input" placeholder\x3d"'+
h._escapeHtml(k.placeholder||t.placeholder)+'" value\x3d"'+h._escapeHtml(k.value||t.value)+'" /\x3e'};k=Object.assign(t,u,k);var z=k.callback;return k.callback=function(C){if("object"===(void 0===C?"undefined":v(C))){var a=Object.keys(C);C=a.length?C[a[0]]:""}z(C)},this.open(k)}};return g.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1;
this.close()}}},g.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",yesText:"",noText:"",buttons:[g.buttons.YES,g.buttons.NO],showCloseButton:!1,onSubmit:function(k){return k.preventDefault(),this.options.input&&(this.value=n(this.form,{hash:!0})),this.close()},focusFirstInput:!0},g.defaultAlertOptions={buttons:[g.buttons.YES]},g.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},g.defaultConfirmOptions={},g}},{"deep-clone-simple":1,domify:2,"form-serialize":3}]},
{},[4])(4)})},function(E,b,c){function y(r){return r&&r.__esModule?r:{default:r}}function q(r,B,F){function I(D){D=(0,k.getIframeData)(D);n.default.removeBotFromIframe(D)}function Q(D,O){var W=void 0;(0,k.getRegisteredIframes)().forEach(function(ba){n.default.checkMappedElementIsVisible(ba,D,function(ma){ma=v(ma,1)[0];var sa=ma.iframeId;ma.isVisible&&!W&&(W=sa,ma=h.default.getIframeId(),ma!==m.TOP_WINDOW_ID?I(ma):r(),h.default.setIframeId(""),n.default.sendBotConfigToIframe((0,k.getIframeData)(W),
O,!0))})})}function P(){e.internalEventListener.removeListener("WIDGET_LOADED",P);F.open()}e.internalEventListener.addListener(p.IFRAME_TO_TOP_EVENTS.BOT_FOUND,function(D){!h.default.getIframeId()&&D?(h.default.setIframeId(D),n.default.sendBotFound(D),D!==m.TOP_WINDOW_ID&&r()):h.default.getIframeId()!==D&&(D!==m.TOP_WINDOW_ID?I(D):r())});e.internalEventListener.addListener(p.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED,function(D){h.default.getIframeId()===D&&(h.default.setIframeId(""),B(h.default.getBotConfig()))});
e.internalEventListener.addListener(p.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,function(D){if(h.default.setBotConfig(D),0<(0,k.getRegisteredIframes)().length){var O=h.default.getIframeId();O&&O!==m.TOP_WINDOW_ID&&(O=(0,k.getIframeData)(O),n.default.sendBotConfigToIframe(O,D,!1))}});e.internalEventListener.addListener("BOT_NOT_FOUND",function(){if(0<(0,k.getRegisteredIframes)().length){var D=h.default.getBotConfig(),O=h.default.getIframeId();O?O===m.TOP_WINDOW_ID&&(h.default.setIframeId(""),n.default.sendBotConfig(D,
!0)):n.default.sendBotConfig(D,!0)}});e.internalEventListener.addListener(p.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,function(D,O,W,ba){F.fetchEntriesById(D,x.eventTrackData.data[x.productIdParameter],x.eventTrackData.data[x.aptrinsicIdParam],W,ba,O)});e.internalEventListener.addListener(p.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,u.trackToggleWidget);e.internalEventListener.addListener("IFRAME_REGISTERED",(0,f.debounce)(function(D){try{var O=h.default.getIframeId(),W=h.default.getBotConfig();if(W){var ba=
(0,H.getElementSelector)(W);ba.cssSelector&&n.default.addElementClickListener(D,ba.cssSelector);O||!(0,l.getConfig)("framesetMode")&&!(0,f.isElementVisible)(D.elementData)?O===m.TOP_WINDOW_ID?(0,z.findInAll)(ba,null,function(ma){ma&&((0,f.isElementVisible)(ma.element,!0)||(F.close(),Q(ba,W)))}):D.iframeId!==O&&n.default.checkMappedElementIsVisible((0,k.getIframeData)(O),ba,function(ma){v(ma,1)[0].isVisible||(0,z.findInAll)(ba,null,function(sa){sa&&((0,f.isElementVisible)(sa.element,!0)?(I(O),B(h.default.getBotConfig())):
Q(ba,W))})}):n.default.sendBotConfigToIframe(D,W,!0)}}catch(ma){g.logger.log("Embedded bot onIframeRegistered "+ma)}},0));e.internalEventListener.addListener(p.BOT_IFRAME_INTERNAL_EVENTS.BOT_EMPTY_CONFIG,function(){h.default.setIframeId("");n.default.removeWidgetFromAllIframes()});e.internalEventListener.addListener(p.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,function(D){var O=h.default.getIframeId();if(!O||O&&O!==D)D===m.TOP_WINDOW_ID?(D=(0,k.getIframeData)(h.default.getIframeId()),(0,l.getConfig)("framesetMode")||
(0,f.isElementVisible)(D.domElement)||(h.default.setIframeId(""),e.internalEventListener.addListener("WIDGET_LOADED",P),n.default.removeWidgetFromAllIframes(),B(h.default.getBotConfig()))):(h.default.setIframeId(""),r(),D=(0,k.getIframeData)(D),n.default.sendBotConfigToIframe(D,h.default.getBotConfig(),!0,!0))});e.internalEventListener.addListener(p.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE,function(){F.close(!0)})}function w(r,B,F){function I(){F.open()}var Q=null;e.internalEventListener.addListener(p.TOP_TO_IFRAME_EVENTS.REMOVE_BOT,
r);e.internalEventListener.addListener(p.BOT_IFRAME_INTERNAL_EVENTS.INIT_WIDGET_IN_IFRAME,function(P,D,O){O&&(e.internalEventListener.removeListener("WIDGET_LOADED",I),e.internalEventListener.addListener("WIDGET_LOADED",I,null,!1,!0));B(P,D)});e.internalEventListener.addListener(p.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,F.postToWidget);e.internalEventListener.addListener(p.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,F.setIsOpen);e.internalEventListener.addListener(p.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,function(P,
D){var O=!1;(P=(0,C.findInWindow)(P.cssSelector,document))&&(O=(0,f.isElementVisible)(P,!0));d.default.checkMappedElementIsVisibleResponse(D,O)});e.internalEventListener.addListener(p.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,d.default.postClickElement);e.internalEventListener.addListener(p.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE,function(){F.close(!0)});e.internalEventListener.addListener(p.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,function(P){try{Q=function(D){var O=(0,a.findSingleElementInShadowDom)(P,
document);return O&&(D.target===O||O.contains(D.target))&&(D.preventDefault(),D.stopImmediatePropagation(),e.internalEventListener.dispatchEvent(p.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,(0,t.getIframeId)())),!1},(0,f.removeEventListener)(document,"click",Q,!1),(0,f.addEventListener)(document,"click",Q,!1)}catch(D){g.logger.log("Embedded bot addElementClickListener "+D)}})}Object.defineProperty(b,"__esModule",{value:!0});var v=function(){return function(r,B){if(Array.isArray(r))return r;if(Symbol.iterator in
Object(r)){var F=[],I=!0,Q=!1,P=void 0;try{for(var D,O=r[Symbol.iterator]();!(I=(D=O.next()).done)&&(F.push(D.value),!B||F.length!==B);I=!0);}catch(W){Q=!0,P=W}finally{try{!I&&O.return&&O.return()}finally{if(Q)throw P;}}return F}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.default=function(r,B,F){try{(0,l.isIframe)()?(w(r,B,F),(0,f.addEventListener)(window,"unload",function(){d.default.postIframeClosed()})):(q(r,B,F),F&&F.handleIncomingBotEvents())}catch(I){g.logger.logInternalError(Error("handlingEmbeddedBotIframeRequests - "+
I))}};var x=c(4),l=c(1),p=c(24),e=c(11);E=c(57);var n=y(E);E=c(56);var d=y(E),f=c(0),m=c(55),h=y(m),g=c(2),k=c(5),t=c(12),u=c(97),z=c(20),C=c(7),a=c(18),H=c(35)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.shouldInjectAccountId=function(q,w){return(0,y.isObject)(q)&&(0,y.isObject)(w)&&w.hasOwnProperty("id")&&w.id};var y=c(0)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(l){var p=l.content;switch(p.type){case v.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE:x.internalEventListener.dispatchEvent(v.BOT_IFRAME_INTERNAL_EVENTS.INIT_WIDGET_IN_IFRAME,
p.botConfig,p.isInitial,p.shouldOpen);break;case v.TOP_TO_IFRAME_EVENTS.BOT_FOUND:l=p.iframeId;(0,w.getIframeId)()!==l&&x.internalEventListener.dispatchEvent(v.TOP_TO_IFRAME_EVENTS.REMOVE_BOT);break;case v.TOP_TO_IFRAME_EVENTS.GET_APTRINSIC_ID_RESPONSE:case v.TOP_TO_IFRAME_EVENTS.GET_BOT_CONTENT_RESPONSE:(0,q.decrementState)(l.aptrinsicRequestId,p);break;case v.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN:x.internalEventListener.dispatchEvent(v.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,p.isOpen);break;case v.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT:x.internalEventListener.dispatchEvent(v.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,
p.data);break;case v.TOP_TO_IFRAME_EVENTS.REMOVE_BOT:x.internalEventListener.dispatchEvent(v.TOP_TO_IFRAME_EVENTS.REMOVE_BOT);break;case v.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE:x.internalEventListener.dispatchEvent(v.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,p.cssSelector,l.aptrinsicRequestId);break;case v.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER:x.internalEventListener.dispatchEvent(v.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,p.cssSelector);break;default:y.logger.logInternalError(Error("child iframe script got unsupported bot event from top window, data: "+
JSON.stringify(l)))}};var y=c(2),q=c(5),w=c(12),v=c(24),x=c(11)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(p){var e=p.content;switch(e.type){case q.IFRAME_TO_TOP_EVENTS.BOT_FOUND:w.internalEventListener.dispatchEvent(q.IFRAME_TO_TOP_EVENTS.BOT_FOUND,p.aptrinsicIframeId);break;case q.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED:w.internalEventListener.dispatchEvent(q.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED,p.aptrinsicIframeId);break;case q.IFRAME_TO_TOP_EVENTS.POST_BOT_EVENT:w.internalEventListener.dispatchEvent(q.IFRAME_TO_TOP_EVENTS.POST_BOT_EVENT,
p.aptrinsicIframeId);break;case q.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE:w.internalEventListener.dispatchEvent(q.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,e.botId,e.isOpen);break;case q.IFRAME_TO_TOP_EVENTS.IS_ELEMENT_VISIBLE_RESPONSE:(0,y.decrementState)(p.aptrinsicRequestId,e);break;case q.IFRAME_TO_TOP_EVENTS.GET_APTRINSIC_ID:var n=l.eventTrackData.data[l.aptrinsicIdParam];e=(0,y.getIframeData)(p.aptrinsicIframeId);v.default.getAptrinsicIdResponse(e,p.aptrinsicRequestId,n);break;case q.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK:w.internalEventListener.dispatchEvent(q.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,
p.aptrinsicIframeId);break;case q.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT:n=e.botId;e=e.isBotV2;var d=(0,y.getIframeData)(p.aptrinsicIframeId);w.internalEventListener.dispatchEvent(q.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,n,e,function(f){v.default.getBotContentResponse(d,p.aptrinsicRequestId,f,null)},function(f){v.default.getBotContentResponse(d,p.aptrinsicRequestId,null,f)});break;default:x.logger.logInternalError(Error("master script got unsupported bot event from top window, data: "+JSON.stringify(p)))}};
var y=c(5),q=c(24),w=c(11),v=(E=c(57))&&E.__esModule?E:{default:E},x=c(2),l=c(4)},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(5),q=c(12),w=c(1),v=c(75),x=c(113);b.default=new function(){this.getMapperStateMaster=function(l){(0,x.sendMapperStateResponseToIframes)((0,y.getIframeData)(l.aptrinsicIframeId),l.aptrinsicRequestId)};this.setMapperStateForMaster=function(l){(0,w.isIframe)()||(l=y.IframeRequest.getMasterRequst(v.MAPPER_NAMESPACE,{type:v.MASTER_TO_IFRAME_MESSAGES.SET_MAPPER_STATE,
isMapperEnabled:l}),(0,q.propagateDown)(l,(0,y.getRegisteredIframes)()))}}},function(E,b,c){function y(F){F=decodeURIComponent(F);if(-1<F.indexOf("?redirect\x3d")){var I=document.createElement("a");return I.href=F.substring(10),I.search}return F}function q(){var F=sessionStorage.getItem(C)||p.LocalStorageCookie.getCookie(C)||e.NativeCookie.getCookie(C,!0);return!!F&&F.split("\x26")||[]}function w(F){var I=void 0,Q={},P=void 0,D=void 0,O=void 0,W={},ba=F.location.hash;F=F.location.search;F=y(F);var ma=
(0,x.isBlank)(F)?-1:F.indexOf(n),sa=(0,x.isBlank)(ba)?-1:ba.indexOf(n),za=-1,S=void 0;if(-1<ma?(za=ma,S="queryParam"):-1<sa&&(za=sa,S="hash"),-1<za){I=S;ba=(ma="hash"===I)?ba:F;var M=[];F=ba.indexOf("?");M=ma&&-1<F?ba.substring(F+1).split("\x26"):ba.substring(1).split("\x26");M.forEach(function(V,X){V=V.split("\x3d");var Y=v(V,2);V=Y[0];Y=Y[1];switch(Q[V]=Y,V){case n:P=Y;break;case f:D=Y;break;case z:O=Y;break;case m:case g:case k:case h:case t:case u:case d:case r:case a:case H:W[V]=Y;break;case B:X=
M[X].substring(B.length+1);try{W[V]=atob(X)}catch(qa){l.logger.log("The parameter aptOnExitRedirectURL is expected to be in Base64 format, but got "+X)}break;default:l.logger.log("Unknown query param: "+V)}})}else ba=q(),(0,x.isNotEmptyArr)(ba)&&1<ba.length&&(F=v(ba,2),P=F[0],D=F[1],W=JSON.parse(ba[2]));return{token:P,type:D,additionalDetails:W,queryParamsHash:Q,productKey:O,tokenUrlPosition:I}}Object.defineProperty(b,"__esModule",{value:!0});b.exitUrlParam=b.SELECTED_FEATURE_PARAM=b.isChildSubscription=
b.isParentSubscription=b.tokenCookieName=b.productKeyParamName=b.knowledgeCenterParamName=b.previewParamName=b.engagementId=b.contentGroupIdParamName=b.contentIdParamName=b.guideIdParamName=b.editorTypeParamName=b.languageParamName=b.tokenParamName=void 0;var v=function(){return function(F,I){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F)){var Q=[],P=!0,D=!1,O=void 0;try{for(var W,ba=F[Symbol.iterator]();!(P=(W=ba.next()).done)&&(Q.push(W.value),!I||Q.length!==I);P=!0);}catch(ma){D=
!0,O=ma}finally{try{!P&&ba.return&&ba.return()}finally{if(D)throw O;}}return Q}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.getAptTokenCookieValues=q;b.processUrlOnInit=w;var x=c(15),l=c(2),p=c(71),e=c(72),n=b.tokenParamName="aptToken",d=b.languageParamName="aptLang",f=b.editorTypeParamName="aptEditor",m=b.guideIdParamName="guideId",h=b.contentIdParamName="contentId",g=b.contentGroupIdParamName="groupId",k=b.engagementId="engagementId",t=b.previewParamName="aptPreview",
u=b.knowledgeCenterParamName="kcId",z=b.productKeyParamName="aptProductKey",C=b.tokenCookieName="apt.token",a=b.isParentSubscription="isParentSubscription",H=b.isChildSubscription="isChildSubscription",r=b.SELECTED_FEATURE_PARAM="selectedFeature",B=b.exitUrlParam="aptOnExitRedirectURL";b.default=w},,,,,function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(d,f,m){var h={};Object.assign(h,y.eventTrackData[p.cacheGetAll]());(0,x.addCacheBuster)(h);var g=(0,e.getGlobalContext)();
g&&Object.assign(h,{gcx:JSON.stringify(g)});Object.assign(h,(0,n.getWebContext)());h.at=f||"a";f=q.ondemandEndpoint+"/"+y.eventTrackData.data[y.productIdParameter]+"/"+d+"?"+(0,x.convert2Parameters)((0,x.addParameters)(h,[]));try{v.AjaxUtil.getData(f,function(k){m(k);l.EngagementDrawer.draw([k])})}catch(k){w.logger.logInternalError("Error during getting on demand engagement id "+d)}};var y=c(4),q=c(1),w=c(2),v=c(13),x=c(0),l=c(52),p=c(8),e=c(23),n=c(19)},function(E,b,c){function y(na){return na&&
na.__esModule?na:{default:na}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0),w=c(2),v=c(30),x=c(13),l=c(4),p=c(8);E=c(16);var e=y(E);E=c(38);E=y(E);var n=c(7),d=c(101),f=y(d),m=c(27),h=c(1),g=c(11),k=c(17),t=c(6),u=c(21),z=c(23),C=c(19),a=c(9),H=c(37);H.defaultOptions.className="vex-theme-os";var r=c(173),B=c(184),F=c(185),I=c(186),Q=c(187),P=c(188),D=c(189),O=c(190),W=c(191),ba=c(174),ma=c(175),sa=c(176),za=c(177),S=c(178),M=c(179),V=c(180),X=c(181),Y=c(182),qa=c(183),xa=c(192),Ea=c(196),
Ha=c(197),Ba=c(198),wa=c(199),Fa=c(200),ia=c(201),A=c(202),T=c(203),K=c(193),da=c(194),fa=c(195),Ca=new E.default,oa=void 0;b.default=function(){function na(ra,La){if(!e.default.isEditorMode()){var ya=h.trackMultiStepEndpoint,Ra=[];if(!0!==f.default.wasCompletedTracked(ra.executionId)){2===La&&f.default.markCompletedTracked(ra.executionId);Ra=(0,q.addParameters)(l.eventTrackData[p.cacheGetAll](),Ra);(0,q.addParameters)({ei:ra.engagementId||null,ecoi:ra.content.id||null,evi:ra.matchEventId||null,ent:3,
ems:La||null,acci:ra.accountId,exi:ra.executionId,ext:ra.executionTimestamp,at:ra.activationType||"a",cl:ra.contentLocale},Ra);Sa&&"kc"===ra.activationType&&(0,q.addParameters)(Sa,Ra);Ra=(0,q.addParameters)((0,C.getWebContext)(),Ra);La=(0,u.getChannel)(l.eventTrackData[p.cacheGet](l.productIdParameter));var Ta=(0,z.getGlobalContext)(),ab=void 0;Ta&&(ab={gcx:JSON.stringify(Ta)},La!==t.DESKTOP_CHANNEL&&(0,q.addParameters)(ab,Ra));La==t.DESKTOP_CHANNEL?(0,k.desktopTrackEngagementState)(Ra,ab):(ya+="?"+
(0,q.convert2Parameters)(Ra),x.AjaxUtil.getData(ya));g.internalEventListener.dispatchEvent("engagementCompleted",(0,k.getExternalEvent)(ra,"Completed"))}}}function G(ra,La,ya){if(!e.default.isEditorMode()&&!f.default.wasStepTracked(ra.executionId,La)){f.default.markStepTracked(ra.executionId,La);var Ra=h.trackStepEndpoint,Ta=[];Ta=(0,q.addParameters)(l.eventTrackData[p.cacheGetAll](),Ta);(0,q.addParameters)({ei:ra.engagementId,ecoi:ra.content.id,cosi:La,evi:ra.matchEventId,cossn:ya,ent:3,acci:ra.accountId,
exi:ra.executionId,ext:ra.executionTimestamp,at:ra.activationType||"a",cl:ra.contentLocale},Ta);Sa&&"kc"===ra.activationType&&(0,q.addParameters)(Sa,Ta);La=(0,z.getGlobalContext)();var ab=(0,u.getChannel)(l.eventTrackData[p.cacheGet](l.productIdParameter)),Ua=void 0;La&&(Ua={gcx:JSON.stringify(La)},ab!==t.DESKTOP_CHANNEL&&(0,q.addParameters)(Ua,Ta));Ta=(0,q.addParameters)((0,C.getWebContext)(),Ta);ab==t.DESKTOP_CHANNEL?(0,k.desktopTrackStep)(Ta,Ua):(Ra+="?"+(0,q.convert2Parameters)(Ta),x.AjaxUtil.getData(Ra));
ra=(0,k.getExternalEvent)(ra,"Viewed Step");ra.stepNumber=ya+1;g.internalEventListener.dispatchEvent("engagementViewedStep",ra)}}function J(){va.close()}function R(ra,La,ya){try{var Ra,Ta=La.content;if(ra>hb.length&&!Ta.cyclic)return void va.close();Ta.cyclic&&ra>hb.length&&(Pa=1);Ta.cyclic&&1>ra&&(Pa=hb.length);(0,k.isSnoozeButtonEnabled)(La.activationType,Ta.snoozeButton,La.activationTypes)&&(ya.querySelector(".aptr-snooze-container").style.display=1===Pa?"block":"none");(!Ta.cyclic&&ra==hb.length&&
Ta.carouselNavigation&&Ta.carouselNavigation.lastSlideSettings&&N(ya,Ta.carouselNavigation.lastSlideSettings),Ta.cyclic)||(ya.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=1==ra?"none":"");if(Ya)for(Ra=0;Ra<Ya.length;Ra++)Ya[Ra].classList.remove("aptr-slideshow-active"),Ya[Ra].style.backgroundColor=Ta.carouselNavigation.backgroundColor?Ta.carouselNavigation.backgroundColor:"#ffffff";var ab=ya.querySelector(".aptr-slides-container"),Ua=Ta.carouselSlideList[Pa-1],Xa=parseInt(window.getComputedStyle(Ya[0].parentNode).height);
ya.style.backgroundColor="transparent";(0,q.setCrossBrowserTransform)(ab,"translateX("+-1*jb[Pa-1]+"px)");0<Ua.width&&(ya.style.width=Ua.width+"px");0<Ua.width&&(ya.style.width=Ua.width+"px");hb[Pa-1].setAttribute("aria-hidden","false");if(Ua.autoHeight){var lb=window.getComputedStyle(ab.children[Pa-1]).height;ja[Pa-1]||(lb=parseInt(lb)+Xa+"px",ab.children[Pa-1].style.height=lb,ja[Pa-1]=!0);ab.parentNode.style.height=lb;ya.style.height=lb}else 0<Ua.height&&(ya.style.height=Ua.height+"px",ab.parentNode.style.height=
Ua.height+"px");0<Ya.length&&(Ya[Pa-1].style.backgroundColor="transparent",Ya[Pa-1].classList.add("aptr-slideshow-active"),Ya[Pa-1].style.borderColor=Ta.carouselNavigation.backgroundColor?Ta.carouselNavigation.backgroundColor:"#ffffff");G(La,Ua.id,Ua.sequence);Pa==hb.length&&na(La,2);Ta.interval&&(Ta.cyclic||ra<hb.length)&&(Ga=setTimeout(function(){R(++Pa,La,ya)},Ta.interval*q.MILLISEC));(0,u.isDesktop)()&&!Da[Ua.id]&&(Da[Ua.id]=!0,(0,k.addLinkListenerForDesktop)(ab.children[Pa-1],La,Ua.id,Ua.sequence));
(0,k.sendDesktopResize)(ya,La,Ua)}catch(Eb){w.logger.logInternalError(Eb)}}function N(ra,La){ra=ra.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");ra.style.backgroundColor=La.backgroundColor;ra.removeChild(ra.querySelector(".aptr-arrow-icon"));var ya=(0,q.createElement)("div",[]);ya.innerHTML=db[La.checkmarkType];ya=ya.firstChild;ya.classList.add("aptr-arrow-icon");ya.style.stroke=La.color;ya.style.fill=La.color;(0,q.appendElements)(ra,[ya])}function U(ra){if(ra){var La=(0,q.createElement)("div",
["aptr-slides-container"]),ya=ea(ra.carouselSlideList);(0,q.appendElements)(La,ya);ya=(0,q.createElement)("div",["aptr-arrows-container"]);var Ra=ra.carouselNavigation;if(!Ra)throw Error("No navigation settings provided for carousel");var Ta=[];var ab=(0,q.createElement)("span",["aptr-nav-button","aptr-arrow-left"]);ab.setAttribute("role","button");ab.setAttribute("aria-label","previous");var Ua=(0,q.createElement)("div",[]);Ua.innerHTML=Va[Ra.arrowType];var Xa=Ua.firstChild;Xa.classList.add("aptr-arrow-icon");
(0,q.appendElements)(ab,[Xa]);Xa=(0,q.createElement)("span",["aptr-nav-button","aptr-arrow-right"]);Xa.setAttribute("role","button");Xa.setAttribute("aria-label","next");Ua=(0,q.createElement)("div",[]);Ua.innerHTML=Va[Ra.arrowType];Ra=Ua.firstChild;Ta=(Ra.classList.add("aptr-arrow-icon"),(0,q.appendElements)(Xa,[Ra]),Ta.push(ab),Ta.push(Xa),Ta);(0,q.appendElements)(ya,Ta);Ta=(0,q.createElement)("div",["aptr-slideshow-dots-container"]);ra=ra.carouselSlideList.length;ab=[];for(Ra=0;Ra<ra;Ra++)Xa=(0,q.createElement)("div",
["aptr-slideshow-dot"]),ab.push(Xa);Ya=ab;(0,q.appendElements)(Ta,Ya);ra=(0,q.createElement)("div",["aptr-carousel-engagement"]);return(0,q.appendElements)(ra,[La,ya,Ta]),ra}}function Z(ra,La){if(ra){var ya=La.querySelector(".aptr-slides-container");if(ya.style.width=qb+"px",ra.borderRadius){var Ra=La.querySelector(".aptr-carousel-engagement");Ra&&(Ra.style.borderRadius=ra.borderRadius+"px");La.style.borderRadius=ra.borderRadius+"px"}pa(ra.carouselSlideList,ya.children)}}function ta(ra,La){for(var ya=
0;ya<La.length;ya++)La[ya].style.borderColor=ra.backgroundColor}function ca(ra,La,ya){la(La,ra);la(ya,ra)}function la(ra,La){ra.style.backgroundColor=La.backgroundColor;ra.style.borderRadius=La.backgroundRadius?La.backgroundRadius+"%":"0px";ra=ra.querySelector(".aptr-arrow-icon");ra.style.stroke=La.color;ra.style.fill=La.color}function ea(ra){var La=[];if(!ra.forEach)throw Error("Cannot create slides for carousel because slides array was not sent correctly");return ra.sort(function(ya,Ra){return ya.sequence-
Ra.sequence}),ra.forEach(function(ya,Ra){jb[Ra]=qb;qb+=ya.width;Ra=(0,q.createElement)("div",["aptr-slide"]);Ra.setAttribute("id","slide"+ya.id);Aa(Ra);ya.html&&(Ra.innerHTML=(0,n.addNonceToDomString)(ya.html));La.push(Ra)}),La}function pa(ra,La){ra.sort(function(ya,Ra){return ya.sequence-Ra.sequence});ra.forEach(function(ya,Ra){Ra=La[Ra];ya.backgroundType&&"IMAGE"===ya.backgroundType?ya.backgroundImage?Ra.style.background=ya.backgroundImage:Ra.style.backgroundColor=(0,q.hexToRgba)("#ffffff",ya.backgroundFill||
0===ya.backgroundFill?ya.backgroundFill/100:1):Ra.style.backgroundColor=ya.backgroundColor?(0,q.hexToRgba)(ya.backgroundColor,ya.backgroundFill||0===ya.backgroundFill?ya.backgroundFill/100:1):(0,q.hexToRgba)("#ffffff",ya.backgroundFill||0===ya.backgroundFill?ya.backgroundFill/100:1);Ra.style.height=ya.autoHeight?"auto":ya.height+"px";Ra.style.width=ya.width+"px"})}function Aa(ra){ra.setAttribute("aria-hidden","true")}function Ja(ra,La,ya){function Ra(Ua,Xa){for(var lb=0;lb<Ua.length;lb+=1)Xa(Ua[lb],
lb)}function Ta(){Ra(ra,function(Ua){"true"!==Ua.getAttribute("aria-hidden")&&(Ua.classList.remove("aptr-slide-hide"),Ua.classList.add("aptr-slide-show"))})}var ab=document.querySelector(".aptr-slides-container");return(0,n.addTransitionEndListener)(ab,function(){Ra(ra,function(Ua,Xa){"true"!==Ua.getAttribute("aria-hidden")||(Ua.classList.remove("aptr-slide-show"),Ua.classList.add("aptr-slide-hide"),ya)||(La.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=0===Xa?"none":"")})}),(0,n.addTransitionStartListener)(ab,
Ta),function(){var Ua=(0,a.getBrowserDetails)(),Xa=Ua.version;"chrome"===Ua.name&&74>parseInt(Xa,10)&&Ta()}}var Sa=null,Va={ARROW_1:r,ARROW_2:B,ARROW_3:F,ARROW_4:I,ARROW_5:Q,ARROW_6:P,ARROW_7:D,ARROW_8:O,ARROW_9:W,ARROW_10:ba,ARROW_11:ma,ARROW_12:sa,ARROW_13:za,ARROW_14:S,ARROW_15:M,ARROW_16:V,ARROW_17:X,ARROW_18:Y,ARROW_19:qa,EMPTY_ARROW_TYPE:r},db={V_1:xa,V_2:Ea,V_3:Ha,V_4:Ba,V_5:wa,V_6:Fa,V_7:ia,V_8:A,V_9:T,V_10:K,V_11:da,V_12:fa,EMPTY_LAST_SLIDE_ICON_TYPE:xa},Pa=1,hb=[],Ya=[],qb=0,jb=[],va=null,
Ga=null,Ma=null,ja={},Da={};this.drawCarousel=function(ra,La,ya){Sa=ya;Pa=1;hb=[];Ya=[];qb=0;jb=[];Ma=Ga=va=null;ja={};this.carousel=ra;var Ra=U(ra.content);Ma=Ma||0===Ma?Ma:ra.content.zindex||ra.content.zIndex||2147483647;va=H.open({appendLocation:(0,h.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,h.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:Ra.outerHTML,showCloseButton:!0,overlayClosesOnClick:!1,afterOpen:function(){var Ta=
this,ab=t.TAB_INDEX_START;(0,h.getConfig)("enableModalBodyScroll")&&(0,h.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.rootEl.setAttribute("aria-live","polite");this.contentEl.classList.add("apt-carousel-popup");this.contentEl.setAttribute("data-apt-disable-selector",!0);this.contentEl.classList.add("px-engagement-wrapper-slider");this.contentEl.classList.add("px-engagement-wrapper");this.contentEl.style.zIndex=ra.content.zindex||ra.content.zIndex||Ma;this.rootEl.style.zIndex=
ra.content.zindex||ra.content.zIndex||Ma;(0,n.addStyleTag)(this.contentEl,ra.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,n.addStyleTag)(this.contentEl,ra.content.engagementCoreStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os");(0,n.addStyleTag)(this.contentEl,ra.content.overrideStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os");Array.isArray(ra.content.carouselSlideList)&&ra.content.carouselSlideList.forEach(function(Ka){var Ia=Ka&&
Ka.style;Ia&&(0,n.addStyleTag)(Ta.contentEl,Ia,"px-engagement-wrapper-slider #slide"+Ka.id,".apt-vex.vex.vex-theme-os")});this.rootEl.querySelector(".vex-overlay").style.zIndex=Ma;ra.content.overlayColor&&(this.rootEl.querySelector(".vex-overlay").style.background=(0,q.hexToRgba)(ra.content.overlayColor,ra.content.overlayFill?ra.content.overlayFill/100:0));(!ra.content.overlayFill||1>ra.content.overlayFill)&&this.rootEl.classList.add("apt-popup-disable-overlay");ra.borderRadius&&(this.contentEl.style.borderRadius=
ra.borderRadius+"px");var Ua=void 0;if((0,k.isSnoozeButtonEnabled)(ra.activationType,ra.content.snoozeButton,ra.activationTypes)){var Xa=this.contentEl.querySelector(".aptr-slideshow-dots-container"),lb=(0,q.createElement)("div",["aptr-snooze-container"]);Ua=ra.content.carouselSlideList[Pa-1];Ua=(0,k.createSnoozeButton)(ra.content.snoozeButton,lb,ra,Ua.id,Ua.sequence,J);Xa.appendChild(lb)}Xa=this.contentEl.getElementsByClassName("aptr-nav-button");hb=document.getElementsByClassName("aptr-slide");
Ya=document.getElementsByClassName("aptr-slideshow-dot");var Eb=Ja(hb,Ra,ra.content.cyclic),tb=Xa[0],zb=Xa[1];Z(ra.content,this.contentEl);ca(ra.content.carouselNavigation,tb,zb);ta(ra.content.carouselNavigation,Ya);Xa=function(){clearTimeout(Ga);var Ka=Pa-1;R(--Pa,ra,Ta.contentEl);Aa(hb[Ka]);if(!ra.content.cyclic&&Pa==hb.length-1){Ka=ra.content.carouselNavigation;var Ia=Ta.contentEl.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");Ia.style.backgroundColor=Ka.backgroundColor;Ia.removeChild(Ia.querySelector(".aptr-arrow-icon"));
var Za=(0,q.createElement)("div",[]);Za.innerHTML=Va[Ka.arrowType];Za=Za.firstChild;Za.classList.add("aptr-arrow-icon");Za.style.stroke=Ka.color;Za.style.fill=Ka.color;(0,q.appendElements)(Ia,[Za])}};lb=function(){clearTimeout(Ga);var Ka=Pa-1;R(++Pa,ra,Ta.contentEl);Eb();Aa(hb[Ka])};(0,q.addEventListener)(tb,"click",Xa);(0,q.addEventListener)(zb,"click",lb);(0,n.disableFocusOnClick)(tb,this.contentEl);(0,n.disableFocusOnClick)(zb,this.contentEl);(0,q.addEnterKeyDownListener)(tb,Xa);(0,q.addEnterKeyDownListener)(zb,
lb);(0,k.removeCicularTabsWrapperListener)(oa);(0,k.checkHasOverlay)(ra.content.overlayColor,ra.content.overlayFill)&&(oa=(0,k.addCircularTabListener)(function(){ra.content.cyclic?(0,n.focusElement)(tb):1===Pa?(0,n.focusElement)(zb):(0,n.focusElement)(tb)}));tb.setAttribute("tabindex",ab);ab=(0,k.setTabIndexes)(this.contentEl,ab+1);(0,k.addTabbableEnterListener)();Ua&&(Ua.setAttribute("tabindex",ab),ab+=1);zb.setAttribute("tabindex",ab);ab+=1;(0,h.getConfig)("clientSideEngagementTracking")&&na(ra,
1);R(Pa,ra,this.contentEl);(0,u.isDesktop)()?(this.contentEl.style.position="fixed",this.contentEl.style.top="0px",this.contentEl.style.left="0px"):Ca.positionElement(this.contentEl,null,"center","center");ra.content.carouselSlideList.forEach(function(Ka){(0,k.listenToLinksClicks)(Ta.rootEl.querySelector("#slide"+Ka.id),ra,{stepId:Ka.id,stepName:Ka.name})});La&&La(ra,this.contentEl)},afterClose:function(){(0,h.getBody)().classList.add("apt-vex");var Ta={engagementId:ra.engagementId};f.default.wasCompletedTracked(ra.executionId)?
(0,m.internalApt)("engagementCompletedClosed",Ta):(0,m.internalApt)("engagementDroppedClosed",Ta);(0,k.removeCicularTabsWrapperListener)(oa);(0,v.sendEngagementClosedEvent)()},beforeClose:function(){try{(0,v.handleEngagementFinish)("IN_APP_CAROUSEL"),(0,k.removeTabbableEnterListener)()}catch(Ta){w.logger.logInternalError(Ta,"Error in before closing slider")}}})};this.close=function(){va&&va.close()};U=U.bind(this);R=R.bind(this)}},function(E,b,c){function y(a){var H=a.id,r=a.contentType,B=a.deviceType,
F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.htmlElements;a=a.htmlLangAddition;return D.sort(),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,htmlElements:O,htmlLangAddition:a}}function q(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,
O=a.footer,W=a.buttonType,ba=a.url,ma=a.targetUrl,sa=a.transitionType,za=a.transitionTimeout,S=a.overlayColor,M=a.overlayFill,V=a.modal,X=a.overlayPadding,Y=a.steps,qa=a.widgetEnabled,xa=a.widgetTitle,Ea=a.widgetDescription,Ha=a.category,Ba=a.endButtonText,wa=a.restartButtonText,Fa=a.nextButtonText,ia=a.backButtonText,A=a.getStartedButtonText,T=a.skipButtonText,K=a.stepCounterLabelText,da=a.borderRadius,fa=a.completionClosingAction,Ca=a.completionClosingRedirectUrl,oa=a.interruptClosingAction,na=
a.interruptClosingRedirectUrl,G=a.showStepCounter,J=a.skipButton;a=a.startButton;D.sort();Y=Y.map(function(R){var N=p(R,f);return N.textRule=p(R.textRule,m),N.textRule&&N.textRule.values&&N.textRule.values.sort(),N.navigation=p(R.navigation,h),N.shadowSettings=p(R.shadowSettings,z),N.overlay=p(R.overlay,g),N.hotspotSettings=p(R.hotspotSettings,k),N});return Y.sort(function(R,N){return R.id<N.id?-1:R.id>N.id?1:0}),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,
defaultLanguage:P,deviceContentLanguagesList:D,footer:O,buttonType:W,url:ba,targetUrl:ma,transitionType:sa,transitionTimeout:za,overlayColor:S,overlayFill:M,modal:V,overlayPadding:X,steps:Y,widgetEnabled:qa,widgetTitle:xa,widgetDescription:Ea,category:p(Ha,t),endButtonText:Ba,restartButtonText:wa,nextButtonText:Fa,backButtonText:ia,getStartedButtonText:A,skipButtonText:T,stepCounterLabelText:K,borderRadius:da,completionClosingAction:fa,completionClosingRedirectUrl:Ca,interruptClosingAction:oa,interruptClosingRedirectUrl:na,
showStepCounter:G,skipButton:p(J,u),startButton:p(a,u)}}function w(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.defaultHeight,W=a.defaultWidth,ba=a.transitionType,ma=a.interval,sa=a.hideNavigation,za=a.cyclic,S=a.overlayColor,M=a.overlayFill,V=a.carouselNavigation,X=a.carouselSlideList,Y=a.borderRadius,qa=a.completionClosingAction,xa=a.completionClosingRedirectUrl,Ea=a.interruptClosingAction,
Ha=a.interruptClosingRedirectUrl;a=a.zIndex;D.sort();var Ba=p(V,e);V=p(V.lastSlideSettings,n);Ba.lastSlideSettings=V;X=X.map(function(wa){return p(wa,d)});return X.sort(function(wa,Fa){return wa.id<Fa.id?-1:wa.id>Fa.id?1:0}),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,defaultHeight:O,defaultWidth:W,transitionType:ba,interval:ma,hideNavigation:sa,cyclic:za,overlayColor:S,overlayFill:M,carouselNavigation:Ba,
carouselSlideList:X,borderRadius:Y,completionClosingAction:qa,completionClosingRedirectUrl:xa,interruptClosingAction:Ea,interruptClosingRedirectUrl:Ha,zIndex:a}}function v(a){var H=a.id,r=a.type,B=a.sequenceNumber,F=a.height,I=a.width,Q=a.overlayColor,P=a.overlayFill,D=a.verticalPosition,O=a.horizontalPosition,W=a.style,ba=a.question,ma=a.submitButtonTextColor,sa=a.submitButtonBackgroundColor,za=a.submitButtonBorderColor,S=a.submitButtonBorderRadius,M=a.submitButtonBorderWidth,V=a.maxSelectionNumber,
X=a.minSelectionNumber,Y=a.numberColor,qa=a.numberSize,xa=a.numberFontFamily,Ea=a.showQuestionNumber,Ha=a.buttonText;a=a.answers.map(function(Ba){return p(Ba,C)});return a.sort(function(Ba,wa){return Ba.id<wa.id?-1:Ba.id>wa.id?1:0}),{id:H,type:r,sequenceNumber:B,height:F,width:I,overlayColor:Q,overlayFill:P,verticalPosition:D,horizontalPosition:O,style:W,question:ba,submitButtonTextColor:ma,submitButtonBackgroundColor:sa,submitButtonBorderColor:za,submitButtonBorderRadius:S,submitButtonBorderWidth:M,
answers:a,maxSelectionNumber:V,minSelectionNumber:X,numberColor:Y,numberSize:qa,numberFontFamily:xa,showQuestionNumber:Ea,buttonText:Ha}}function x(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,
closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,
buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,
passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,
positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,
neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth};case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,question:a.question,submitButtonTextColor:a.submitButtonTextColor,
submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};
case "MULTIPLE_CHOICE_QUESTION":return v(a);default:return a}}function l(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.borderRadius,W=a.overlayColor,ba=a.overlayFill,ma=a.viewType,sa=a.verticalPosition,za=a.horizontalPosition,S=a.positionTopDelta,M=a.positionLeftDelta,V=a.backgroundColor,X=a.backgroundFill,Y=a.height,qa=a.width,xa=a.showContactMeMessage,Ea=a.autoHeight,Ha=a.showShadow,
Ba=a.showFooter,wa=a.mergeFirstSteps,Fa=a.shadowSettings,ia=a.barPosition,A=a.barOffset,T=a.contactMeMessage,K=a.footer,da=a.minCharsValidationText,fa=a.maxCharsValidationText,Ca=a.mandatoryValidationText,oa=a.maxAnswersValidationText,na=a.minAnswersValidationText,G=a.zIndex;a=a.steps;D.sort();Fa=p(Fa,z);a=a.map(function(J){return x(J)});return a.sort(function(J,R){return J.id<R.id?-1:J.id>R.id?1:0}),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,
deviceContentLanguagesList:D,borderRadius:O,overlayColor:W,overlayFill:ba,viewType:ma,verticalPosition:sa,horizontalPosition:za,positionTopDelta:S,positionLeftDelta:M,backgroundColor:V,backgroundFill:X,height:Y,width:qa,showContactMeMessage:xa,autoHeight:Ea,showShadow:Ha,showFooter:Ba,mergeFirstSteps:wa,shadowSettings:Fa,barPosition:ia,barOffset:A,contactMeMessage:T,footer:K,minCharsValidationText:da,maxCharsValidationText:fa,mandatoryValidationText:Ca,maxAnswersValidationText:oa,minAnswersValidationText:na,
zIndex:G,steps:a}}Object.defineProperty(b,"__esModule",{value:!0});var p=c(25).filterProperties,e="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),n=["checkmarkType","color","backgroundColor"],d="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),f="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),
m=["operator","values"],h="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),g=["color","fill","modal","padding","blockElement"],k="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),t=["name"],u="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),
z="color fill offsetX offsetY blur spread".split(" "),C=["id","text","sequenceNumber"];b.filterAndSortEngagementFieldsV1=function(a,H){if(H)switch(a.contentType){case "IN_APP_DIALOG":return y(a);case "IN_APP_GUIDE":return q(a);case "IN_APP_CAROUSEL":return w(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return l(a);default:return a}else switch(a.contentType){case "IN_APP_GUIDE":return a.steps.sort(function(r,
B){return r.sequenceNumber-B.sequenceNumber}),a;case "IN_APP_CAROUSEL":return a.carouselSlideList.sort(function(r,B){return r.sequence-B.sequence}),a;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return a.steps.sort(function(r,B){return r.sequenceNumber-B.sequenceNumber}),a;default:return a}}},function(E,b,c){function y(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,
Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.footer,W=a.buttonType,ba=a.url,ma=a.targetUrl,sa=a.transitionType,za=a.transitionTimeout,S=a.overlayColor,M=a.overlayFill,V=a.modal,X=a.overlayPadding,Y=a.steps,qa=a.widgetEnabled,xa=a.widgetTitle,Ea=a.widgetDescription,Ha=a.category,Ba=a.endButtonText,wa=a.restartButtonText,Fa=a.nextButtonText,ia=a.backButtonText,A=a.getStartedButtonText,T=a.skipButtonText,K=a.stepCounterLabelText,da=a.borderRadius,fa=a.completionClosingAction,
Ca=a.completionClosingRedirectUrl,oa=a.interruptClosingAction,na=a.interruptClosingRedirectUrl,G=a.showStepCounter,J=a.skipButton;a=a.startButton;D.sort();Y=Y.map(function(R){var N=p(R,f);return N.textRule=p(R.textRule,m),N.textRule&&N.textRule.values&&N.textRule.values.sort(),N.navigation=p(R.navigation,h),N.shadowSettings=p(R.shadowSettings,z),N.overlay=p(R.overlay,g),N.hotspotSettings=p(R.hotspotSettings,k),N});return Y.sort(function(R,N){return R.id<N.id?-1:R.id>N.id?1:0}),{id:H,contentType:r,
deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,footer:O,buttonType:W,url:ba,targetUrl:ma,transitionType:sa,transitionTimeout:za,overlayColor:S,overlayFill:M,modal:V,overlayPadding:X,steps:Y,widgetEnabled:qa,widgetTitle:xa,widgetDescription:Ea,category:p(Ha,t),endButtonText:Ba,restartButtonText:wa,nextButtonText:Fa,backButtonText:ia,getStartedButtonText:A,skipButtonText:T,stepCounterLabelText:K,borderRadius:da,completionClosingAction:fa,
completionClosingRedirectUrl:Ca,interruptClosingAction:oa,interruptClosingRedirectUrl:na,showStepCounter:G,skipButton:p(J,u),startButton:p(a,u)}}function q(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.defaultHeight,W=a.defaultWidth,ba=a.transitionType,ma=a.interval,sa=a.hideNavigation,za=a.cyclic,S=a.overlayColor,M=a.overlayFill,V=a.carouselNavigation,X=a.carouselSlideList,Y=a.borderRadius,
qa=a.completionClosingAction,xa=a.completionClosingRedirectUrl,Ea=a.interruptClosingAction,Ha=a.interruptClosingRedirectUrl;a=a.zIndex;D.sort();var Ba=p(V,e);V=p(V.lastSlideSettings,n);Ba.lastSlideSettings=V;X=X.map(function(wa){return p(wa,d)});return X.sort(function(wa,Fa){return wa.id<Fa.id?-1:wa.id>Fa.id?1:0}),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,defaultHeight:O,defaultWidth:W,transitionType:ba,
interval:ma,hideNavigation:sa,cyclic:za,overlayColor:S,overlayFill:M,carouselNavigation:Ba,carouselSlideList:X,borderRadius:Y,completionClosingAction:qa,completionClosingRedirectUrl:xa,interruptClosingAction:Ea,interruptClosingRedirectUrl:Ha,zIndex:a}}function w(a){var H=a.id,r=a.type,B=a.sequenceNumber,F=a.height,I=a.width,Q=a.overlayColor,P=a.overlayFill,D=a.verticalPosition,O=a.horizontalPosition,W=a.style,ba=a.surveyPageId,ma=a.question,sa=a.submitButtonTextColor,za=a.submitButtonBackgroundColor,
S=a.submitButtonBorderColor,M=a.submitButtonBorderRadius,V=a.submitButtonBorderWidth,X=a.maxSelectionNumber,Y=a.minSelectionNumber,qa=a.numberColor,xa=a.numberSize,Ea=a.numberFontFamily,Ha=a.showQuestionNumber,Ba=a.buttonText;a=a.answers.map(function(wa){return p(wa,C)});return a.sort(function(wa,Fa){return wa.id<Fa.id?-1:wa.id>Fa.id?1:0}),{id:H,type:r,sequenceNumber:B,height:F,width:I,overlayColor:Q,overlayFill:P,verticalPosition:D,horizontalPosition:O,style:W,surveyPageId:ba,question:ma,submitButtonTextColor:sa,
submitButtonBackgroundColor:za,submitButtonBorderColor:S,submitButtonBorderRadius:M,submitButtonBorderWidth:V,answers:a,maxSelectionNumber:X,minSelectionNumber:Y,numberColor:qa,numberSize:xa,numberFontFamily:Ea,showQuestionNumber:Ha,buttonText:Ba}}function v(a){return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,
textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,
detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,
positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,
neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function x(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,
html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return v(a);case "DYNAMIC_RATING_STEP":var H=v(a);return Object.assign({},H,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,
showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,
submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return w(a);default:return a}}
function l(a){var H=a.id,r=a.contentType,B=a.contentSubType,F=a.deviceType,I=a.coreStyling,Q=a.overrideStyling,P=a.engagementCoreStyling,D=a.defaultLanguage,O=a.deviceContentLanguagesList,W=a.borderRadius,ba=a.overlayColor,ma=a.overlayFill,sa=a.viewType,za=a.verticalPosition,S=a.horizontalPosition,M=a.positionTopDelta,V=a.positionLeftDelta,X=a.backgroundColor,Y=a.backgroundFill,qa=a.height,xa=a.width,Ea=a.showContactMeMessage,Ha=a.autoHeight,Ba=a.showShadow,wa=a.showFooter,Fa=a.mergeFirstSteps,ia=
a.shadowSettings,A=a.barPosition,T=a.barOffset,K=a.contactMeMessage,da=a.footer,fa=a.minCharsValidationText,Ca=a.maxCharsValidationText,oa=a.mandatoryValidationText,na=a.maxAnswersValidationText,G=a.minAnswersValidationText,J=a.zIndex,R=a.steps,N=a.surveyPages;a=a.orientation;O.sort();ia=p(ia,z);R=R.map(function(U){return x(U)});R.sort(function(U,Z){return U.id<Z.id?-1:U.id>Z.id?1:0});N=N.map(function(U){var Z=U.buttonSetting;return{id:U.id,title:U.title,sequenceNumber:U.sequenceNumber,height:U.height,
width:U.width,verticalPosition:U.verticalPosition,horizontalPosition:U.horizontalPosition,buttonSetting:{enabled:Z.enabled,backgroundColor:Z.backgroundColor,backgroundFill:Z.backgroundFill,borderColor:Z.borderColor,hoverBackgroundColor:Z.hoverBackgroundColor,hoverBackgroundFill:Z.hoverBackgroundFill,hoverBorderColor:Z.hoverBorderColor,showBorder:Z.showBorder,text:Z.text,textColor:Z.textColor,hoverTextColor:Z.hoverTextColor,cornerRadius:Z.cornerRadius},style:U.style}});return N.sort(function(U,Z){return U.id<
Z.id?-1:U.id>Z.id?1:0}),{id:H,contentType:r,deviceType:F,coreStyling:I,overrideStyling:Q,engagementCoreStyling:P,defaultLanguage:D,deviceContentLanguagesList:O,contentSubType:B,borderRadius:W,overlayColor:ba,overlayFill:ma,viewType:sa,verticalPosition:za,horizontalPosition:S,positionTopDelta:M,positionLeftDelta:V,backgroundColor:X,backgroundFill:Y,height:qa,width:xa,showContactMeMessage:Ea,autoHeight:Ha,showShadow:Ba,showFooter:wa,mergeFirstSteps:Fa,shadowSettings:ia,barPosition:A,barOffset:T,contactMeMessage:K,
footer:da,minCharsValidationText:fa,maxCharsValidationText:Ca,mandatoryValidationText:oa,maxAnswersValidationText:na,minAnswersValidationText:G,zIndex:J,steps:R,surveyPages:N,orientation:a}}Object.defineProperty(b,"__esModule",{value:!0});var p=c(25).filterProperties,e="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),n=["checkmarkType","color","backgroundColor"],d="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
f="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),m=["operator","values"],h="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
g=["color","fill","modal","padding","blockElement"],k="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),t=["name"],u="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),z="color fill offsetX offsetY blur spread".split(" "),C=["id","text","sequenceNumber"];b.filterAndSortEngagementFieldsV3=function(a){switch(a.contentType){case "IN_APP_DIALOG":var H=
a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.htmlElements;a=a.htmlLangAddition;return D.sort(),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,htmlElements:O,htmlLangAddition:a};case "IN_APP_GUIDE":return y(a);case "IN_APP_CAROUSEL":return q(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return l(a);
default:return a}}},function(E,b,c){function y(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.footer,W=a.buttonType,ba=a.url,ma=a.targetUrl,sa=a.transitionType,za=a.transitionTimeout,S=a.overlayColor,M=a.overlayFill,V=a.modal,X=a.overlayPadding,Y=a.steps,qa=a.widgetEnabled,xa=a.widgetTitle,Ea=a.widgetDescription,Ha=a.category,Ba=a.endButtonText,wa=a.restartButtonText,Fa=a.nextButtonText,
ia=a.backButtonText,A=a.getStartedButtonText,T=a.skipButtonText,K=a.stepCounterLabelText,da=a.borderRadius,fa=a.completionClosingAction,Ca=a.completionClosingRedirectUrl,oa=a.interruptClosingAction,na=a.interruptClosingRedirectUrl,G=a.showStepCounter,J=a.skipButton,R=a.startButton,N=a.timeout;a=a.delay;D.sort();Y=Y.map(function(U){var Z=p(U,f);return Z.textRule=p(U.textRule,m),Z.textRule&&Z.textRule.values&&Z.textRule.values.sort(),Z.navigation=p(U.navigation,h),Z.shadowSettings=p(U.shadowSettings,
z),Z.overlay=p(U.overlay,g),Z.hotspotSettings=p(U.hotspotSettings,k),Z});return Y.sort(function(U,Z){return U.id<Z.id?-1:U.id>Z.id?1:0}),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,footer:O,buttonType:W,url:ba,targetUrl:ma,transitionType:sa,transitionTimeout:za,overlayColor:S,overlayFill:M,modal:V,overlayPadding:X,steps:Y,widgetEnabled:qa,widgetTitle:xa,widgetDescription:Ea,category:p(Ha,t),endButtonText:Ba,
restartButtonText:wa,nextButtonText:Fa,backButtonText:ia,getStartedButtonText:A,skipButtonText:T,stepCounterLabelText:K,borderRadius:da,completionClosingAction:fa,completionClosingRedirectUrl:Ca,interruptClosingAction:oa,interruptClosingRedirectUrl:na,showStepCounter:G,skipButton:p(J,u),startButton:p(R,u),timeout:N,delay:a}}function q(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.defaultHeight,
W=a.defaultWidth,ba=a.transitionType,ma=a.interval,sa=a.hideNavigation,za=a.cyclic,S=a.overlayColor,M=a.overlayFill,V=a.carouselNavigation,X=a.carouselSlideList,Y=a.borderRadius,qa=a.completionClosingAction,xa=a.completionClosingRedirectUrl,Ea=a.interruptClosingAction,Ha=a.interruptClosingRedirectUrl,Ba=a.zIndex,wa=a.timeout;a=a.delay;D.sort();var Fa=p(V,e);V=p(V.lastSlideSettings,n);Fa.lastSlideSettings=V;X=X.map(function(ia){return p(ia,d)});return X.sort(function(ia,A){return ia.id<A.id?-1:ia.id>
A.id?1:0}),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,defaultHeight:O,defaultWidth:W,transitionType:ba,interval:ma,hideNavigation:sa,cyclic:za,overlayColor:S,overlayFill:M,carouselNavigation:Fa,carouselSlideList:X,borderRadius:Y,completionClosingAction:qa,completionClosingRedirectUrl:xa,interruptClosingAction:Ea,interruptClosingRedirectUrl:Ha,zIndex:Ba,timeout:wa,delay:a}}function w(a){var H=a.id,r=a.type,
B=a.sequenceNumber,F=a.height,I=a.width,Q=a.overlayColor,P=a.overlayFill,D=a.verticalPosition,O=a.horizontalPosition,W=a.style,ba=a.surveyPageId,ma=a.question,sa=a.submitButtonTextColor,za=a.submitButtonBackgroundColor,S=a.submitButtonBorderColor,M=a.submitButtonBorderRadius,V=a.submitButtonBorderWidth,X=a.maxSelectionNumber,Y=a.minSelectionNumber,qa=a.numberColor,xa=a.numberSize,Ea=a.numberFontFamily,Ha=a.showQuestionNumber,Ba=a.buttonText;a=a.answers.map(function(wa){return p(wa,C)});return a.sort(function(wa,
Fa){return wa.id<Fa.id?-1:wa.id>Fa.id?1:0}),{id:H,type:r,sequenceNumber:B,height:F,width:I,overlayColor:Q,overlayFill:P,verticalPosition:D,horizontalPosition:O,style:W,surveyPageId:ba,question:ma,submitButtonTextColor:sa,submitButtonBackgroundColor:za,submitButtonBorderColor:S,submitButtonBorderRadius:M,submitButtonBorderWidth:V,answers:a,maxSelectionNumber:X,minSelectionNumber:Y,numberColor:qa,numberSize:xa,numberFontFamily:Ea,showQuestionNumber:Ha,buttonText:Ba}}function v(a){return{id:a.id,type:a.type,
sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,
selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,
submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,
negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function x(a){switch(a.type){case "CONTENT":return{id:a.id,
type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,
closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return v(a);case "DYNAMIC_RATING_STEP":var H=v(a);return Object.assign({},H,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,
overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,
showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return w(a);default:return a}}function l(a){var H=a.id,r=a.contentType,B=a.contentSubType,F=a.deviceType,I=a.coreStyling,Q=a.overrideStyling,P=a.engagementCoreStyling,D=a.defaultLanguage,O=a.deviceContentLanguagesList,W=a.borderRadius,ba=a.overlayColor,ma=a.overlayFill,
sa=a.viewType,za=a.verticalPosition,S=a.horizontalPosition,M=a.positionTopDelta,V=a.positionLeftDelta,X=a.backgroundColor,Y=a.backgroundFill,qa=a.height,xa=a.width,Ea=a.showContactMeMessage,Ha=a.autoHeight,Ba=a.showShadow,wa=a.showFooter,Fa=a.mergeFirstSteps,ia=a.shadowSettings,A=a.barPosition,T=a.barOffset,K=a.contactMeMessage,da=a.footer,fa=a.minCharsValidationText,Ca=a.maxCharsValidationText,oa=a.mandatoryValidationText,na=a.maxAnswersValidationText,G=a.minAnswersValidationText,J=a.zIndex,R=a.steps,
N=a.surveyPages,U=a.orientation,Z=a.timeout;a=a.delay;O.sort();ia=p(ia,z);R=R.map(function(ta){return x(ta)});R.sort(function(ta,ca){return ta.id<ca.id?-1:ta.id>ca.id?1:0});N=N.map(function(ta){var ca=ta.buttonSetting;return{id:ta.id,title:ta.title,sequenceNumber:ta.sequenceNumber,height:ta.height,width:ta.width,verticalPosition:ta.verticalPosition,horizontalPosition:ta.horizontalPosition,buttonSetting:{enabled:ca.enabled,backgroundColor:ca.backgroundColor,backgroundFill:ca.backgroundFill,borderColor:ca.borderColor,
hoverBackgroundColor:ca.hoverBackgroundColor,hoverBackgroundFill:ca.hoverBackgroundFill,hoverBorderColor:ca.hoverBorderColor,showBorder:ca.showBorder,text:ca.text,textColor:ca.textColor,hoverTextColor:ca.hoverTextColor,cornerRadius:ca.cornerRadius},style:ta.style}});return N.sort(function(ta,ca){return ta.id<ca.id?-1:ta.id>ca.id?1:0}),{id:H,contentType:r,deviceType:F,coreStyling:I,overrideStyling:Q,engagementCoreStyling:P,defaultLanguage:D,deviceContentLanguagesList:O,contentSubType:B,borderRadius:W,
overlayColor:ba,overlayFill:ma,viewType:sa,verticalPosition:za,horizontalPosition:S,positionTopDelta:M,positionLeftDelta:V,backgroundColor:X,backgroundFill:Y,height:qa,width:xa,showContactMeMessage:Ea,autoHeight:Ha,showShadow:Ba,showFooter:wa,mergeFirstSteps:Fa,shadowSettings:ia,barPosition:A,barOffset:T,contactMeMessage:K,footer:da,minCharsValidationText:fa,maxCharsValidationText:Ca,mandatoryValidationText:oa,maxAnswersValidationText:na,minAnswersValidationText:G,zIndex:J,steps:R,surveyPages:N,orientation:U,
timeout:Z,delay:a}}Object.defineProperty(b,"__esModule",{value:!0});b.filterAndSortEngagementFieldsV4=function(a){switch(a.contentType){case "IN_APP_DIALOG":var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.htmlElements,W=a.htmlLangAddition,ba=a.timeout;a=a.delay;return D.sort(),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,
htmlElements:O,htmlLangAddition:W,timeout:ba,delay:a};case "IN_APP_GUIDE":return y(a);case "IN_APP_CAROUSEL":return q(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return l(a);default:return a}};var p=c(25).filterProperties,e="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),n=["checkmarkType","color","backgroundColor"],d="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
f="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),m=["operator","values"],h="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
g=["color","fill","modal","padding","blockElement"],k="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),t=["name"],u="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),z="color fill offsetX offsetY blur spread".split(" "),C=["id","text","sequenceNumber"]},function(E,b,c){function y(a){return{enabled:a.enabled,backgroundColor:a.backgroundColor,
backgroundFill:a.backgroundFill,borderColor:a.borderColor,hoverBackgroundColor:a.hoverBackgroundColor,hoverBackgroundFill:a.hoverBackgroundFill,hoverBorderColor:a.hoverBorderColor,showBorder:a.showBorder,text:a.text,textColor:a.textColor,hoverTextColor:a.hoverTextColor,cornerRadius:a.cornerRadius,brandKitClassName:a.className}}function q(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.footer,
W=a.buttonType,ba=a.url,ma=a.targetUrl,sa=a.transitionType,za=a.transitionTimeout,S=a.overlayColor,M=a.overlayFill,V=a.modal,X=a.overlayPadding,Y=a.steps,qa=a.widgetEnabled,xa=a.widgetTitle,Ea=a.widgetDescription,Ha=a.category,Ba=a.endButtonText,wa=a.restartButtonText,Fa=a.nextButtonText,ia=a.backButtonText,A=a.getStartedButtonText,T=a.skipButtonText,K=a.stepCounterLabelText,da=a.borderRadius,fa=a.completionClosingAction,Ca=a.completionClosingRedirectUrl,oa=a.interruptClosingAction,na=a.interruptClosingRedirectUrl,
G=a.showStepCounter,J=a.skipButton,R=a.startButton,N=a.timeout,U=a.delay,Z=a.lightThemeStyle,ta=a.darkThemeStyle;a=a.cssLibraryStyle;D.sort();Y=Y.map(function(ca){var la=e(ca,m);return la.textRule=e(ca.textRule,h),la.textRule&&la.textRule.values&&la.textRule.values.sort(),la.navigation=e(ca.navigation,g),la.shadowSettings=e(ca.shadowSettings,z),la.overlay=e(ca.overlay,k),la.hotspotSettings=e(ca.hotspotSettings,t),la});return Y.sort(function(ca,la){return ca.id<la.id?-1:ca.id>la.id?1:0}),{id:H,contentType:r,
deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,footer:O,buttonType:W,url:ba,targetUrl:ma,transitionType:sa,transitionTimeout:za,overlayColor:S,overlayFill:M,modal:V,overlayPadding:X,steps:Y,widgetEnabled:qa,widgetTitle:xa,widgetDescription:Ea,category:e(Ha,u),endButtonText:Ba,restartButtonText:wa,nextButtonText:Fa,backButtonText:ia,getStartedButtonText:A,skipButtonText:T,stepCounterLabelText:K,borderRadius:da,completionClosingAction:fa,
completionClosingRedirectUrl:Ca,interruptClosingAction:oa,interruptClosingRedirectUrl:na,showStepCounter:G,skipButton:y(J),startButton:y(R),timeout:N,delay:U,lightThemeStyle:Z,darkThemeStyle:ta,cssLibraryStyle:a}}function w(a){var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.defaultHeight,W=a.defaultWidth,ba=a.transitionType,ma=a.interval,sa=a.hideNavigation,za=a.cyclic,S=a.overlayColor,M=
a.overlayFill,V=a.carouselNavigation,X=a.carouselSlideList,Y=a.borderRadius,qa=a.completionClosingAction,xa=a.completionClosingRedirectUrl,Ea=a.interruptClosingAction,Ha=a.interruptClosingRedirectUrl,Ba=a.zIndex,wa=a.timeout,Fa=a.delay,ia=a.lightThemeStyle,A=a.darkThemeStyle;a=a.cssLibraryStyle;D.sort();var T=e(V,n);V=e(V.lastSlideSettings,d);T.lastSlideSettings=V;X=X.map(function(K){return e(K,f)});return X.sort(function(K,da){return K.id<da.id?-1:K.id>da.id?1:0}),{id:H,contentType:r,deviceType:B,
coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,defaultHeight:O,defaultWidth:W,transitionType:ba,interval:ma,hideNavigation:sa,cyclic:za,overlayColor:S,overlayFill:M,carouselNavigation:T,carouselSlideList:X,borderRadius:Y,completionClosingAction:qa,completionClosingRedirectUrl:xa,interruptClosingAction:Ea,interruptClosingRedirectUrl:Ha,zIndex:Ba,timeout:wa,delay:Fa,lightThemeStyle:ia,darkThemeStyle:A,cssLibraryStyle:a}}function v(a){var H=a.id,
r=a.type,B=a.sequenceNumber,F=a.height,I=a.width,Q=a.overlayColor,P=a.overlayFill,D=a.verticalPosition,O=a.horizontalPosition,W=a.style,ba=a.surveyPageId,ma=a.question,sa=a.submitButtonTextColor,za=a.submitButtonBackgroundColor,S=a.submitButtonBorderColor,M=a.submitButtonBorderRadius,V=a.submitButtonBorderWidth,X=a.maxSelectionNumber,Y=a.minSelectionNumber,qa=a.numberColor,xa=a.numberSize,Ea=a.numberFontFamily,Ha=a.showQuestionNumber,Ba=a.buttonText;a=a.answers.map(function(wa){return e(wa,C)});return a.sort(function(wa,
Fa){return wa.id<Fa.id?-1:wa.id>Fa.id?1:0}),{id:H,type:r,sequenceNumber:B,height:F,width:I,overlayColor:Q,overlayFill:P,verticalPosition:D,horizontalPosition:O,style:W,surveyPageId:ba,question:ma,submitButtonTextColor:sa,submitButtonBackgroundColor:za,submitButtonBorderColor:S,submitButtonBorderRadius:M,submitButtonBorderWidth:V,answers:a,maxSelectionNumber:X,minSelectionNumber:Y,numberColor:qa,numberSize:xa,numberFontFamily:Ea,showQuestionNumber:Ha,buttonText:Ba}}function x(a){return{id:a.id,type:a.type,
sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,
selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,
submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,
negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function l(a){switch(a.type){case "CONTENT":return{id:a.id,
type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,
closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return x(a);case "DYNAMIC_RATING_STEP":var H=x(a);return Object.assign({},H,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,
overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,
showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return v(a);default:return a}}function p(a){var H=a.id,r=a.contentType,B=a.contentSubType,F=a.deviceType,I=a.coreStyling,Q=a.overrideStyling,P=a.engagementCoreStyling,D=a.defaultLanguage,O=a.deviceContentLanguagesList,W=a.borderRadius,ba=a.overlayColor,ma=a.overlayFill,
sa=a.viewType,za=a.verticalPosition,S=a.horizontalPosition,M=a.positionTopDelta,V=a.positionLeftDelta,X=a.backgroundColor,Y=a.backgroundFill,qa=a.height,xa=a.width,Ea=a.showContactMeMessage,Ha=a.autoHeight,Ba=a.showShadow,wa=a.showFooter,Fa=a.mergeFirstSteps,ia=a.shadowSettings,A=a.barPosition,T=a.barOffset,K=a.contactMeMessage,da=a.footer,fa=a.minCharsValidationText,Ca=a.maxCharsValidationText,oa=a.mandatoryValidationText,na=a.maxAnswersValidationText,G=a.minAnswersValidationText,J=a.zIndex,R=a.steps,
N=a.surveyPages,U=a.orientation,Z=a.timeout,ta=a.delay,ca=a.lightThemeStyle,la=a.darkThemeStyle;a=a.cssLibraryStyle;O.sort();ia=e(ia,z);R=R.map(function(ea){return l(ea)});R.sort(function(ea,pa){return ea.id<pa.id?-1:ea.id>pa.id?1:0});N=N.map(function(ea){var pa=ea.style;return{id:ea.id,title:ea.title,sequenceNumber:ea.sequenceNumber,height:ea.height,width:ea.width,verticalPosition:ea.verticalPosition,horizontalPosition:ea.horizontalPosition,buttonSetting:y(ea.buttonSetting),style:pa}});return N.sort(function(ea,
pa){return ea.id<pa.id?-1:ea.id>pa.id?1:0}),{id:H,contentType:r,deviceType:F,coreStyling:I,overrideStyling:Q,engagementCoreStyling:P,defaultLanguage:D,deviceContentLanguagesList:O,contentSubType:B,borderRadius:W,overlayColor:ba,overlayFill:ma,viewType:sa,verticalPosition:za,horizontalPosition:S,positionTopDelta:M,positionLeftDelta:V,backgroundColor:X,backgroundFill:Y,height:qa,width:xa,showContactMeMessage:Ea,autoHeight:Ha,showShadow:Ba,showFooter:wa,mergeFirstSteps:Fa,shadowSettings:ia,barPosition:A,
barOffset:T,contactMeMessage:K,footer:da,minCharsValidationText:fa,maxCharsValidationText:Ca,mandatoryValidationText:oa,maxAnswersValidationText:na,minAnswersValidationText:G,zIndex:J,steps:R,surveyPages:N,orientation:U,timeout:Z,delay:ta,lightThemeStyle:ca,darkThemeStyle:la,cssLibraryStyle:a}}Object.defineProperty(b,"__esModule",{value:!0});b.filterAndSortEngagementFieldsV5=function(a){switch(a.contentType){case "IN_APP_DIALOG":var H=a.id,r=a.contentType,B=a.deviceType,F=a.coreStyling,I=a.overrideStyling,
Q=a.engagementCoreStyling,P=a.defaultLanguage,D=a.deviceContentLanguagesList,O=a.htmlElements,W=a.htmlLangAddition,ba=a.timeout,ma=a.delay,sa=a.lightThemeStyle,za=a.darkThemeStyle;a=a.cssLibraryStyle;return D.sort(),{id:H,contentType:r,deviceType:B,coreStyling:F,overrideStyling:I,engagementCoreStyling:Q,defaultLanguage:P,deviceContentLanguagesList:D,htmlElements:O,htmlLangAddition:W,timeout:ba,delay:ma,lightThemeStyle:sa,darkThemeStyle:za,cssLibraryStyle:a};case "IN_APP_GUIDE":return q(a);case "IN_APP_CAROUSEL":return w(a);
case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return p(a);default:return a}};var e=c(25).filterProperties,n="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),d=["checkmarkType","color","backgroundColor"],f="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
m="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),h=["operator","values"],g="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
k=["color","fill","modal","padding","blockElement"],t="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),u=["name"],z="color fill offsetX offsetY blur spread".split(" "),C=["id","text","sequenceNumber"]},function(E,b,c){function y(O,W){var ba=(0,C.getChannel)(l.eventTrackData[h.cacheGet](l.productIdParameter));!O.isAutoHeight&&O.height?(W.style.height=O.height+"px",W.querySelector(".apt-dialog-content-wrapper").style.height=O.height+"px"):O.isAutoHeight&&
ba!==a.DESKTOP_CHANNEL&&W.classList.add("apt-auto-height-scroll")}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0);E=(E=c(38))&&E.__esModule?E:{default:E};var w=c(9),v=c(30),x=c(13),l=c(4),p=c(17),e=c(7),n=c(10),d=c(32),f=c(2),m=c(27),h=c(8),g=c(16),k=g&&g.__esModule?g:{default:g},t=c(1),u=c(11),z=c(67),C=c(21),a=c(6),H=c(18),r=c(23),B=c(19),F=c(26),I=c(37);I.defaultOptions.className="vex-theme-os";var Q=new E.default,P=null,D=void 0;b.default=function(){function O(M,V,X){if(!k.default.isEditorMode()){var Y=
t.trackMultiStepEndpoint,qa=[],xa=F.UserData.getSessionId();!0!==S[xa]&&(2===V&&(S[xa]=!0),qa=(0,q.addParameters)(l.eventTrackData[h.cacheGetAll](),qa),(0,q.addParameters)({ei:M.engagementId||null,ecoi:M.content.id||null,evi:M.matchEventId||null,ent:1,ems:V||null,acci:M.accountId,exi:M.executionId,ext:M.executionTimestamp,at:M.activationType||"a",cl:M.contentLocale},qa),X&&"kc"===M.activationType&&(0,q.addParameters)(X,qa),V=(0,r.getGlobalContext)(),X=(0,C.getChannel)(l.eventTrackData[h.cacheGet](l.productIdParameter)),
xa=void 0,V&&(xa={gcx:JSON.stringify(V)},X!==a.DESKTOP_CHANNEL&&(0,q.addParameters)(xa,qa)),qa=(0,q.addParameters)((0,B.getWebContext)(),qa),X===a.DESKTOP_CHANNEL?(0,p.desktopTrackEngagementState)(qa,xa):(Y+="?"+(0,q.convert2Parameters)(qa),x.AjaxUtil.getData(Y)),u.internalEventListener.dispatchEvent("engagementCompleted",(0,p.getExternalEvent)(M,"Completed")))}}function W(M,V){(0,C.isDesktop)()&&(0,p.addLinkListenerForDesktop)(M,V,null,0)}function ba(M,V,X){var Y=M&&M.contentBackground;Y&&(V.style.backgroundColor=
M.contentBackground);Y&&M.backgroundFill&&(V.style.backgroundColor=(0,q.hexToRgba)(M.contentBackground,M.backgroundFill/100),(0,q.checkDarkColor)(M.contentBackground)&&X&&V.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"))}function ma(M,V){return function(){try{if(M.closingAction&&"REDIRECT"===M.closingAction&&M.closeUrl)if((0,C.isDesktop)())u.internalEventListener.dispatchEvent("engagementLinkClick",{engagementType:V.content.contentType,engagementId:V.engagementId,
link:M.closeUrl,close:!0});else{var X=(0,d.resolveUrlWithPlaceholders)(document.location.href,M.closeUrl);X!==document.location.href&&(document.location.href=X)}}catch(Y){f.logger.logInternalError(Y,"Error in dialog close handler")}}}function sa(M,V,X,Y,qa,xa){var Ea=(0,q.getEscHandlerCallback)(ma(M,X)),Ha=void 0,Ba=void 0,wa={appendLocation:(0,t.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,t.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",
unsafeContent:V.outerHTML,overlayClosesOnClick:!1,showCloseButton:!0,afterClose:function(){(0,t.getBody)().classList.remove("apt-vex");clearTimeout(Ba);Ha&&clearTimeout(Ha);(0,m.internalApt)("engagementCompletedClosed",{engagementId:X.engagementId});(0,p.removeCicularTabsWrapperListener)(D);(0,v.sendEngagementClosedEvent)()},beforeClose:function(){try{(0,q.removeEventListener)(document,"keydown",Ea),(0,v.handleEngagementFinish)("IN_APP_DIALOG")}catch(ia){f.logger.logInternalError(ia,"Error before close dialog")}},
afterOpen:function(){var ia=this;if((0,t.getConfig)("enableModalBodyScroll")&&(0,t.getBody)().classList.add("apt-vex"),this.rootEl.classList.add("apt-vex"),this.contentEl.classList.add("apt-dialog-popup"),this.contentEl.classList.add("px-engagement-wrapper-dialog"),this.contentEl.classList.add("px-engagement-wrapper"),(0,e.addStyleTag)(this.contentEl,X.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,e.addStyleTag)(this.contentEl,X.content.engagementCoreStyling,"px-engagement-wrapper-dialog",
".apt-vex.vex.vex-theme-os"),(0,e.addStyleTag)(this.contentEl,X.content.overrideStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),this.contentEl.setAttribute("data-apt-disable-selector",!0),y(M,this.contentEl),0<M.zIndex&&(this.rootEl.style.zIndex=M.zIndex,this.overlayEl.style.zIndex=M.zIndex,this.contentEl.style.zIndex=M.zIndex),"BAR"===M.viewType){this.contentEl.style.position="fixed";this.contentEl.classList.add("apt-dialog-bar");this.contentEl.style.width=(0,C.isDesktop)()?"100%":
(0,w.getPageWidth)()+"px";var A=(M.barOffset||0)+"px";"TOP"===M.barPosition?this.contentEl.style.top=A:this.contentEl.style.bottom=A}else{M.width&&(this.contentEl.style.width=M.width+"px");M.isFitToWidth&&(this.contentEl.style.height=(0,w.getPageHeight)(),this.contentEl.style.width=(0,w.getPageWidth)());A=M.hPosition;var T=M.vPosition;A||="center";T&&"middle"!==T||(T="center");this.contentEl.style.position="absolute";!0===(0,t.getConfig)("disableEngagementReposition")?(this.contentEl.style.position=
"fixed",this.contentEl.style.top=0,this.contentEl.style.left=0):Q.positionElement(this.contentEl,null,A,T);/^\d+$/.test(A)&&(this.contentEl.style.left=A+"px");/^\d+$/.test(T)&&(this.contentEl.style.top=T+"px")}M.overlayColor&&(this.overlayEl.style.background=(0,q.hexToRgba)(M.overlayColor,M.overlayFill?M.overlayFill/100:0));(!M.overlayFill||1>M.overlayFill)&&this.rootEl.classList.add("apt-popup-disable-overlay");ba(M,this.contentEl,!0);A=(0,n.arrayFrom)(this.contentEl.querySelectorAll("a"));if((0,q.isNotEmptyArr)(A))for(T=
0;T<A.length;T++)"_blank"!==A[T].target&&(0,q.addEventListener)(A[T],"click",function(){P.close()});A=(0,n.arrayFrom)(this.contentEl.querySelectorAll("button"));var K=xa&&xa.recId?xa.recId:null;(0,q.isNotEmptyArr)(A)&&A.forEach(function(da){(0,q.addEventListener)(da,"click",function(){var fa=(0,p.getEngagementTrackPayload)(X,"ENGAGEMENT_CLICK");fa=(0,q.addParameters)({recId:K||null},fa);fa=t.engagementTrackEndpoint+"?"+(0,q.convert2Parameters)(fa);x.AjaxUtil.getData(fa,null,null,null,!0)})});(0,p.removeCicularTabsWrapperListener)(D);
(0,p.checkHasOverlay)(M.overlayColor,M.overlayFill)&&(D=(0,p.addCircularTabListener)(function(){return(0,e.focusElement)(ia.contentEl)}));(0,q.addEventListener)(document,"keydown",Ea);(0,q.addEventListener)(this.closeEl,"click",ma(M,X));M.borderRadius&&"DIALOG"===M.viewType&&(this.contentEl.style.borderRadius=M.borderRadius+"px");O(X,2);(0,p.listenToLinksClicks)(this.rootEl,X);A=this.contentEl.getBoundingClientRect();(0,p.sendDesktopEngagementSizeEvent)("engagementPostRender",A,X,M);Y&&Y(X,this.contentEl);
(0,p.sendDesktopResize)(this.contentEl,X,{height:M.height,width:M.width,autoHeight:M.isAutoHeight});W(this.contentEl,X)}},Fa=M.timeout?M.timeout*q.MILLISEC:0;Ba=setTimeout(function(){var ia={url:(0,q.getPageUrl)()};if(!1===qa&&!k.default.isPreview()&&!(0,q.isBlank)(X.rules)&&!(0,z.matchMultiTypeRules)(JSON.parse(X.rules),ia))return f.logger.log("did not have client side match for engagement rules "+X.rules+", current URL: "+ia),void(0,v.handleEngagementFinish)("IN_APP_DIALOG");P=I.open(wa);0<Fa&&
(Ha=setTimeout(function(){I.close(P)},Fa))},M.delay?M.delay*q.MILLISEC:0)}function za(M,V,X){var Y=M.embeddedSelector,qa=(0,H.findElementsInShadowDom)(Y,document);if(1!==qa.length)return void f.logger.log("Could not embed Dialog "+X.engagementId+". There were "+qa.length+" elements with selector "+Y+". Should have only 1.");var xa=qa[0];(qa=xa.querySelector(".apt-dialog-content-wrapper"))&&xa.removeChild(qa);xa.appendChild(V);V.classList.add("px-engagement-wrapper");V.classList.add("px-engagement-wrapper-dialog");
(0,e.addStyleTag)(V,X.content.coreStyling,Y,void 0,!0);(0,e.addStyleTag)(V,X.content.engagementCoreStyling,Y,void 0,!0);(0,e.addStyleTag)(V,X.content.overrideStyling,Y,void 0,!0);y(M,xa);xa.style.width="BAR"===M.viewType?"100%":M.width+"px";xa.style.position="relative";V.style.position="relative";ba(M,V,!1);M=(0,q.createElement)("div","apt-embedded-close");(0,q.addEventListener)(M,"click",function(){xa.removeChild(V);xa.removeAttribute("style");(0,v.handleEngagementFinish)("IN_APP_DIALOG")});V.appendChild(M);
O(X,2);(0,p.listenToLinksClicks)(V,X)}var S={};this.drawDialog=function(M,V,X,Y){var qa=M.content.htmlElements,xa=M.content.settings,Ea=(0,q.createElement)("div","apt-dialog-content-wrapper");(0,e.isElement)(qa)?(Ea.appendChild(qa),qa=Ea):(Ea.innerHTML=(0,e.addNonceToDomString)(qa),qa=Ea);(0,p.setTabIndexes)(qa,a.TAB_INDEX_START);(0,p.addTabbableEnterListener)();xa.embedded?za(xa,qa,M):sa(xa,qa,M,V,X,Y)};this.close=function(){P&&P.close();(0,p.removeTabbableEnterListener)()}}},function(E,b,c){function y(z){var C=
z.actionType;z=z.onNavigationNextAction;return C===h.URL_REDIRECTION||C===h.NAVIGATION&&z===h.URL_REDIRECTION}function q(z){switch(z.actionType){case h.URL_REDIRECTION:return(0,f.resolveUrlWithPlaceholders)(window.location.href,z.url);case k:return z.articleId?z.articleId:u;case h.NAVIGATION:return z.navigationType;case t:return z.attributeValue;default:throw Error("Action type not found");}}function w(z,C,a,H){var r=H.steps.find(function(B){return B.id===a});H=(0,d.getEngagementTrackPayload)(H,"ENGAGEMENT_CLICK",
a,r.sequenceNumber);r={actionIndex:C.sequenceNumber,actionValue:q(C)};z={cei:z,caet:(0,g.jsonStringify)([r])};return y(C)&&(z.ru=(0,f.resolveUrlWithPlaceholders)(window.location.href,C.url)),(0,x.addParameters)(z,H),l.engagementTrackEndpoint+"?"+(0,x.convert2Parameters)(H)}function v(z,C,a,H){var r=C.url;H.preview||(r=w(z,C,a,H));(0,m.redirect)(r,void 0,(0,m.canUseHistoryReplaceState)(),C.openNewTab)}Object.defineProperty(b,"__esModule",{value:!0});b.setCustomButtonEventListener=void 0;var x=c(0),
l=c(1),p=c(13),e=c(98),n=c(6),d=c(17),f=c(32),m=c(41),h=c(62),g=c(10),k="KC_BOT",t="USER_ATTRIBUTE",u="OPEN_BOT";b.setCustomButtonEventListener=function(z,C,a,H,r){C&&z.querySelectorAll('button[id^\x3d"pxCustomButton"]').forEach(function(B){var F=B.id.slice(h.CUSTOM_BUTTON_PREFIX_END_INDEX),I=C.find(function(Q){return Q.elementId===F});I&&I.actionConfigs&&I.actionConfigs.length&&(0,x.addEventListener)(B,"click",function(){var Q=y(I.actionConfigs[0]);H.preview||Q||(Q=w(I.elementId,I.actionConfigs[0],
r,H),p.AjaxUtil.postData(Q,null,null,null,null,!0));if(Q=I.actionConfigs[0])switch(Q.actionType){case h.URL_REDIRECTION:Q.closeEngagement&&a.closeCallback();v(I.elementId,Q,r,H,Q.openNewTab);break;case k:Q.articleId?(0,x.dispatchCustomEvent)(e.GAINSIGHT_PX_OPEN_ARTICLE,{articleId:Q.articleId}):(0,x.dispatchCustomEvent)(e.GAINSIGHT_PX_OPEN_BOT);Q.closeEngagement&&a.closeCallback();break;case h.NAVIGATION:var P=I.elementId,D=a.customButtonNextCallback,O=a.closeCallback,W=a.showPreviousStepCallback,
ba=a.startOverGuideCallback,ma=a.customButtonGoToStepCallback;switch(Q.navigationType){case h.NEXT:D(Q,F);break;case h.GO_TO_STEP:ma(F);break;case "SKIP":O();break;case h.END:Q.onNavigationNextAction===h.URL_REDIRECTION?v(P,Q,r,H):O();break;case "PREVIOUS":W(Q.useBrowsingHistory);break;case "START_OVER":ba(Q.useBrowsingHistory);break;default:throw Error("Navigation type not found");}break;case t:P=x;D=P.dispatchCustomEvent;O=n.SET_USER_ATTRIBUTE_EVENT_NAME;W={};ba=Q.attributeName;ma=Q.attributeValue;
W=(ba in W?Object.defineProperty(W,ba,{value:ma,enumerable:!0,configurable:!0,writable:!0}):W[ba]=ma,W);D.call(P,O,{userAttr:W});Q.closeEngagement&&a.closeCallback();break;default:throw Error("Action type not found");}})})}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.updateTooltipAndHotspotStyle=function(y){var q=y.guideDrawerLocalVariables,w=y.elementData,v=y.guideSettings,x=y.stepSettings,l=y.engStyle,p=y.callback,e=y.skipReposition;y=y.dontReposition;var n=q.dialog,d=q.currentStepSettings,
f=q.setTooltipArrowPosition;q=q.setHotspotStyle;"TOOLTIP"===x.type?(this.updateDialogStyle({guideSettings:v,stepSettings:x,engStyle:l,elementData:w,dontReposition:y}),e&&f([x.position.positionHorizontal,x.position.positionVertical],n[0].contentEl,x.backgroundColor),d.backgroundColor=x.backgroundColor):"HOTSPOT"===x.type&&x.hotspotSettings&&q(x);e||this.changePositionWithFallback({elementData:w,stepSettings:x,callback:p})};b.getDummyElementCenter=function(y){y=y.getBoundingClientRect();return{isDom:!1,
isVisible:!0,elementRect:{left:y.width/2,top:y.height/2,width:1,height:1}}}},function(E,b,c){function y(l,p){var e={"apt-step-footer-buttons":"px-step-navigation-buttons","apt-step-footer-next":"px-step-navigation-next","apt-step-footer-button":"px-step-navigation-button","apt-step-footer":"px-step-navigation","apt-step-new-index":"px-step-new-index"};return l.querySelector(".px-step-navigation")?"."+e[p]:"."+p}Object.defineProperty(b,"__esModule",{value:!0});b.getSelectorByVersion=void 0;var q=c(0),
w=c(9),v=c(10),x=["DIALOG","TOOLTIP"];E=new function(){function l(d,f,m){var h=f.backgroundColor,g=f.backgroundFill,k=f.textColor,t=f.cornerRadius,u=f.hoverBackgroundColor,z=f.hoverBackgroundFill;f=f.hoverTextColor;var C=".px-step-navigation-"+m+":hover {";h=".px-step-navigation-"+m+" {background-color: "+((-1<g?(0,q.hexToRgba)(h,g/100):h)+";");C+="background-color: "+(-1<z?(0,q.hexToRgba)(u,z/100):u)+";";h+="color: "+k+";";h+="border-radius: "+t+"px;";h+="}";C+="color: "+f+";}";(0,q.addStyle)(h+
C,"px-step-navigation-"+m,d)}function p(d,f){var m=[];Array.from(d.classList).forEach(function(h){h.startsWith("px-brand-kit-button")&&m.push(h)});m.forEach(function(h){return d.classList.remove(h)});f&&(d.classList.add(f),Object.assign(d.style,{backgroundColor:"",color:"",borderRadius:"",padding:"",border:"",fontFamily:"",fontSize:"",lineHeight:"",fontStyle:"",fontWeight:"",textDecoration:""}))}function e(d){var f=d.globalSettings,m=d.stepSettings,h=d.button,g=d.parentElement,k=d.id,t=d.isCustomThemed;
t=(d=m.shouldOverrideGlobalSettings)||t?"":m.className||f.className;(p(h,t),t)||(d=d?m:f,null===d.backgroundFill||void 0===d.backgroundFill?h.style.backgroundColor=d.backgroundColor?d.backgroundColor:"#ffffff":h.style.backgroundColor=(0,q.hexToRgba)(d.backgroundColor?d.backgroundColor:"#ffffff",d.backgroundFill/100),h.style.color=d.textColor?d.textColor:"#000000",h.style.borderRadius=null===d.cornerRadius||void 0===d.cornerRadius?"0px":d.cornerRadius+"px",d.buttonPaddingSettings&&(null===d.buttonPaddingSettings.top&&
null===d.buttonPaddingSettings.bottom&&null===d.buttonPaddingSettings.left&&null===d.buttonPaddingSettings.right||(h.style.padding=(d.buttonPaddingSettings.top||0)+"px \n                "+(d.buttonPaddingSettings.right||0)+"px \n                "+(d.buttonPaddingSettings.bottom||0)+"px \n                "+(d.buttonPaddingSettings.left||0)+"px")),h.style.border=(d.borderWidth||0)+"px solid "+(d.borderColor||"#000"),d.fontSettings&&(h.style.fontFamily="inherit"===d.fontSettings.fontFamily?"inherit":
d.fontSettings.fontFamily+", Helvetica",h&&(h.style.fontSize=m&&m.shouldOverrideGlobalSettings&&m.fontSettings&&m.fontSettings.fontSize&&"0"!==m.fontSettings.fontSize?m.fontSettings.fontSize+"px":(f&&f.fontSettings&&f.fontSettings.fontSize||14)+"px"),h.style.lineHeight=d.fontSettings.fontSize+"px",h.style.fontStyle=d.fontSettings.itallic?"italic":"unset",h.style.fontWeight=d.fontSettings.bold?700:"unset",h.style.textDecoration=d.fontSettings.underlined?"underline":"unset"),f=null===d.hoverBackgroundFill||
void 0===d.hoverBackgroundFill?"unset"!==d.hoverBackgroundColor?d.hoverBackgroundColor:"":"unset"!==d.hoverBackgroundColor?(0,q.hexToRgba)(d.hoverBackgroundColor,d.hoverBackgroundFill/100):"",(0,q.addStyle)("."+k+":hover {\n            color: "+("unset"!==d.hoverTextColor?d.hoverTextColor:"")+" !important;\n            background-color: "+f+" !important;\n            border: "+(d.borderWidth||0)+"px solid "+d.hoverBorderColor+" !important;\n        }",k,g))}var n=this;this.getFooterElement=function(d){return d.querySelector(y(d,
"apt-step-footer"))};this.getNavigationButtons=function(d){return d.querySelector(y(d,"apt-step-footer-buttons"))};this.getStepCounter=function(d){return d.querySelector(y(d,"apt-step-new-index"))};this.setNavigationVisibility=function(d,f){var m=f||{};f=m.navigationButtons;m=m.stepIndexWrapper;f=f||n.getNavigationButtons(d);m=m||n.getStepCounter(d);(d=n.getFooterElement(d))&&f&&("none"!==f.style.display||m&&""!==m.innerHTML?d.style.display="":d.style.display="none")};this.setButtonsVisibility=function(d,
f){var m=n.getNavigationButtons(d);m&&(m.style.display=f?"":"none");n.setNavigationVisibility(d,{navigationButtons:m})};this.setCounterVisibility=function(d,f,m){var h=n.getStepCounter(d);h&&(f.show&&m?(h.classList.add("px-step-numbers"),h.innerHTML="\x3cdiv\x3e"+(f.label||" of ")+"\x3c/div\x3e",f.fontColor&&(h.style.color=f.fontColor),f.fontSize&&(h.style.fontSize=f.fontSize+"px")):h.innerHTML="");n.setNavigationVisibility(d,{stepIndexWrapper:h})};this.addSkipButton=function(d,f,m,h,g,k,t,u){f.enabled&&
(m=(0,q.createElement)("div",["px-step-navigation-button","px-step-navigation-skip"],{text:k||f.text||"Skip Tour"}),m.setAttribute("tabindex",u),m.setAttribute("role","button"),l(d,f,"skip"),t(m),(d.querySelector(".apt-step-footer-buttons")||d.querySelector(".px-step-navigation-buttons")).appendChild(m),h&&((0,q.addEventListener)(m,"click",g),(0,q.addEnterKeyDownListener)(m,g)))};this.addSnoozeButton=function(d,f,m,h,g,k,t,u){f&&f.enabled&&(g=(0,q.createElement)("div",["px-step-navigation-button",
"px-step-navigation-snooze"],{text:g||f.text||"Show me later"}),u||(g.style.display="flex",g.style.alignItems="center",g.style.padding="5px"),g.setAttribute("tabindex",t),g.setAttribute("role","button"),l(d,f,"snooze"),k(g),d=d.querySelector(".apt-step-footer-buttons")||d.querySelector(".px-step-navigation-buttons"),d.insertBefore(g,d.firstChild),m&&((0,q.addEventListener)(g,"click",h),(0,q.addEnterKeyDownListener)(g,h)))};this.toggleSnooze=function(d,f,m,h,g,k){var t=d.querySelector(".px-step-navigation-snooze");
t?((0,w.applyStyle)(t,"display",f?"block":"none"),l(d,m,"snooze")):n.addSnoozeButton(d,m,!1,void 0,h,g,k)};this.toggle=function(d,f,m,h,g,k){var t=d.querySelector(".px-step-navigation-skip");t?((0,w.applyStyle)(t,"display",f?"block":"none"),l(d,m,"skip")):n.addSkipButton(d,m,void 0,!1,void 0,h,g,k)};this.populateNavigationFlags=function(d,f){var m=!1;return(0,v.arrayFrom)(d,function(h){return"DIALOG"!==h.type||0!==h.sequenceNumber&&h.sequenceNumber!==f||(h.showStepCounter=h.showStepCounter||!1),!m&&
-1<x.indexOf(h.type)?(m=!0,h.isFirstStepNonHotspot=!0):h.isFirstStepNonHotspot=!1,h})};this.setStepNavigationV2Style=function(d){var f=d.guideSettings,m=d.stepSettings,h=d.nextButton,g=d.prevButton,k=d.skipButtonDom,t=d.snoozeButtonDom,u=d.footerElement,z=d.stepPrevButtonStyleSettings,C=d.stepNextButtonStyleSettings,a=d.navigation;d=void 0;var H=!f.lightThemeStyle&&!f.darkThemeStyle;f.navigationV2?(a=void 0,m.overrideFooterSettings?(a=m.footerPaddingSettings,d=m.buttonSpace):(a=f.footerPaddingSettings,
d=f.buttonSpace),e({globalSettings:f.nextButton,stepSettings:C,button:h,parentElement:u,id:"px-step-navigation-next",isCustomThemed:H}),h.style.marginLeft=d+"px",k&&(e({globalSettings:f.skipButton,stepSettings:f.skipButton,button:k,parentElement:u,id:"px-step-navigation-skip",isCustomThemed:H}),k.style.marginLeft=d+"px"),e({globalSettings:f.backButton,stepSettings:z,button:g,parentElement:u,id:"px-step-navigation-back",isCustomThemed:H}),a&&(null===a.top&&null===a.right&&null===a.bottom&&null===a.left||
(u.style.padding=(a.top||0)+"px \n                                "+(a.right||0)+"px \n                                "+(a.bottom||0)+"px \n                                "+(a.left||0)+"px"))):(a.backgroundColor&&(g.style.backgroundColor=a.backgroundColor)&&(h.style.backgroundColor=a.backgroundColor),a.backgroundFill&&(g.style.backgroundColor=(0,q.hexToRgba)(a.backgroundColor,a.backgroundFill/100))&&(h.style.backgroundColor=(0,q.hexToRgba)(a.backgroundColor,a.backgroundFill/100)),a.backgroundRadius&&
(g.style.borderRadius=a.backgroundRadius+"px")&&(h.style.borderRadius=a.backgroundRadius+"px"),a.labelColor&&(g.style.color=a.labelColor)&&(h.style.color=a.labelColor));t&&(e({globalSettings:f.snoozeButton,stepSettings:f.snoozeButton,button:t,parentElement:u,id:"px-step-navigation-snooze",isCustomThemed:H}),void 0!==d&&null!==d&&(g.style.marginLeft=d+"px"),f.navigationV2||(t.style.padding="5px"))}};b.default=E;b.getSelectorByVersion=y},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});
b.hotspotEventHandler=void 0;var y=c(0),q=(E=c(20))&&E.__esModule?E:{default:E};b.hotspotEventHandler=new function(){var w=this,v=void 0,x=void 0;this.addListener=function(l,p,e){w.removeListener();v=function(n){e(n);w.removeListener()};(x=l)&&(x.isDom&&x.element?((0,y.addEventListener)(x.element,"click",v),(0,y.addEventListener)(x.element,"contextmenu",v)):!x.isDom&&x.iframeSource&&q.default.addElementHandler(l.iframeSource,p,"ELEMENT_CLICK",v))};this.removeListener=function(){x&&v&&(x.element&&
x.isDom?((0,y.removeEventListener)(x.element,"click",v),(0,y.removeEventListener)(x.element,"contextmenu",v)):!x.isDom&&x.iframeSource&&q.default.removeElementHandlers(x.iframeSource));v=x=null}}},function(E,b,c){function y(Fa){return Fa&&Fa.__esModule?Fa:{default:Fa}}function q(Fa){return(0,C.disableFocusOnClick)(Fa,Ea)}function w(Fa,ia,A){this.id=Fa;this.type=ia;this.step=A}Object.defineProperty(b,"__esModule",{value:!0});var v=function(){return function(Fa,ia){if(Array.isArray(Fa))return Fa;if(Symbol.iterator in
Object(Fa)){var A=[],T=!0,K=!1,da=void 0;try{for(var fa,Ca=Fa[Symbol.iterator]();!(T=(fa=Ca.next()).done)&&(A.push(fa.value),!ia||A.length!==ia);T=!0);}catch(oa){K=!0,da=oa}finally{try{!T&&Ca.return&&Ca.return()}finally{if(K)throw da;}}return A}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();E=c(93);var x=y(E);E=c(38);E=y(E);var l=c(0),p=c(88),e=y(p),n=c(13),d=c(4),f=c(8);p=c(16);var m=y(p),h=c(30);p=c(87);var g=y(p);p=c(92);var k=y(p);p=c(90);var t=y(p);p=c(91);var u=
y(p),z=c(10),C=c(7),a=c(2),H=c(27),r=c(1),B=c(103),F=c(11),I=c(17),Q=c(19);p=c(94);var P=y(p),D=c(21),O=c(68),W=c(6);p=c(36);var ba=y(p),ma=c(14),sa=c(23);p=c(154);var za=y(p);p=c(89);var S=y(p),M=c(46),V=c(151),X=c(28),Y=c(37);Y.defaultOptions.className="vex-theme-os";var qa=new E.default,xa=void 0,Ea=void 0,Ha=null,Ba=null,wa=null;b.default=function(Fa,ia,A,T,K){function da(Ka){var Ia=this;Xa=Y.open(Ka);0<Ya.timeout&&(zb=setTimeout(function(){Ia.close()},Ya.timeout*l.MILLISEC))}function fa(Ka){var Ia=
this;ia.activationType===W.ACTIVATION_TYPE_AUTOMATIC?0<Ya.delay?tb=setTimeout(function(){da.apply(Ia,[Ka])},Ya.delay*l.MILLISEC):da.apply(this,[Ka]):Xa=Y.open(Ka)}function Ca(){var Ka=Xa.contentEl.getBoundingClientRect();wa==Ka.width&&Ba==Ka.height||("DIALOG"===ya.viewType&&!1===(0,r.getConfig)("disableEngagementReposition")&&qa.positionElement(Xa.contentEl,null,ya.horizontalPosition,ya.verticalPosition,ya.positionTopDelta,ya.positionLeftDelta),Ba=Ka.height,wa=Ka.width,(0,I.sendDesktopEngagementSizeEvent)("engagementResize",
Ka,ia,ia.content),lb&&lb(ia,Xa.contentEl))}function oa(){-1<V.valueStepTypes.indexOf(Ta[ra].getSettings().type)&&La++;ra+=1;na(Ta,ra,ra-1)}function na(Ka,Ia,Za){if(Ka[Za].hide(),Ia>=Ka.length)return void Xa.close();Za=Ka[Ia];Xa.contentEl.appendChild(Za.render());Xa.contentEl.setAttribute("data-step-id",Za.getSettings().id);Xa.contentEl.setAttribute("data-step-index",Ia+1);(0,I.removeCicularTabsWrapperListener)(xa);(0,I.checkHasOverlay)(ya.overlayColor,ya.overlayFill)&&(xa=(0,I.addCircularTabListener)(Ka[Ia].focus));
(0,C.focusElement)(Ea);Ta[ra].getSettings().type;setTimeout(function(){if(Xa){var kb=Xa.contentEl.getBoundingClientRect();wa===kb.width&&Ba===kb.height||(Ba=kb.height,wa=kb.width,(0,I.sendDesktopEngagementSizeEvent)("engagementResize",kb,ia,ia.content))}})}function G(Ka,Ia){Ia=(0,I.getBoxShadowString)(Ia);Ka.style.setProperty("filter","drop-shadow("+Ia+")");Ka.style.setProperty("-webkit-filter","drop-shadow("+Ia+")")}function J(){if(!m.default.isEditorMode()){var Ka=!1,Ia=!1,Za=(0,z.arrayFrom)(Ra,
function(Bb){var xb=Bb.step.getData();return void 0!==xb.contactMeAllowed&&(Ka=xb.contactMeAllowed),Ia=null!==xb.selected,{stepId:Bb.id,score:xb.selected,comment:xb.comment,questionType:Bb.type,labels:xb.labels||[]}});if(Ia){var kb=(0,l.addParameters)(d.eventTrackData[f.cacheGetAll](),[]);ia.accountId&&(kb=(0,l.addParameters)({acci:ia.accountId},kb));kb=(0,l.addParameters)({exi:ia.executionId,ext:ia.executionTimestamp,at:ia.activationType||"a",cl:ia.contentLocale},kb);kb=(0,l.addParameters)((0,Q.getWebContext)(),
kb);Eb&&"kc"===ia.activationType&&(0,l.addParameters)(Eb,kb);kb=(0,l.addParameters)((0,B.addFullStoryInfo)([]),kb);var ib={ei:ia.engagementId,ecoi:ia.content.id,ent:ia.content.contentType,contactMeAllowed:Ka,questions:Za},Ab=(0,sa.getGlobalContext)();(Ab&&Object.assign(ib,{gcx:Ab}),qb==W.DESKTOP_CHANNEL)?(kb=(0,l.paramToObject)(kb,{}),Ab=O.eventCache.getKey("trackingPayload"),Object.assign(ib,kb,Ab||{}),n.AjaxUtil.postData(r.desktopEngagementTrackEndpoint+"/survey",ib,null,null,null,!0)):n.AjaxUtil.postData(r.surveySubmitUrl+
"?"+(0,l.convert2Parameters)(kb),ib,null,null,null,!0);Ua=ab=!0;Za.forEach(function(Bb){return F.internalEventListener.dispatchEvent("surveyResponded",(0,I.toExternalEventSurvey)(ia,"Responded",Fa,Bb))});F.internalEventListener.dispatchEvent("engagementCompleted",(0,I.toExternalEventSurvey)(ia,"Completed"))}}}function R(){oa();J();Ua=ab=!0}function N(Ka,Ia,Za){var kb=!1;switch(void 0!==Ia.contactMeAllowed&&(kb=Ia.contactMeAllowed),Ka.questionType){case "MULTIPLE_CHOICE_QUESTION":Ka.selectionIds=Ia.choices;
break;case "OPEN_TEXT":Ka.comment=Ia.comment;break;case "DYNAMIC_RATING_STEP":Object.assign(Ka,{questionType:"SCORE",score:Ia.selected,comment:Ia.comment,labels:Ia.labels||[]});break;case "CONTENT":break;default:throw Error("Survey type not supported");}Ia={ei:ia.engagementId,ecoi:ia.content.id,ent:ia.content.contentType,lastStep:Za,contactMeAllowed:kb};"CONTENT"!==Ka.questionType&&(Ia.questions=[Ka]);Ka=(0,sa.getGlobalContext)();return Ka&&Object.assign(Ia,{gcx:Ka}),Ia}function U(){var Ka=(0,l.addParameters)(d.eventTrackData[f.cacheGetAll](),
[]);ia.accountId&&(Ka=(0,l.addParameters)({acci:ia.accountId},Ka));Ka=(0,l.addParameters)((0,B.addFullStoryInfo)([]),Ka);Ka=(0,l.addParameters)({exi:ia.executionId,ext:ia.executionTimestamp,at:ia.activationType||"a",cl:ia.contentLocale},Ka);(0,l.addParameters)((0,Q.getWebContext)(),Ka);return Eb&&"kc"===ia.activationType&&(0,l.addParameters)(Eb,Ka),Object.assign(Ka)}function Z(){var Ka=Ra[La],Ia=Ra.length===La+1;if(Ua=Ia,oa(),!m.default.isEditorMode()){var Za={stepId:Ka.id,questionType:Ka.type},kb=
Ka.step.getData();Ka=U();Za=N(Za,kb,Ia);qb==W.DESKTOP_CHANNEL?(Ka=(0,l.paramToObject)(Ka,{}),kb=O.eventCache.getKey("trackingPayload"),Object.assign(Za,Ka,kb||{}),n.AjaxUtil.postData(r.desktopEngagementTrackEndpoint+"/survey/step",Za,null,null,null,!0)):n.AjaxUtil.postData(r.trackSingleStepEndpoint+"?"+(0,l.convert2Parameters)(Ka),Za,null,null,null,!0);Ia&&F.internalEventListener.dispatchEvent("engagementCompleted",(0,I.toExternalEventSurvey)(ia,"Completed"))}}function ta(){for(var Ka=void 0,Ia=0;Ia<
jb.length;Ia++)if(Ka=jb.length-1-Ia,!jb[Ka].isContentPage())return void(va=Ka)}function ca(Ka){var Ia=r.trackMultiStepEndpoint;if(!0!==Ua){2===Ka&&(Ua=!0);var Za=U();(0,l.addParameters)({ei:ia.engagementId||null,ecoi:ia.content.id||null,ems:Ka||null,evi:ia.matchEventId||null,ent:V.contentTypeEnumMap[ia.content.contentType]||null,cl:ia.contentLocale},Za);(Ka=(0,sa.getGlobalContext)())&&(0,l.addParameters)({gcx:JSON.stringify(Ka)},Za);Za=(0,l.addParameters)((0,Q.getWebContext)(),Za);Ia+="?"+(0,l.convert2Parameters)(Za);
n.AjaxUtil.getData(Ia)}}function la(Ka){return Ka.steps.reduce(function(Ia,Za){var kb=Za.getSettings();Za=Za.getData();return Za.choices?Ia[kb.id]=Za.choices:Za.selected&&(Ia[kb.id]=[Za.selected]),Ia},{})}function ea(){try{var Ka=JSON.parse(T[Da].nextStepCondition),Ia=jb[Da];0===Ka.stepConditionSet.length&&Ka.defaultConditionAction.type===V.CLOSE_ACTION&&"END_SURVEY"===Ka.defaultConditionAction.value&&ya.showContactMeMessage?Ia.setShowContactMe(ya.showContactMeMessage):Ia.setShowContactMe(!1)}catch(Za){a.logger.log("setShowContactMeForCurrentPage - error in parsing nextStepCondition "+
Za)}}function pa(Ka,Ia){var Za=void 0;try{var kb=JSON.parse(Ka);if(kb){var ib=Ia.isContentPage()?[]:la(Ia.getData()),Ab=(0,M.evaluateStepConditionFilterForSurvey)(kb,ib),Bb=Ab.value,xb=Ab.type;Ka=Da;if(xb===V.GO_TO_STEP_ACTION){Da=Ga[Bb];ea();na(jb,Da,Ka);var Zb=jb[Ka].getData().steps,lc=Zb[Zb.length-1].getStepNumber();jb[Da].updateQuestionsNumbers(lc+1)}else xb===V.CLOSE_ACTION&&na(jb,jb.length+1,Ka);Za=xb}}catch(qc){a.logger.log("Error in parsing nextStepCondition "+qc)}return Za}function Aa(Ka,
Ia,Za){Ka=Ka.getSettings();return{step:{stepId:Ka.id,questionType:Ka.type},stepData:Object.assign({},Za,{contactMeAllowed:Ia.contactMeAllowed})}}function Ja(Ka){var Ia=ia.content.surveyVersion;ia.content.viewType===W.VIEW_TYPE_BAR&&(0===Ia?Ka.classList.add("apt-container-bar-and-combine-old"):(Ia=ia.content.autoHeight,Ka.classList.add("apt-container-bar-and-combine"),Ia||Ka.classList.add("apt-none-auto-height")))}function Sa(){var Ka=Da,Ia=jb[Da],Za=void 0,kb=T[Ka].nextStepCondition;kb?Za=pa(kb,Ia):
(Da+=1,na(jb,Da,Da-1));var ib=jb.length===Da+1;if(Ua=ib,!m.default.isEditorMode()){kb=U();var Ab=[],Bb=Ia.getData();Ia=Ia.isContentPage();Ia&&Za!==V.CLOSE_ACTION||((kb=(0,l.addParameters)({lqsp:Ia&&Za===V.CLOSE_ACTION||va===Ka},kb),Ia&&Za===V.CLOSE_ACTION)?(Ka=Aa(Bb.steps[0],Bb,{}),Ka=N(Ka.step,Ka.stepData,ib),n.AjaxUtil.postData(r.trackSurveyCompleteEndpoint+"?"+(0,l.convert2Parameters)(kb),Ka,null,null,null,!0)):(Bb.steps.forEach(function(xb){xb=Aa(xb,Bb,xb.getData());xb=N(xb.step,xb.stepData,ib);
Ab.push(xb)}),n.AjaxUtil.postData(r.trackSinglePageEndpoint+"?"+(0,l.convert2Parameters)(kb),Ab,null,null,null,!0)),ib&&F.internalEventListener.dispatchEvent("engagementCompleted",(0,I.toExternalEventSurvey)(ia,"Completed")))}}function Va(){Xa.close()}function db(Ka,Ia){return Ka.sequenceNumber-Ia.sequenceNumber}function Pa(Ka,Ia,Za,kb,ib){ib=ib||Ia.type;var Ab=P.default.SanitizeHtml(Ka.getHtml());if(Ab.isValid){if(Ra.push(new w(Ia.id,ib,Ka)),Ta.push(Ka),kb)return++Za}else Ma.push(Ab.errors);return Za}
var hb=this;T=T||[];var Ya=ia.content,qb=(0,D.getChannel)(d.eventTrackData[f.cacheGet](d.productIdParameter)),jb=[],va=void 0,Ga={},Ma=void 0,ja=void 0,Da=0,ra=0,La=0,ya={},Ra=[],Ta=[],ab=!1,Ua=!1,Xa=null,lb=null,Eb=K,tb=null,zb=null;!function(Ka){Object.entries(Ka).forEach(function(Ia){var Za=v(Ia,2);Ia=Za[0];Za=Za[1];-1<V.knownSettings.indexOf(Ia)&&(ya[Ia]=Za)});ya.horizontalPosition||(ya.horizontalPosition="center");ya.verticalPosition||(ya.verticalPosition="center")}(ia.content);this.render=function(Ka){lb=
Ka;A.sort(db);T.sort(db).forEach(function(ib,Ab){Ga[ib.id]=ib.sequenceNumber;ib.isLast=Ab===T.length-1;ib.showContactMeMessage=ib.isLast&&ya.showContactMeMessage;ib.contactMeMessage=ya.contactMeMessage;ib.orientation=Ya.orientation;ib.mergeFirstSteps=ya.mergeFirstSteps;ib.snoozeButton=Ya.snoozeButton;ib.surveyType=Fa;ib.activationType=ia.activationType;ib.activationTypes=ia.activationTypes;ib.survey=ia;jb.push(new za.default(ib,Sa,C.disableFocusOnClick))});Ka=1;Ma=[];ja=[];for(var Ia=void 0,Za=0;Za<
A.length;Za++)switch(Ia=Object.assign({},A[Za]),Ia.isLast=Za===A.length-1||Za===A.length-2&&"CONTENT"===A[Za+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"!==Fa,Ia.showContactMeMessage=(Ia.isLast||Za===A.length-2&&"CONTENT"===A[Za+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"===Fa)&&ya.showContactMeMessage,Ia.contactMeMessage=ya.contactMeMessage,Ia.minCharsValidationText=ya.minCharsValidationText,Ia.maxCharsValidationText=ya.maxCharsValidationText,Ia.mandatoryValidationText=ya.mandatoryValidationText,Ia.minAnswersValidationText=
ya.minAnswersValidationText,Ia.maxAnswersValidationText=ya.maxAnswersValidationText,Ia.viewType=ya.viewType,Ia.showFooter=ya.showFooter,Ia.footer=ya.footer,Ia.mergeFirstSteps=ya.mergeFirstSteps,Ia.orientation=Ya.orientation,Ia.snoozeButton=Ya.snoozeButton,Ia.surveyType=Fa,Ia.activationType=ia.activationType,Ia.activationTypes=ia.activationTypes,Ia.survey=ia,A[Za].type){case "CONTENT":(0,X.replaceContentStepImagesDomain)(A[Za]);var kb=new e.default(A[Za].html,Ia,Za<A.length-1?oa:Va,q);Ia=P.default.SanitizeHtml(kb.getHtml());
Ia.isValid?Ta.push(kb):(Ma.push(Ia.errors),ja.push(Ia.errorTypes));break;case "SCORE":kb=void 0;switch((0,X.replaceScoreSurveyImagesDomain)(Ia),Fa){case "IN_APP_SURVEY_NPS":Ia.numberOfButtons=11;Ia.initialButtonIndex=0;kb=new x.default(Ia,R,q);break;case "IN_APP_CES_SURVEY":Ia.numberOfButtons=7;Ia.initialButtonIndex=1;kb=new x.default(Ia,R,q);break;case "IN_APP_RATING_SURVEY":"SMILEY"===Ia.surveyScoreType?Ia.numberOfButtons=3:Ia.numberOfButtons=5,Ia.initialButtonIndex=1,kb=new k.default(Ia,R,q)}Pa(kb,
Ia,Ka);break;case "BOOLEAN":(0,X.replaceBooleanImagesDomain)(Ia);Pa(new g.default(Ia,R,q),Ia,Ka,!1,"SCORE");break;case "MULTIPLE_CHOICE_QUESTION":(0,X.replaceMultiChoiceImagesDomain)(Ia);Ka=Pa(new t.default(Ia,Z,Ka,q),Ia,Ka,!0);break;case "OPEN_TEXT":(0,X.replaceOpenTextImagesDomain)(Ia);Ka=Pa(new u.default(Ia,Z,Ka,q),Ia,Ka,!0);break;case "DYNAMIC_RATING_STEP":(0,X.replaceDynamicRangeImagesDomain)(Ia),Ka=Pa(new S.default(Ia,Ka),Ia,Ka,!0)}if(0<Ma.length)return{isValid:!1,errors:Ma};if(0<jb.length){Ta.forEach(function(ib){var Ab=
ib.getSettings();jb[Ga[Ab.surveyPageId]].addStep(ib)});ta();jb[va].setShowContactMe(ya.showContactMeMessage);for(Ka=va+1;Ka<jb.length;Ka++)jb[Ka].setShowContactMe(!1);ea()}Ka={appendLocation:(0,r.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,r.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",overlayClosesOnClick:!1,showCloseButton:!0,afterOpen:function(){var ib=this;(0,r.getConfig)("enableModalBodyScroll")&&(0,r.getBody)().classList.add("apt-vex");
this.rootEl.classList.add("apt-vex");this.contentEl.classList.add("apt-survey-popup");this.closeEl.setAttribute("aria-label","exit survey");Ea=this.contentEl;this.rootEl.setAttribute("data-apt-ignore-visible",!0);this.contentEl.setAttribute("data-apt-disable-selector",!0);this.rootEl.classList.add("apt-popup-disable-overlay");this.contentEl.classList.add("apt-popup-content-disable-overlay");this.contentEl.classList.add("apt-engagement-wrapper-survey");this.contentEl.classList.add("apt-engagement-wrapper");
this.contentEl.classList.add("px-engagement-wrapper-survey");this.contentEl.classList.add("px-engagement-wrapper");(ya.zIndex||ya.zindex)&&(this.rootEl.style.zIndex=ya.zindex||ya.zIndex,this.contentEl.style.zIndex=ya.zindex||ya.zIndex,this.overlayEl.style.zIndex=ya.zindex||ya.zIndex);(0,C.addStyleTag)(this.contentEl,ya.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,C.addStyleTag)(this.contentEl,ya.engagementCoreStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");
(0,C.addStyleTag)(this.contentEl,ya.overrideStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");Array.isArray(ia.content.steps)&&ia.content.steps.forEach(function(xb){xb.style&&(0,C.addStyleTag)(ib.contentEl,xb.style,"px-engagement-wrapper-survey #step-"+xb.id,".apt-vex.vex.vex-theme-os")});Array.isArray(T)&&T.forEach(function(xb){xb.style&&(0,C.addStyleTag)(ib.contentEl,xb.style,"px-engagement-wrapper-survey #page-"+xb.id,".apt-vex.vex.vex-theme-os")});var Ab="MULTIPLE_QUESTION_PER_PAGE"===
Ya.contentSubType?jb:Ta,Bb=Ab[0].render(Va);(this.contentEl.appendChild(Bb),this.contentEl.setAttribute("data-step-id",Ab[0].getSettings().id),this.contentEl.setAttribute("data-step-index",1),ya.autoHeight||(this.contentEl.style.height=ya.height+"px"),"DIALOG"===ya.viewType)?(this.contentEl.style.width=ya.width+"px",qb===W.DESKTOP_CHANNEL||!0===(0,r.getConfig)("disableEngagementReposition")?(this.contentEl.style.position="fixed",this.contentEl.style.top=0,this.contentEl.style.left=0):qa.positionElement(this.contentEl,
null,ya.horizontalPosition,ya.verticalPosition,ya.positionTopDelta,ya.positionLeftDelta)):(this.contentEl.classList.add("apt-survey-bar"),this.contentEl.style.width="100%",this.contentEl.style.left="0px",Bb=(ya.barOffset||0)+"px","TOP"===ya.barPosition?this.contentEl.style.top=Bb:this.contentEl.style.bottom=Bb);-1<W.SCORE_SURVEY_TYPES.indexOf(Fa)&&ia.content.mergeFirstSteps&&Ja(this.contentEl);this.contentEl.style.background=(0,l.hexToRgba)(ya.backgroundColor,ya.backgroundFill?ya.backgroundFill/100:
1);"DIALOG"===ya.viewType&&(this.contentEl.style.borderRadius=ya.borderRadius+"px");Bb=this.rootEl.querySelector(".vex-overlay");ya.overlayFill&&0<ya.overlayFill&&(Bb.style.background=(0,l.hexToRgba)(ya.overlayColor,ya.overlayFill?ya.overlayFill/100:0),Bb.style.display="block");ya.showShadow&&G(this.contentEl,ya.shadowSettings);(Bb=this.contentEl.querySelector(".aptr-engagement-close-btn"))&&(0,l.addEventListener)(Bb,"click",function(){-1==V.onXSubmitSurveys.indexOf(Fa)||ab||null!==Ab[ra].getData().selected&&
J()});Bb&&Bb.setAttribute("role","button");(0,I.removeCicularTabsWrapperListener)(xa);(0,I.checkHasOverlay)(ya.overlayColor,ya.overlayFill)&&(xa=(0,I.addCircularTabListener)(Ab[0].focus));(0,C.focusElement)(Ea);ba.default.removeElementListener(Ha);Ha=ma.UUIDGenerator.generateV4Id();ba.default.addPXElementObserver(Ha,this.contentEl,Ca);(0,r.getConfig)("clientSideEngagementTracking")&&ca(1);setTimeout(function(){var xb=Xa.contentEl.getBoundingClientRect();(0,I.sendDesktopEngagementSizeEvent)("engagementPostRender",
xb,ia,ya);lb&&lb(ia,Xa.contentEl)},500)}};return Ka.beforeClose=function(){try{(0,r.getBody)().classList.remove("apt-vex"),(0,h.handleEngagementFinish)(ia.content.contentType),qb==W.DESKTOP_CHANNEL&&ba.default.removeElementListener(Ha),(0,I.removeTabbableEnterListener)()}catch(ib){a.logger.logInternalError(ib,"Error in before close survey")}},Ka.afterClose=function(){try{setTimeout(function(){var ib={engagementId:ia.engagementId};Ua?(0,H.internalApt)("engagementCompletedClosed",ib):(0,H.internalApt)("engagementDroppedClosed",
ib)},500),clearTimeout(tb),clearTimeout(zb),zb=tb=null}catch(ib){a.logger.logInternalError(ib,"Error in after close survey")}["SURVEY_CLOSED","surveyClosed"].forEach(function(ib){if(d.externalEventListeners[ib])try{d.externalEventListeners[ib]()}catch(Ab){a.logger.logInternalError(Ab,"Error calling "+ib+" event listener")}F.internalEventListener.dispatchEvent(ib,(0,I.toExternalEventSurvey)(ia,"Closed",Fa))});(0,I.removeCicularTabsWrapperListener)()},fa.apply(hb,[Ka]),{isValid:!0,errors:[]}};this.close=
function(){Xa&&Xa.close()}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.knownSettings="borderRadius overlayColor overlayFill viewType verticalPosition horizontalPosition positionTopDelta positionLeftDelta backgroundColor backgroundFill height width autoHeight showShadow shadowSettings barPosition showContactMeMessage coreStyling overrideStyling engagementCoreStyling contactMeMessage minCharsValidationText maxCharsValidationText mandatoryValidationText minAnswersValidationText maxAnswersValidationText footer showFooter mergeFirstSteps zIndex barOffset zindex".split(" ");
b.valueStepTypes=["SCORE","BOOLEAN","MULTIPLE_CHOICE_QUESTION","OPEN_TEXT"];b.contentTypeEnumMap={IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8};b.CLOSE_ACTION="CLOSE";b.GO_TO_STEP_ACTION="GO_TO_STEP";b.onXSubmitSurveys=["IN_APP_SURVEY_NPS","IN_APP_CES_SURVEY","IN_APP_RATING_SURVEY","IN_APP_BOOLEAN_SURVEY"]},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(){var q=null;this.draw=function(w,
v,x){var l=w.content;return q=new y.default(l.contentType,w,l.steps,l.surveyPages,x),q.render(v)};this.close=function(){q&&q.close()}};var y=(E=c(150))&&E.__esModule?E:{default:E}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(0),q=c(17);b.default=function(w){function v(n){x.style.color=n.textColor;x.style.borderColor=n.borderColor;x.style.backgroundColor=n.fillColor}var x=(0,y.createElement)("div",["px-survey-label"],{text:w.text});x.style.borderRadius=w.cornerRadius+"px";
x.setAttribute("role","button");x.setAttribute("aria-label",w.text);x.setAttribute(q.PX_TABBABLE_ATTR,"true");var l=!1,p={textColor:w.textColor,borderColor:w.borderColor,fillColor:w.fillColor},e={};e.borderColor=w.selectedBorderColor;e.textColor=w.selectedTextColor;e.fillColor=w.selectedFillColor;v(p);(0,y.addEventListener)(x,"click",function(){l=!l;v(l?e:p)});this.render=function(){return x};this.setTabIndex=function(n){x.setAttribute("tabindex",n)};this.isSelected=function(){return l};this.getText=
function(){return w.text};this.getId=function(){return w.id}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(28),q=c(0),w=c(6),v=c(17),x=c(7);b.default=function(l,p,e){var n=this,d=void 0,f=void 0,m=w.TAB_INDEX_START,h=[];return this.addStep=function(g){h.push(g)},this.isValid=function(){var g=!0;return h.forEach(function(k){k.isValid()||(g=!1)}),g},this.submitSurvey=function(){n.isValid()&&p()},this.render=function(g){var k=(0,y.renderSurveyTitle)(l,l.title,["apt-survey-page-title-wrapper"],
["apt-survey-page-title"],l.sequenceNumber+1);m=(0,v.setTabIndexes)(k,m);var t=[k];h.forEach(function(a){"function"==typeof n.setTabIndex&&a.setTabIndex(m);var H=a.render(g);H.classList.add("apt-survey-step");t.push(H);m=a.getNextTabIndex()});f=(0,y.renderContactMeCheckBox)(l,m);m+=1;k=(0,y.renderContactMe)(l,f);var u=[],z=(0,y.showSnooze)(l,g,u);z&&(z.classList.add("page-snooze"),z.setAttribute("tabindex",m),m+=1);var C=l.buttonSetting;C.borderRadius=C.cornerRadius;C=(0,y.renderSubmitButton)(l.buttonSetting,
0,m);C.classList.add("page-submit");z&&(C.style.margin="unset");u.push(C);u=(0,q.createElement)("div","px-survey-page-footer",null,u);z=["apt-survey-page"];return"PORTRAIT"===l.orientation&&z.push("apt-orientation-portrait"),d=(0,q.createElement)("div",z,null,t.concat([k,u])),d.setAttribute("id","page-"+l.id),(0,q.addEnterKeyDownListener)(C,n.submitSurvey.bind(n)),(0,q.addEventListener)(C,"click",n.submitSurvey.bind(n)),e(C),d},this.focus=function(){var g=d.querySelector("[tabindex]");g?(0,x.focusElement)(g):
0<h.length&&h[0].focus()},this.hide=function(){d.style.display="none"},this.getData=function(){return{steps:h,contactMeAllowed:l.showContactMeMessage?f.checked:null}},this.isContentPage=function(){return 1===h.length&&h.some(function(g){return"CONTENT"===g.getSettings().type})},this.updateQuestionsNumbers=function(g){n.isContentPage()||h.forEach(function(k,t){k.updateStepNumber(g+t)})},this.setShowContactMe=function(g){l.showContactMeMessage=g},this.getSettings=function(){return l},this}},function(E,
b,c){Object.defineProperty(b,"__esModule",{value:!0});b.normalizeSelector=function(y){function q(){v&&(0<p.length&&/^[~+>]$/.test(p[p.length-1])&&p.push(" "),p.push(v))}var w,v,x,l,p=[],e=[0],n=0,d=/(?:[^\\]|(?:^|[^\\])(?:\\\\)+)$/,f=/^\s+$/,m=[/\s+|\/\*|["'>~+[(]/g,/\s+|\/\*|["'[\]()]/g,/\s+|\/\*|["'[\]()]/g,null,/\*\//g];for(y=y.trim();;){if(v="",x=m[e[e.length-1]],x.lastIndex=n,!(w=x.exec(y))){v=y.substr(n);q();break}if(l=n,n=x.lastIndex,l<n-w[0].length&&(v=y.substring(l,n-w[0].length)),3>e[e.length-
1]){if(q(),"["===w[0])e.push(1);else if("("===w[0])e.push(2);else if(/^["']$/.test(w[0]))e.push(3),m[3]=new RegExp(w[0],"g");else if("/*"===w[0])e.push(4);else if(/^[\])]$/.test(w[0])&&0<e.length)e.pop();else if(/^(?:\s+|[~+>])$/.test(w[0])&&(0<p.length&&!f.test(p[p.length-1])&&0===e[e.length-1]&&p.push(" "),1===e[e.length-1]&&5===p.length&&"\x3d"===p[2].charAt(p[2].length-1)&&(p[4]=" "+p[4]),f.test(w[0])))continue;p.push(w[0])}else p[p.length-1]+=v,d.test(p[p.length-1])&&(4===e[e.length-1]&&(2>p.length||
f.test(p[p.length-2])?p.pop():p[p.length-1]=" ",w[0]=""),e.pop()),p[p.length-1]+=w[0]}return p.join("").trim()}},function(E,b,c){function y(p,e,n){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;p=(0,l.normalizeSelector)(p);var f=n.querySelector(p);return document.head.createShadowRoot||document.head.attachShadow?!e&&f?f:w(p,",").reduce(function(m,h){if(!e&&m)return m;var g=w(h.replace(/^\s+/g,"").replace(/\s*([>+~]+)\s*/g,"$1")," ").filter(function(t){return!!t}).map(function(t){return w(t,
"\x3e")}),k=g.length-1;h=x(g[k][g[k].length-1],n,d);g=q(g,k,n);return e?m=m.concat(h.filter(g)):(m=h.find(g))||null},e?[]:null):e?n.querySelectorAll(p):f}function q(p,e,n){return function(d){for(var f=e,m=!1;d&&d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&d.nodeType!==Node.DOCUMENT_NODE;){var h=!0;if(1===p[f].length)h=d.matches(p[f]);else{var g=[].concat(p[f]).reverse(),k=d,t=!0,u=!1,z=void 0;try{for(var C,a=g[Symbol.iterator]();!(t=(C=a.next()).done);t=!0){var H=C.value;if(!k||!k.matches(H)){h=!1;break}k=
v(k,n)}}catch(r){u=!0,z=r}finally{try{!t&&a.return&&a.return()}finally{if(u)throw z;}}}if(h&&0===f){m=!0;break}h&&f--;d=v(d,n)}return m}}function w(p,e){return p.match(/\\?.|^$/g).reduce(function(n,d){return'"'!==d||n.sQuote?"'"!==d||n.quote?n.quote||n.sQuote||d!==e?n.a[n.a.length-1]+=d:n.a.push(""):(n.sQuote^=1,n.a[n.a.length-1]+=d):(n.quote^=1,n.a[n.a.length-1]+=d),n},{a:[""]}).a}function v(p,e){return(p=p.parentNode)&&p.host&&11===p.nodeType?p.host:p===e?null:p}function x(){var p=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:null,e=arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=[];n?d=n:(n=function h(m){for(var g=0;g<m.length;g++){var k=m[g];d.push(k);k.shadowRoot&&h(k.shadowRoot.querySelectorAll("*"))}},e.shadowRoot&&n(e.shadowRoot.querySelectorAll("*")),n(e.querySelectorAll("*")));return p?d.filter(function(f){return f.matches(p)}):d}Object.defineProperty(b,"__esModule",{value:!0});b.querySelectorAllDeep=function(p){return y(p,!0,1<arguments.length&&void 0!==
arguments[1]?arguments[1]:document,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};b.querySelectorDeep=function(p){return y(p,!1,1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};b.collectAllElementsDeep=x;var l=c(155)},function(E,b,c){E.exports=window},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.IntegrationMapper=void 0;var y=function(){function l(p,e){for(var n=0;n<e.length;n++){var d=
e[n];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(p,d.key,d)}}return function(p,e,n){return e&&l(p.prototype,e),n&&l(p,n),p}}(),q=c(2),w=c(0),v=c(122).assign,x=c(123);b.IntegrationMapper=function(){function l(p,e,n){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.initialUserObj=p;this.initialAccountObj=e;this.integrationContext=n;this.mappedAccountObj=this.mappedUserObj=null}return y(l,[{key:"mapData",value:function(){var p=
!1;switch(this.integrationContext.name){case "aptrinsic-segment":this._mapSegment();p=!0;break;default:q.logger.log("Ignoring unknown integration "+this.integrationContext.name)}return p}},{key:"getUserObj",value:function(){return this.mappedUserObj}},{key:"getAccountObj",value:function(){return this.mappedAccountObj}},{key:"isSegmentGroupCall",value:function(){return"aptrinsic-segment"===this.integrationContext.name&&this.initialAccountObj&&this.initialAccountObj.anonymousId&&!(0,w.isBlank)(this.initialAccountObj.anonymousId())}},
{key:"_mapSegment",value:function(){0<=x(this.integrationContext.version,"1.0.0")&&this._mapSegmentV1()}},{key:"_mapSegmentV1",value:function(){var p=this.initialUserObj.traits(),e=this.initialUserObj.address(),n=v({},this.initialUserObj.traits());if(v(n,{id:this.initialUserObj.userId(),email:this.initialUserObj.email(),firstName:this.initialUserObj.firstName(),lastName:this.initialUserObj.lastName(),gender:this.initialUserObj.gender()&&this.initialUserObj.gender().toUpperCase(),title:p.title,phone:this.initialUserObj.phone(),
accountId:this.initialAccountObj.groupId()}),e&&v(n,{street:e.street,countryCode:e.country,stateCode:e.state,city:e.city,postalCode:e.postalCode}),p.company)p=p.company,v(n,{organization:p.name,organizationIndustry:p.industry,organizationEmployees:p.employee_count&&p.employee_count.toString()});p=null;this.initialAccountObj.groupId()&&(e=this.initialAccountObj.traits(),p=v({},e),p.id=this.initialAccountObj.groupId(),p.street=this.initialAccountObj.street(),p.city=this.initialAccountObj.city(),p.countryCode=
this.initialAccountObj.country(),p.postalCode=this.initialAccountObj.zip(),p.numberOfEmployees=parseInt(e.employees));this.mappedUserObj=n;this.mappedAccountObj=p}}]),l}()},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.filterKcContentV1=b.filterKcConfigV1=void 0;var y=c(10),q=c(25).filterProperties,w="enabled countArticle barBackgroundColor barFillColor barHeight barWidth textMessage textMessageColor textMessageFontSize progressValueType".split(" "),v="enabled backgroundColor textColor borderColor fontSize position".split(" "),
x="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor".split(" "),
l=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],p=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],e="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),n="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),d=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],f="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
m=["id","name","subtitle","showBadge"];b.filterKcConfigV1=function(h){var g=h.kcId,k=h.subscriptionId,t=h.propertyGroupId,u=h.urlPattern,z=h.injectionType,C=h.badgeSettings,a=h.windowSettings,H=h.floatingButtonSettings,r=h.onBoardingSettings,B=h.includePatterns,F=h.excludePatterns,I=h.enableFeedback,Q=h.enableOnBoarding,P=h.articleSearchEnabled,D=h.articleProvider,O=h.articleProviderDomain,W=h.environments,ba=h.name,ma=h.description,sa=h.contextualSearchSetting,za=h.contextualSearchTerm;h=q(h.progressBarSettings,
w);C=q(C,v);a=q(a,x);var S=q(a.embedKCSettings,l),M=q(S.positionSettings,p),V=q(S.elementSelector,e);H=q(H,n);r=q(r,d);return S.positionSettings=M,S.elementSelector=V,a.embedKCSettings=S,{kcId:g,subscriptionId:k,propertyGroupId:t,urlPattern:u,injectionType:z,progressBarSettings:h,badgeSettings:C,windowSettings:a,floatingButtonSettings:H,onBoardingSettings:r,includePatterns:B,excludePatterns:F,enableFeedback:I,enableOnBoarding:Q,articleSearchEnabled:P,articleProvider:D,articleProviderDomain:O,environments:W,
name:ba,description:ma,contextualSearchSetting:sa,contextualSearchTerm:za}};b.filterKcContentV1=function(h){h=h.entries;if(!h)return null;h=(0,y.arrayFrom)(h,function(g){g=q(g,f);var k=q(g.category,m);return g.category=k,g});return h.sort(function(g,k){return g.id<k.id?-1:g.id>k.id?1:0}),{entries:h}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.filterKcContentV2=b.filterKcConfigV2=void 0;var y=c(10),q=c(25).filterProperties,w="enabled countArticle barBackgroundColor barFillColor barHeight barWidth categoriesSectionTitle textMessage textMessageColor textMessageFontSize progressValueType".split(" "),
v="enabled backgroundColor textColor borderColor fontSize position".split(" "),x="id hideSingleTab onboardingIcon feedbackIcon knowledgeBaseIcon onboardingIconColor feedbackIconColor knowledgeBaseIconColor onboardingTabIndex feedbackTabIndex knowledgeBaseTabIndex".split(" "),l="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor enableOnboardingSearch knowledgeBaseSearchText".split(" "),
p=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],e=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],n="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),d="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),f=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],m="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
h="guideRedirectMessage guideRedirectConfirmButton guideRedirectCancelButton feedbackDropdownIssue feedbackDropdownFeatureRequest feedbackDropdownGeneralFeedback feedbackDropdownOther feedbackSubjectPlaceholder feedbackDescriptionPlaceholder feedbackSubmitButtonLabel feedbackThankYouMessage feedbackLeaveAnotherMessage knowledgeBaseBlankSearchMessage knowledgeBaseNoResultMessage knowledgeBaseInputPlaceholder knowledgeBaseFailureMessage".split(" "),g=["id","name","subtitle","showBadge"];b.filterKcConfigV2=
function(k){var t=k.kcId,u=k.subscriptionId,z=k.propertyGroupId,C=k.urlPattern,a=k.injectionType,H=k.badgeSettings,r=k.tabsSettings,B=k.windowSettings,F=k.floatingButtonSettings,I=k.onBoardingSettings,Q=k.includePatterns,P=k.excludePatterns,D=k.enableFeedback,O=k.enableOnBoarding,W=k.articleSearchEnabled,ba=k.articleProvider,ma=k.articleProviderDomain,sa=k.environments,za=k.name,S=k.description,M=k.contextualSearchSetting,V=k.contextualSearchTerm,X=k.staticFields;k=q(k.progressBarSettings,w);H=q(H,
v);r=q(r,x);X=q(X,h);B=q(B,l);var Y=q(B.embedKCSettings,p),qa=q(Y.positionSettings,e),xa=q(Y.elementSelector,n);F=q(F,d);I=q(I,f);return Y.positionSettings=qa,Y.elementSelector=xa,B.embedKCSettings=Y,{kcId:t,subscriptionId:u,propertyGroupId:z,urlPattern:C,injectionType:a,progressBarSettings:k,badgeSettings:H,tabsSettings:r,windowSettings:B,floatingButtonSettings:F,onBoardingSettings:I,includePatterns:Q,excludePatterns:P,enableFeedback:D,enableOnBoarding:O,articleSearchEnabled:W,articleProvider:ba,
articleProviderDomain:ma,environments:sa,name:za,description:S,contextualSearchSetting:M,contextualSearchTerm:V,staticFields:X}};b.filterKcContentV2=function(k){k=k.entries;if(!k)return null;k=(0,y.arrayFrom)(k,function(t){t=q(t,m);var u=q(t.category,g);return t.category=u,t});return k.sort(function(t,u){return t.id<u.id?-1:t.id>u.id?1:0}),{entries:k}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.filterKcContentV3=b.filterKcConfigV3=void 0;var y=c(10),q=c(25).filterProperties,
w="enabled countArticle barBackgroundColor barFillColor barHeight barWidth categoriesSectionTitle textMessage textMessageColor textMessageFontSize progressValueType".split(" "),v="enabled backgroundColor textColor borderColor fontSize position".split(" "),x="id hideSingleTab onboardingIcon feedbackIcon knowledgeBaseIcon onboardingIconColor feedbackIconColor knowledgeBaseIconColor onboardingTabIndex feedbackTabIndex knowledgeBaseTabIndex".split(" "),l="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor enableOnboardingSearch knowledgeBaseSearchText".split(" "),
p=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],e=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],n="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),d="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),f=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],m="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
h="guideRedirectMessage guideRedirectConfirmButton guideRedirectCancelButton feedbackDropdownIssue feedbackDropdownFeatureRequest feedbackDropdownGeneralFeedback feedbackDropdownOther feedbackSubjectPlaceholder feedbackDescriptionPlaceholder feedbackSubmitButtonLabel feedbackThankYouMessage feedbackLeaveAnotherMessage knowledgeBaseBlankSearchMessage knowledgeBaseNoResultMessage knowledgeBaseInputPlaceholder knowledgeBaseFailureMessage".split(" "),g=["id","name","subtitle","showBadge"];b.filterKcConfigV3=
function(k){var t=k.kcId,u=k.subscriptionId,z=k.propertyGroupId,C=k.urlPattern,a=k.injectionType,H=k.badgeSettings,r=k.tabsSettings,B=k.windowSettings,F=k.floatingButtonSettings,I=k.onBoardingSettings,Q=k.includePatterns,P=k.excludePatterns,D=k.enableFeedback,O=k.enableOnBoarding,W=k.articleSearchEnabled,ba=k.articleProvider,ma=k.articleProviderDomain,sa=k.environments,za=k.name,S=k.description,M=k.contextualSearchSetting,V=k.contextualSearchTerm,X=k.staticFields;k=q(k.progressBarSettings,w);H=q(H,
v);r=q(r,x);X=q(X,h);B=q(B,l);var Y=q(B.embedKCSettings,p),qa=q(Y.positionSettings,e),xa=q(Y.elementSelector,n);F=q(F,d);I=q(I,f);return Y.positionSettings=qa,Y.elementSelector=xa,B.embedKCSettings=Y,{kcId:t,subscriptionId:u,propertyGroupId:z,urlPattern:C,injectionType:a,progressBarSettings:k,badgeSettings:H,tabsSettings:r,windowSettings:B,floatingButtonSettings:F,onBoardingSettings:I,includePatterns:Q,excludePatterns:P,enableFeedback:D,enableOnBoarding:O,articleSearchEnabled:W,articleProvider:ba,
articleProviderDomain:ma,environments:sa,name:za,description:S,contextualSearchSetting:M,contextualSearchTerm:V,staticFields:X}};b.filterKcContentV3=function(k){k=k.entries;if(!k)return null;k=(0,y.arrayFrom)(k,function(t){t=q(t,m);var u=q(t.category,g);return t.category=u,t});return k.sort(function(t,u){return t.id<u.id?-1:t.id>u.id?1:0}),{entries:k}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalContextMessage=function(x){return q.logger.log("SDK Posting global context to KC"),
{type:w,globalContext:x}};b.getUrlMessage=function(){return q.logger.log("SDK Posting current url to KC"),{type:v,url:(0,y.getPageUrl)()}};var y=c(0),q=c(2),w="APT_WIDGET_GLOBAL_CONTEXT",v="APT_WIDGET_URL"},function(E,b,c){function y(){this.getAttribute=function(){return"url"}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0);y.prototype.matchRules=function(w,v,x){return"all"===v?w.every(function(l){return(0,q.matchUrl)(l.value,x,"is"!==l.operator,"isNot"===l.operator)}):w.some(function(l){return(0,q.matchUrl)(l.value,
x,"is"!==l.operator,"isNot"===l.operator)})};E=new y;b.default=E},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(q){function w(d){d&&(d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),e===d&&(e=d.next),n===d&&(n=d.prev),d.prev=null,d.next=null)}function v(d){d.prev=null;(d.next=e)&&(e.prev=d);e=d;n||=d}var x="number"==typeof q&&0<q?q:y.DEFAULT_LRU_CAPACITY,l=0,p={},e=null,n=null;q={get:function(d){if(d=p[d])return w(d),v(d),d.value},set:function(d,f){var m=
p[d];m?(m.value=f,w(m),v(m)):(f={key:d,value:f,prev:null,next:null},p[d]=f,v(f),l+=1,l>x&&(d=n,w(d),d&&null!=d.key&&delete p[d.key],--l))}};return Object.defineProperty(q,"capacity",{value:x,enumerable:!0}),q};var y=c(6)},function(E,b,c){function y(){return{childEdges:[],values:[]}}Object.defineProperty(b,"__esModule",{value:!0});b.default=function(){function q(x,l,p){if(0===l.length)return void x.values.push(p);var e;a:{for(e=0;e<x.childEdges.length;e+=1){var n=x.childEdges[e];b:{var d=n.label;for(var f=
Math.min(d.length,l.length),m=0;m<f;m+=1)if(d[m]!==l[m]){d=m;break b}d=f}if(0!==d){e={edge:n,prefixLength:d};break a}}e=null}if(e)return x=e.edge,n=e.prefixLength,n===x.label.length?p=void q(x.node,l.substring(n),p):(e=x.label,d=e.substring(0,n),f=e.substring(n),m=x.node,e=y(),x.label=d,x.node=e,e.childEdges.push({label:f,node:m}),l=l.substring(n),0===l.length?e.values.push(p):(x=y(),x.values.push(p),e.childEdges.push({label:l,node:x})),p=void 0),p;e=y();e.values.push(p);x.childEdges.push({label:l,
node:e})}function w(x,l,p){if(x.values.forEach(function(f){return p.push(f)}),0===l.length)return p;for(var e=0;e<x.childEdges.length;e+=1){var n=x.childEdges[e],d=n.label;if(0===l.indexOf(d))return w(n.node,l.substring(d.length),p)}return p}var v=y();return Object.freeze({insert:function(x,l){q(v,x,l)},collectByPrefix:function(x){return w(v,x,[])}})}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(y,q){var w=new Set;return y.forEach(function(v){var x=!0;if(v.suffix&&
v.suffix.length){var l="/"===v.suffix.charAt(v.suffix.length-1);!(x=q.endsWith(v.suffix))&&l&&(x=v.suffix.substring(0,v.suffix.length-1),x=q.endsWith(x))}l=v.regex.test(q);x&&l&&w.add(v.mappedElementId)}),w}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.findIndex=function(y,q){for(var w=0;w<y.length;w++)if(q(y[w]))return w;return-1}},function(E,b,c){function y(l,p,e){var n=!1;return null===l?n=p:e===q?n=p||l:e===w&&(n=p&&l),n}Object.defineProperty(b,"__esModule",{value:!0});
b.default=function(l,p){var e=[],n=[],d=[];l[0]!==v&&(l=""+v+l+x);for(var f=-1,m="",h=0;h<l.length;h++){var g=l[h],k=e[e.length-1],t=g===x;if(g===v)f+=1,m=n,k=d,e.push(f),m.push(null),k.push(null),m="";else if(t){var u=e;t=n;g=d;m=p[m];u.pop();"boolean"==typeof m&&(t[k]=y(t[k],m,g[k]));m=u[u.length-1];void 0!==m&&(t[m]=y(t[m],t[k],g[m]));m=""}else" "===g?d[k]&&"boolean"==typeof p[m]&&(n[k]=y(n[k],p[m],d[k]),m=""):(t=(g+l[h+1]).toUpperCase()===q,u=(g+l[h+1]+l[h+2]).toUpperCase()===w,t||u?(g=d,m=p[m],
t=t?q:w,u=h,h=("boolean"==typeof m&&(n[k]=y(n[k],m,g[k])),g[k]=t,t===q?u+=1:t===w&&(u+=2),u),m=""):m+=g)}return n[0]};var q="OR",w="AND",v="(",x=")"},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.executeFunctionByName=function(y,q){try{var w=window,v=y&&y.split("."),x=v&&v.pop();for(y=0;y<v.length;y++)w=w[v[y]];if("function"==typeof w[x])return w[x].apply(w,[q])}catch(l){console.error("apt. Failed to execute function. Error is",l)}}},function(E,b,c){Object.defineProperty(b,"__esModule",
{value:!0});b.replaceAllDomains=function(y,q,w,v){if(y.hasAttribute(q)){var x=y.getAttribute(q),l=document.createElement("a");l.href=x;0===x.indexOf(v)&&(l.href=x.replace(v,w),y.setAttribute(q,l.href))}}},function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});b.getImage=b.IMAGE_MAP=void 0;E=c(8);var y=c(13),q=c(1),w=c(7),v=new E.LocalCache;c=function(l){return q.staticContentHost+"/images/"+l+".svg"};var x=b.IMAGE_MAP={unsatisfied:c("unsatisfied"),satisfied:c("satisfied"),neutral:c("neutral")};
b.getImage=function(l,p){var e=v[l];return e?p(e):(y.AjaxUtil.getData(x[l],function(n){n=(0,w.toDom)(n,!0);return v[l]=n,p(n)}),null)}},function(E,b,c){function y(r,B,F,I){r=r+"-"+B;I[r]||(I[r]=F)}function q(r,B){return u[r+"-"+B]||null}function w(r,B){return t[r+"-"+B]||null}function v(r){if(a&&H===r)return Promise.resolve(a);var B=new Uint8Array(r.match(k).map(function(F){return parseInt(F,16)}));return window.crypto.subtle.importKey(n,B,h,!1,m).then(function(F){return a=F,H=r,F})}function x(r){var B=
[];r=r.matchAll(g)||[];return Array.from(r).forEach(function(F){var I=p(F,4),Q=I[1],P=I[2],D=I[3];F=F.index;I=F+I[0].length;D&&B.push({attrName:Q,quoteStyle:P,originalValue:D,startIndex:F,originalEndIndex:I})}),B}function l(r,B){var F=r;return B.sort(function(I,Q){return Q.startIndex-I.startIndex}),B.forEach(function(I){var Q="["+I.attrName+"\x3d"+I.quoteStyle+I.processedValue+I.quoteStyle+"]";F=F.slice(0,I.startIndex)+Q+F.slice(I.originalEndIndex)}),F}Object.defineProperty(b,"__esModule",{value:!0});
var p=function(){return function(r,B){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){var F=[],I=!0,Q=!1,P=void 0;try{for(var D,O=r[Symbol.iterator]();!(I=(D=O.next()).done)&&(F.push(D.value),!B||F.length!==B);I=!0);}catch(W){Q=!0,P=W}finally{try{!I&&O.return&&O.return()}finally{if(Q)throw P;}}return F}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.getFromDecryptedCache=q;b.addToEncryptedSelectorCache=function(r,B){y(r,B,B,z)};b.getFromEncryptedSelectorCache=
function(r,B){return z[r+"-"+B]||null};b.getFromDecryptedSelectorCache=function(r,B){return C[r+"-"+B]||null};b.addToDecryptedSelectorCache=function(r,B){y(r,B,B,C)};b.getFromEncryptedCache=w;b.encrypt=function(r,B){var F=w(B,r);if(F)return Promise.resolve(F);var I=(new TextEncoder).encode(""+r+d);return v(B).then(function(Q){return window.crypto.subtle.encrypt(f,Q,I)}).then(function(Q){Q=new Uint8Array(Q);if(65536<Q.length){for(var P="",D=0;D<Q.length;D+=8192){var O=Q.subarray(D,D+8192);P+=String.fromCharCode.apply(null,
O)}Q=window.btoa(P)}else Q=window.btoa(String.fromCharCode.apply(null,Q));y(B,r,Q,t);return Q})};b.decrypt=function(r,B){var F=q(B,r);return F?Promise.resolve(F):v(B).then(function(I){var Q=Uint8Array.from(atob(r),function(P){return P.charCodeAt(0)});return window.crypto.subtle.decrypt(f,I,Q)}).then(function(I){I=(new TextDecoder).decode(I).split(d)[0];y(B,r,I,u);return I})};b.decryptOrEncryptSelector=function(r,B){return new Promise(function(F){try{var I=(0,e.getConfig)("decryptionSelectorKey");
if(!I)return void F(r);var Q=x(r,I,B).map(function(P){return B(P.originalValue,I).then(function(D){return P.processedValue=String(D),P}).catch(function(){P.processedValue=P.attrValue})});Promise.all(Q).then(function(P){0===P.length?F(r):(P=l(r,P),F(P))}).catch(function(){F(r)})}catch(P){F(r)}})};var e=c(1),n="raw",d="|||",f={name:"AES-CBC",iv:new Uint8Array(16)},m=["encrypt","decrypt"],h={name:"AES-CBC"},g=/\[([^\]=\s]+)\s*=\s*("|')(.*?)\2\]/g,k=/.{1,2}/g,t={},u={},z={},C={},a=null,H=null},function(E,
b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"2" d\x3d"M9.75 1.5l12 13.125-12 13.125"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-width\x3d"4"\x3e\x3cpath d\x3d"M13.5 5.25l9.375 9.375L13.5 24M23.25 14.5h-18"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg\x3e\x3cpath d\x3d"m15,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"\x3e\x3c/path\x3e\x3cpath d\x3d"m3,13l21,0l0,3.75l-21,0l0,-3.75z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4"\x3e\x3cpath d\x3d"M15.75 7.5l6 7.5-6 7.5M6.75 15h15"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg\x3e\x3cpath d\x3d"m2.75,13.75l21,0l0,3l-21,0l0,-3z"\x3e\x3c/path\x3e\x3cpath d\x3d"m15.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule\x3d"nonzero"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m12.06,10.304l1.47,4.386c0.059,0.17 0.059,0.45 0,0.621l-1.47,4.386c-0.174,0.518 0.046,0.707 0.491,0.422l7.475,-4.774c0.3,-0.19 0.298,-0.499 0,-0.689l-7.475,-4.774c-0.444,-0.283 -0.665,-0.096 -0.492,0.422l0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m25.682,16.355c0.762,-0.77 0.756,-2.02 -0.01,-2.792l-9.083,-9.116c-2.12,-2.113 -5.301,1.057 -3.181,3.17l3.963,3.95c0.66,0.658 0.437,1.19 -0.485,1.19l-10.886,0a2.247,2.247 0 0 0 -2.25,2.243a2.246,2.246 0 0 0 2.25,2.241l10.886,0c0.927,0 1.149,0.532 0.485,1.194l-3.963,3.947c-2.12,2.115 1.06,5.285 3.18,3.17l9.094,-9.197z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,
b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m27.508,15.032l-13.964,8.693l0,-6.015l-11.081,0l0,-5.45l11.08,0l0,-5.92l13.965,8.692zm1.742,0c0,-0.63 -0.33,-1.228 -0.841,-1.575l-13.964,-8.693a1.653,1.653 0 0 0 -1.742,-0.032c-0.541,0.315 -0.87,0.913 -0.87,1.575l0,4.094l-9.342,0c-0.96,0 -1.742,0.82 -1.742,1.827l0,5.449c0,1.008 0.781,1.827 1.742,1.827l9.34,0l0,4.189c0,0.662 0.331,1.26 0.87,1.575c0.541,0.315 1.202,0.315 1.743,-0.032l13.964,-8.693c0.51,-0.283 0.841,-0.881 0.841,-1.511l0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m16.616,22.44a0.591,0.591 0 0 1 -0.345,-0.533l0,-3.365l-10.331,1.423a0.625,0.625 0 0 1 -0.482,-0.14a0.591,0.591 0 0 1 -0.208,-0.447l0.003,-8.76c0,-0.17 0.077,-0.336 0.208,-0.448a0.615,0.615 0 0 1 0.482,-0.14l10.331,1.423l0,-3.362c0,-0.229 0.134,-0.435 0.345,-0.533a0.62,0.62 0 0 1 0.641,0.072l8.765,6.905a0.587,0.587 0 0 1 0,0.922l-8.77,6.908a0.597,0.597 0 0 1 -0.639,0.075zm8.066,-7.444l-7.199,-5.67l0,3.485l-11.019,-1.511l0,7.4l11.019,-1.512l0,3.488l7.2,-5.679l-0.001,-0.001z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"3" d\x3d"M12.5 3l9.75 11.625L12.5 26.25"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-width\x3d"4" d\x3d"M11.5 5.25l9.375 9.375L11.5 24"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m13,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4" d\x3d"M12.75 7.5l6 7.5-6 7.5"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m10.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule\x3d"nonzero"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M12 20.378l1.394 1.372L20.25 15l-6.856-6.75L12 9.622 17.463 15z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"2"\x3e\x3cpath d\x3d"M15.75 1.5l12 13.125-12 13.125M2.25 14.5h24"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"3"\x3e\x3cpath d\x3d"M3.75 14.5H24M16.5 3l9.75 11.625L16.5 26.25"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4" d\x3d"M6 15l7 6L24 9"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd" fill\x3d"none"\x3e\x3cpath stroke\x3d"none" d\x3d"m0,0l30,0l0,30l-30,0l0,-30z"\x3e\x3c/path\x3e\x3cg stroke-width\x3d"4" stroke-linejoin\x3d"round" stroke-linecap\x3d"round"\x3e\x3cpath d\x3d"m15.75,7.5l6,7.5l-6,7.5m-9,-7.5l15,0"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m5,21.237c0.261,-3.28 1.917,-9.413 10.625,-9.413l0,-3.204c-0.001,-0.234 0.13,-0.45 0.336,-0.555a0.602,0.602 0 0 1 0.64,0.06l8.01,6.082c0.245,0.187 0.389,0.48 0.389,0.79a0.99,0.99 0 0 1 -0.39,0.79l-7.999,6.08a0.601,0.601 0 0 1 -0.647,0.069a0.618,0.618 0 0 1 -0.34,-0.564l0,-3.204s-5.678,-1.057 -9.534,3.526a0.62,0.62 0 0 1 -0.703,0.16a0.636,0.636 0 0 1 -0.386,-0.617l-0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m21.058,12.17l-3.12,-3.242a1.427,1.427 0 0 1 0,-2.012a1.416,1.416 0 0 1 2.005,0l5.647,5.665a1.42,1.42 0 0 1 0,1.997l-5.648,5.665a1.408,1.408 0 0 1 -1.996,0.007a1.42,1.42 0 0 1 -0.008,-2.004l3.12,-3.243l-9.822,0c-0.387,0 -0.758,0.158 -1.025,0.44a1.42,1.42 0 0 0 -0.387,1.047l0,5.594c0,0.782 -0.632,1.416 -1.412,1.416c-0.78,0 -1.411,-0.634 -1.411,-1.416l0,-5.594a4.258,4.258 0 0 1 1.214,-3.05a4.229,4.229 0 0 1 3.02,-1.27l9.823,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m12.986,22l-5.986,-5.621l1.513,-1.63l4.321,4.052l9.502,-10.801l1.664,1.479l-11.014,12.521z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath strok\x3d"none" d\x3d"m10.288,14.997l3.617,2.63l7.593,-9.584a1.352,1.352 0 0 1 1.838,-0.313l0.101,0.071c0.597,0.404 0.743,1.197 0.324,1.773l-8.285,12.307c-0.313,0.43 -0.623,0.58 -1.168,0.615c-0.545,0.035 -0.875,-0.16 -1.202,-0.476l-4.715,-5.197a1.256,1.256 0 0 1 0,-1.823l0.007,-0.003a1.373,1.373 0 0 1 1.89,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m8.133,11.868l6.355,4.846l9.237,-10.374a1.021,1.021 0 0 1 1.431,-0.09c0.378,0.33 0.454,0.885 0.179,1.303l-10.847,16.447l-7.798,-10.752a0.997,0.997 0 0 1 0.233,-1.4c0.364,-0.26 0.856,-0.251 1.21,0.02z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M23.206 8.831A2.636 2.636 0 0 0 21.286 8c-.725 0-1.407.295-1.918.831l-6.053 6.322-2.684-2.805a2.635 2.635 0 0 0-1.919-.831c-.724 0-1.407.295-1.92.831-1.056 1.105-1.056 2.904.001 4.01l4.602 4.809a2.618 2.618 0 0 0 3.41.367c.156-.108.3-.23.428-.365l7.97-8.327A2.884 2.884 0 0 0 24 10.837a2.888 2.888 0 0 0-.794-2.006z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M17.332 8.003c.08.011.156.045.22.098l7.273 6.034c.11.091.175.232.175.38 0 .15-.065.29-.175.381l-7.273 6.034a.432.432 0 0 1-.476.052.487.487 0 0 1-.256-.43v-2.42c-.576-.025-1.863-.06-3.764.287-2.268.413-5.046 1.367-7.302 3.461a.433.433 0 0 1-.55.04.498.498 0 0 1-.182-.552c1.899-6.21 7.676-9.169 11.798-10.347V8.487c0-.14.054-.273.153-.365a.435.435 0 0 1 .359-.118v-.001z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(E,b){E.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m9,6.634c6.353,8.365 0.09,16.41 0.09,16.41a0.662,0.662 0 0 0 0.12,0.787c0.21,0.196 0.556,0.225 0.794,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014a0.665,0.665 0 0 0 -0.3,0.537z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(E,
b){E.exports={}},,,,,,,function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(1),q=c(15),w=c(12),v=c(29),x=c(5);b.default={discoverTopWindowPath:function(l,p){if((0,y.isIframe)()){var e=x.IframeRequest,n=e.getIframeRequest,d=(0,q.getIframeId)(),f=v.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH,m=[],h=m.concat;if(Array.isArray(p)){for(var g=0,k=Array(p.length);g<p.length;g++)k[g]=p[g];p=k}else p=Array.from(p);l=n.call(e,d,f,{iframesPath:h.call(m,p,[(0,q.getIframeId)()])},l);(0,w.postRequest)(l,
window.parent,!0)}},discoverTopWindowPathResponse:function(l,p,e){(0,y.isIframe)()&&(p=x.IframeRequest.getIframeRequest((0,q.getIframeId)(),v.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE,{iframesPath:e},p),(0,w.postRequestDown)(p,l))}}},function(E,b,c){function y(f,m){switch(f.aptrinsicEventType){case l.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH:(0,n.setTopWindow)(window);(0,p.setChildIframe)(f.aptrinsicIframeId,m.source,m.origin);x.default.sendDiscoverTopWindowPathResponse((0,p.getChildIframeData)(f.aptrinsicIframeId),
f.aptrinsicRequestId,f.content.iframesPath);break;default:w.logger.logInternalError(Error("DiscoverTopWindowPath master client got unsupported message, data: "+JSON.stringify(f)))}}Object.defineProperty(b,"__esModule",{value:!0});b.default=function(){(0,v.isIframe)()||(0,q.addEventListener)(window,"message",function(f){(0,e.handleIncomingRequest)(f,d,y)},!1)};var q=c(0),w=c(2),v=c(1),x=(E=c(213))&&E.__esModule?E:{default:E},l=c(29),p=c(58),e=c(114),n=c(22),d=[l.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH]},
function(E,b,c){Object.defineProperty(b,"__esModule",{value:!0});var y=c(1),q=c(29),w=c(5),v=c(12);b.default={sendDiscoverTopWindowPathResponse:function(x,l,p){(0,y.isIframe)()||(l=w.IframeRequest.getMasterRequst(q.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE,{iframesPath:p},l,x.iframeId),(0,v.postRequestDown)(l,x))}}},function(E,b,c){function y(m,h){switch(m.aptrinsicEventType){case e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH:(0,n.setChildIframe)(m.aptrinsicIframeId,h.source,h.origin);x.default.discoverTopWindowPath(m.aptrinsicRequestId,
m.content.iframesPath);break;case e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE:h=m.content;m=m.aptrinsicRequestId;var g=h.iframesPath;(0,v.getIframeId)()===g[0]?(0,p.decrementState)(m,{iframesPath:g}):(h=h.iframesPath.indexOf((0,v.getIframeId)()),x.default.discoverTopWindowPathResponse((0,n.getChildIframeData)(g[h-1]),m,g));break;default:w.logger.logInternalError(Error("DiscoverTopWindowPath iframe client got unsupported message, data: "+JSON.stringify(m)))}}Object.defineProperty(b,"__esModule",
{value:!0});b.default=function(){(0,l.isIframe)()&&(0,q.addEventListener)(window,"message",function(m){(0,d.handleIncomingRequest)(m,f,y)},!1)};var q=c(0),w=c(2),v=c(12),x=(E=c(211))&&E.__esModule?E:{default:E},l=c(1),p=c(5),e=c(29),n=c(58),d=c(114),f=[e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH,e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(E,b,c){function y(M){return M&&M.__esModule?M:{default:M}}function q(M){k.default.isEditorMode()?k.default.saveConfig():((new h.EventTracker).initCollector(),(0,I.isWebApp)(M)||t.default.init(),(0,H.appReady)(),r.default.init(),B.default.init(),Q.default.init())}function w(M){k.default.isEditorMode()&&k.default.loadEditor(M)&&(0,k.default)("setConfig",(0,f.getConfigObj)())&&(0,k.default)("init",M)}function v(M,V){if(!(0,f.getConfigObj)().hasOwnProperty(M))return void z.logger.logInternalError(Error("Unrecognized config field: "+
M+". Cannot set config change handler"));(0,f.updateConfigChangeHandlers)(M,V)}function x(){v("enableTag",function(M,V){!M&&V?l(sa,za):M&&0==!V&&F.KnowledgeCenterManager.removeWidget()});v("widgetEnabled",function(M,V){"loading"!==document.readyState&&(!M&&V?F.KnowledgeCenterManager.initWidget({apiKey:d.eventTrackData.data[d.productIdParameter],aptId:d.eventTrackData.data[d.aptrinsicIdParam]}):M&&!V&&F.KnowledgeCenterManager.removeWidget())})}function l(M,V,X){m.AjaxUtil.loadFile("css",(0,f.getAssetEndpoint)("style")+
"?a\x3d"+M,(0,f.getConfig)("crossOriginStyle")||M&&-1!==M.indexOf("AP-7SBC7L5BZ8ML"));d.eventTrackData[n.cacheSet](d.productIdParameter,M);d.eventTrackData[n.cacheSet]("sv",d.applicationVersion);(0,f.isIframe)()||(g.UserData.initializeUser(M),d.eventTrackData[n.cacheSet](d.userIdParameter,g.UserData.getUserId()),d.eventTrackData[n.cacheSet]("vt",g.UserData.getUserType()),d.eventTrackData[n.cacheSet]("ai",g.UserData.getAptrinisId()),d.eventTrackData[n.cacheSet](d.sessionIdParam,g.UserData.getSessionId()));
(V=ba.q)&&0<V.length&&O.default.call(V);d.windowRef[d.aptrinsicGlobalObjName]=D.aptExternal;w(M);q(M);k.default.isEditorMode()||(0,f.featureEnabled)("pageView")&&(0,H.internalApt)("pageview");d.windowRef[d.aptrinsicGlobalObjName].init=!0;if(M=(0,a.isOndemandState)())V=(0,F.getKcDataFromSessionStorage)(),(0,F.getKcEngagement)(M,!1,V.kcId,V.categoryId);!(0,f.isIframe)()&&a.isStartOverState&&(0,a.startOverEngagement)(function(Y){C.EngagementDrawer.draw([Y],!0)})}function p(){setTimeout(function(){return(0,D.initKnowledgeCenterWrapper)(!1,
!0,function(M){M||setTimeout(function(){return S(!1,!1)},ma)})},ma)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},n=c(8),d=c(4),f=c(1),m=c(13),h=c(433),g=c(26);E=c(16);var k=y(E);E=c(116);var t=y(E),u=c(11),z=c(2),C=c(52),a=c(30),H=c(27);E=c(419);var r=y(E);E=c(109);var B=y(E),F=c(34),I=c(0);E=c(40);var Q=y(E),P=c(118),D=c(78);E=c(117);var O=
y(E),W=c(120),ba=d.windowRef[d.aptrinsicGlobalObjName],ma=750;Object.entries||(Object.entries=function(M){for(var V=Object.keys(M),X=V.length,Y=Array(X);X--;)Y[X]=[V[X],M[V[X]]];return Y});String.prototype.startsWith||(String.prototype.startsWith=function(M,V){return this.substr(!V||0>V?0:+V,M.length)===M});Object.keys||(Object.keys=function(){var M=Object.prototype.hasOwnProperty,V=!{toString:null}.propertyIsEnumerable("toString"),X="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
Y=X.length;return function(qa){if("function"!=typeof qa&&("object"!==(void 0===qa?"undefined":e(qa))||null===qa))throw new TypeError("Object.keys called on non-object");var xa=[],Ea=void 0;for(Ea in qa)M.call(qa,Ea)&&xa.push(Ea);if(V)for(Ea=0;Ea<Y;Ea++)M.call(qa,X[Ea])&&xa.push(X[Ea]);return xa}}());Object.values||(Object.values=function(M){return Object.keys(M).map(function(V){return M[V]})});window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(M,V){V=V||window;for(var X=
0;X<this.length;X++)M.call(V,this[X],X,this)});String.prototype.endsWith||(String.prototype.endsWith=function(M,V){return(void 0===V||V>this.length)&&(V=this.length),this.substring(V-M.length,V)===M});var sa=void 0,za=void 0;try{if(!0!==d.windowRef[d.aptrinsicGlobalObjName].init){if(!ba)throw Error("cannot initiate without tag");sa=ba.p;d.eventTrackData[n.cacheSet](d.productIdParameter,sa);(0,f.setCachedConfig)(P.tagConfigKeyName,ba.c);sa?function(){(0,W.copyLocalStorageToSessionStorageGuideKeys)();
x();(0,f.overrideConfig)((0,f.getCachedConfig)(P.tagConfigKeyName),!1);k.default.saveConfig();setInterval(function(){(0,P.getServerConfiguration)(!1,sa,za,(0,f.getCachedConfig)(P.tagConfigKeyName),l)},6E5);(0,P.getServerConfiguration)(!0,sa,za,(0,f.getCachedConfig)(P.tagConfigKeyName),l);u.internalEventListener.addListener("identify",p);u.internalEventListener.addListener("set",function(M){return"user"===M&&p()});u.internalEventListener.addListener("sessionInitialized",p);u.internalEventListener.addListener("sessionExpired",
a.hideAnyActiveEngagement)}():z.logger.logInternalError(Error("Tag does not contain proper API key"))}}catch(M){z.logger.logInternalError(M)}var S=(0,I.debounce)(D.initKnowledgeCenterWrapper,ma)},,,,,function(E,b,c){function y(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(7),w=c(0),v=c(2),x=c(12);E=c(16);var l=y(E);E=c(51);var p=y(E),e=c(1),n=c(109),d=c(29);E=c(214);var f=y(E);E=c(121);var m=y(E);c=c(48);var h=y(c),g=[d.TRACKING_EVENT_TYPES.GET_ELEMENT_TEXT,
d.TRACKING_EVENT_TYPES.REGISTER_FEATURE_RULES,"resolveClickProperties","syncTrackingPropertiesMetaData"];c=new function(){function k(t){if((0,x.isValidCallingDomain)(t.origin))try{var u=(0,x.parseEvent)(t);if(u&&-1<g.indexOf(u.aptrinsicEventType)){var z=u.content;switch(u.aptrinsicEventType){case d.TRACKING_EVENT_TYPES.GET_ELEMENT_TEXT:var C=(0,q.getElementText)(z.cssSelector);p.default.textElementResponse(C,u.aptrinsicRequestId);break;case d.TRACKING_EVENT_TYPES.REGISTER_FEATURE_RULES:(0,n.loadIframeRules)(z.rules);
break;case "resolveClickProperties":var a=h.default.resolveClickProperties(z.clickPropertyIds);p.default.clickPropertiesResponse(a,u.aptrinsicRequestId);break;case "syncTrackingPropertiesMetaData":h.default.setTrackingPropertiesMetaData(z.trackingPropertiesMetaData);m.default.setIframeTrackingFeatures(z.clickTrackingFeatures);break;default:v.logger.logInternalError(Error("tracker iframe client got unsupported message, data: "+JSON.stringify(u)))}}}catch(H){v.logger.logInternalError(H)}}(0,e.isIframe)()&&
!l.default.isEditorMode()&&((0,w.addEventListener)(window,"message",k,!1),(0,f.default)())};b.default=c},,,,,,,,,function(E,b,c){function y(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(b,"__esModule",{value:!0});var q=c(0),w=c(2),v=c(12);E=c(116);var x=y(E),l=c(1),p=c(5);E=c(16);var e=y(E),n=c(50),d=c(109),f=y(d);E=c(43);var m=y(E);c=c(212);var h=y(c),g="register pxUnregister track lead fetchElementTextResponse apt-log textFeatureMatches resolvedClickPropertiesResponse".split(" ");
c=new function(){function k(t){if((0,v.isValidCallingDomain)(t.origin))try{var u=(0,v.parseEvent)(t);if(u&&-1<g.indexOf(u.aptrinsicEventType)){var z=u.content;switch(u.aptrinsicEventType){case "register":(0,p.registerIframe)(t.source,t.origin,u.aptrinsicIframeId,(0,l.getConfig)("framesetMode"));var C=(0,d.getRawFeatureRules)();(0,q.isNotEmptyArr)(C)&&m.default.syncFeatureRules(C);m.default.syncTrackingPropertiesMetaData();break;case "pxUnregister":(0,p.unregisterIframe)(u.aptrinsicIframeId);break;
case "track":if((0,l.isIframeDisabled)(z.aptrinsicEventType))return void w.logger.logInternalError(Error("master script got unsupported track event from iframe, data: "+JSON.stringify(z)));n.api.trackEvent(z.aptrinsicEventType,z.properties,"identify"===z.aptrinsicEventType?n.identifyCallback:void 0,z.customEventName,!0,z.passedGlobalContext);break;case "lead":var a=u.content;x.default.track(a.source,a.email,a.userData,a.formFields);break;case "fetchElementTextResponse":(0,p.decrementState)(u.aptrinsicRequestId,
z.text);break;case "apt-log":w.logger.reportToServer("aptrinsic web sdk error: "+u.content.message+"\n"+u.content.extraMessage+"\n at: "+u.content.stackTrace);break;case "textFeatureMatches":if((0,l.isIframe)())break;f.default.evaluateIframeMatches(u.content.featureMatchData);break;case "resolvedClickPropertiesResponse":z.iframeId=u.aptrinsicIframeId;(0,p.decrementState)(u.aptrinsicRequestId,z);break;default:w.logger.logInternalError(Error("tracker proxy got unsupported message, data: "+JSON.stringify(u)))}}}catch(H){w.logger.logInternalError(H)}}
this.init=function(){(0,l.isIframe)()||e.default.isEditorMode()||((0,q.addEventListener)(window,"message",k,!1),(0,h.default)())}};b.default=c},,,,,,,,,,,,,,function(E,b,c){function y(F){if(F.previousElementSibling)return F.previousElementSibling;for(;F=F.previousSibling&&1!==F.nodeType;);return F}function q(F,I){return-1<a.indexOf(I)&&!(0,d.isBlank)(F)&&!F.startsWith("data")&&(F=(0,h.maskFullUrl)(F)),255<F.length?F.substring(0,255):F}function w(F){var I={};var Q=F[r].toLowerCase();var P=(0,e.getConfig)("elementAttributeDenyMap")[Q];
var D=m.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE[Q];I.tagName=F[r];I.attributes=0<F.attributes.length?{}:null;for(var O=0;O<F.attributes.length;O++){Q=F.attributes[O];var W=Q.name.toLowerCase();P&&-1<P.indexOf(W)||(Q.specified&&-1<C.indexOf(W)||(0,d.matchEither)((0,e.getConfig)("elementAttributeWhitelist"),Q.name)||D&&-1<D.indexOf(W))&&(I.attributes[Q.name]="class"===Q.name.toLowerCase()?q(Q.value.replace(H," "),Q.name.toLowerCase()):q(Q.value,Q.name.toLowerCase()))}"select"===F[r].toLowerCase()&&(I.attributes.selectedIndex=
F.selectedIndex,((0,d.isEmptyArr)(P)||-1===P.value)&&(I.attributes.selectedValue=F.value));Q=P=1;for(D=F;D=y(D);)++P,D[r]==F[r]&&Q++;return I.child_n=P,I.child_tag_n=Q,I}function v(F,I){if(!F||!F[r])return!1;if(!F[r][B])throw Error("element have tag name but it is not a string "+F[r]+", full element"+F);var Q=F[r][B]();if(-1<u.indexOf(Q)||1!=F.nodeType||"select"===Q&&"change"!==I.type||"change"===I.type&&-1==z.indexOf(Q)||"submit"===I.type&&"form"!==Q)return!1;for(;F&&!(0,d.isRootTag)(F);){I=F.classList.contains("apt-guide-popup")||
F.classList.contains("apt-badge");if(1===F.nodeType&&I||"true"===F.getAttribute("data-apt-disable-selector"))return!1;F=(0,f.getParentNode)(F)}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.EventTracker=void 0;var x=function(){function F(I,Q){for(var P=0;P<Q.length;P++){var D=Q[P];D.enumerable=D.enumerable||!1;D.configurable=!0;"value"in D&&(D.writable=!0);Object.defineProperty(I,D.key,D)}}return function(I,Q,P){return Q&&F(I.prototype,Q),P&&F(I,P),I}}(),l=c(2),p=c(9),e=c(1),n=c(27),
d=c(0),f=c(18),m=c(4),h=c(19),g=(E=c(109))&&E.__esModule?E:{default:E},k=c(7),t=c(42),u=["html","body","option"],z=["select"],C=["id","class"],a=["href","src"],H=new RegExp(/\s\s+/g),r="tagName",B="toLowerCase";c=function(){function F(){if(!(this instanceof F))throw new TypeError("Cannot call a class as a function");this.lastEvent=null;this.pageHight=(0,p.getPageHeight)();this.pageWidth=(0,p.getPageWidth)()}return x(F,[{key:"initCollector",value:function(){var I=this;if((0,e.getConfig)("enableTag")){l.logger.log("starting collector for all events");
var Q=(0,e.getConfig)("usePointerEvent");if((0,e.featureEnabled)("click")&&(this.addEventListener(document,Q?(0,p.getPointerDownEventName)():"mousedown",function(D){I.lastEvent=D.target}),this.addEventListener(document,Q?(0,p.getPointerUpEventName)():"mouseup",function(D){(0,k.checkIfSameElement)(I.lastEvent,D.target)&&(0,e.featureEnabled)("click")&&I.sendWebEvent(D)}),(0,e.getConfig)("keyboardTriggerClick")&&this.addEventListener(document,"keydown",function(D){(-1<["Space","Enter"].indexOf(D.code)||
-1<[13,32].indexOf(D.keyCode))&&(0,e.featureEnabled)("click")&&!(0,d.isEnterAllowedElement)(D.target)&&I.sendWebEvent(D)}),this.addEventListener(document,"change",function(D){(0,e.featureEnabled)("click")&&I.sendWebEvent(D)})),(0,e.featureEnabled)("form")&&!(0,d.isWebApp)(m.eventTrackData.data[m.productIdParameter])&&(this.addEventListener(document,"submit",function(D){(0,e.featureEnabled)("form")&&I.sendWebEvent(D)}),this.addEventListener(document,"change",function(D){(0,e.featureEnabled)("form")&&
I.sendWebEvent(D)})),(0,e.featureEnabled)("pageView"))try{if("onhashchange"in window&&!0===(0,e.getConfig)("autoTrackHash")&&window.addEventListener("hashchange",function(){(0,e.featureEnabled)("pageView")&&(0,n.internalApt)("pageview")}),history&&history.pushState){var P=window.location.href;this.handlePushState=this.handlePushState.bind(this);this.oldPushState=history.pushState;history.pushState=this.handlePushState;window.addEventListener("popstate",function(D){D.singleSpa||P!==window.location.href&&
(P=window.location.href,(0,e.featureEnabled)("pageView")&&(0,n.internalApt)("pageview"))})}history&&history.replaceState&&(this.handleReplaceState=this.handleReplaceState.bind(this),this.oldReplaceState=history.replaceState,history.replaceState=this.handleReplaceState)}catch(D){if(!(D instanceof TypeError&&D.message&&0<=D.message.indexOf("read only property")))throw D;!function(){var O=window.location.href,W=setInterval(function(){try{(0,e.featureEnabled)("pageView")&&window.location.href!==O&&(O=
window.location.href,(0,n.internalApt)("pageview"))}catch(ba){l.logger.logInternalError(Error("Alternate pageview tracking failed"+ba)),clearInterval(W)}},1E3)}()}}}},{key:"handlePushState",value:function(){this.handleStateChange(arguments,this.oldPushState,!1)}},{key:"handleReplaceState",value:function(){this.handleStateChange(arguments,this.oldReplaceState,!0)}},{key:"handleStateChange",value:function(I,Q,P){var D=window.location.href;if(Q.apply(history,I),(0,e.getConfig)("enableTag")){if(P&&3<=
I.length&&(Q=document.createElement("a"),Q.href=I[2],Q.href===D))return;(0,e.featureEnabled)("pageView")&&setTimeout(function(){try{(0,n.internalApt)("pageview")}catch(O){l.logger.logInternalError(Error("failed to handle push state "+O))}},0)}}},{key:"sendWebEvent",value:function(I){try{if((0,e.getConfig)("enableTag")){var Q=(0,f.getEventTarget)(I),P=Q,D=[],O=void 0,W={};if(3==I.which)return void l.logger.log("ignoring right click");if(v(Q,I)){for(;null!==Q&&"html"!==Q[r][B]();)O=w(Q),D.push(O),Q=
(0,f.getParentNode)(Q);W.elementTree=D.reverse();W=this.populateExtraProperties(P,I,W);W.targetElement=P;var ba=this.getEventType(P,I);try{g.default.matchElement(P)}catch(ma){l.logger.logInternalError(ma,"failed to process feature matches for element click")}(0,t.decryptElementTreeAttributes)(W.elementTree).then(function(ma){W.elementTree=ma;(0,n.internalApt)(ba,W)}).catch(function(ma){l.logger.logInternalError(ma,"failed to decrypt element tree for event: "+ba);(0,n.internalApt)(ba,W)})}}}catch(ma){l.logger.logInternalError(ma,
"sendWebEvent:"+I+"\nelement:"+I.target)}}},{key:"getEventType",value:function(I,Q){return"form"===I[r][B]()?"formSubmit":"a"==I[r][B]()?"linkClick":"click"}},{key:"populateExtraProperties",value:function(I,Q,P){if((0,e.getConfig)("enableTag")){if("form"===I[r][B]()&&"submit"===Q.type){Q={};var D=void 0,O=void 0,W=I.querySelectorAll("input");if(void 0!==W){for(var ba=0;ba<W.length;ba++){var ma=W[ba];"password"!==(O=ma.getAttribute("type"))&&"button"!==O&&"submit"!==O&&2048>=ma.value.length&&(D=ma.getAttribute("id")||
ma.getAttribute("name"))&&(Q[D]=ma.value)}P.fof=Q}}"button"===I[r][B]()&&((Q=(0,e.getConfig)("elementAttributeDenyMap").button)&&-1!==Q.indexOf("value")||(P.value=I.textContent));if("select"===I[r][B]()&&(Q=(0,e.getConfig)("elementAttributeDenyMap").select,!Q||-1===Q.indexOf("value")))if(I.multiple){Q=[];I=I.options;for(ma=0;ma<I.length;ma++)I[ma].selected&&Q.push(I[ma].value);P.value=Q.join(",")}else P.value=I.value;return P}}},{key:"addEventListener",value:function(I,Q,P){var D=(0,e.getConfig)("sfdcTemplate");
if(D&&I===document&&(I=D),I.addEventListener)I.addEventListener(Q,P,!0);else{if(!I.attachEvent)return l.logger.log("there is no support for adding events"),!1;I.attachEvent("on"+Q,P)}return!0}}]),F}();b.EventTracker=c},,,,function(E,b,c){c(405);c(112);c(111);E.exports=c(410)}])}
function setupUserTelemetryAdapter(){function E(y){return function(q){function w(v){v=y(v);return v.startsWith("/")?"https://obfuscated-rm-base.example.com"+v:v}q.url&&(q.url=w(q.url));q.path&&(q.path=y(q.path));q.referrer&&(q.referrer=w(q.referrer));q.title&&(q.title="");return q}}function b(y,q){var w=window.aptrinsic||function(){w.q.push(arguments)};w.c=Object.assign({},q,w.c);w.p=y;w.q=[];window.aptrinsic=w}var c=!1;window.userTelemetry={initialize:function(y){c||(c=!0,b("AP-YFGMCGUNNIFB-2",{espProxyDomain:y.contentHost,
contentProxyDomain:y.contentHost,storageProxyDomain:y.contentHost+"/storage",usePOST:y.usePOST||!1,filterUrls:y.filterUrls||["*"],filterType:y.filterType||"exclude",maskUrlFunction:E(y.sanitizeUrl),trustedOrigin:window.location.origin,stripSafeUrlProtocol:!1,elementAttributeDenyMap:{button:["value"],select:["value"]}}),sonatypeStartGainsightPx());var q=y.visitor||{id:"anonymous-"+y.account.id};window.aptrinsic("set","globalContext",{rm_serverVersion:y.account.rm_serverVersion});window.aptrinsic("identify",
q,y.account)}}}(function(){setupUserTelemetryAdapter()})();